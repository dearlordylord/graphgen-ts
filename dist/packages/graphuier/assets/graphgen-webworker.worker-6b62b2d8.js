(function(){"use strict";var Sm=function(t,n,e){if(e||arguments.length===2)for(var r=0,i=n.length,u;r<i;r++)(u||!(r in n))&&(u||(u=Array.prototype.slice.call(n,0,r)),u[r]=n[r]);return t.concat(u||Array.prototype.slice.call(n))},oe=function(t){return function(n){return n(t)}};function Ht(t){return t}var Jl=Ht;function pe(t){return function(){return t}}var Fi=pe(!0),Mm=pe(null),Rm=pe(void 0);function Y(t,n,e,r,i,u,a,o,c){switch(arguments.length){case 1:return t;case 2:return function(){return n(t.apply(this,arguments))};case 3:return function(){return e(n(t.apply(this,arguments)))};case 4:return function(){return r(e(n(t.apply(this,arguments))))};case 5:return function(){return i(r(e(n(t.apply(this,arguments)))))};case 6:return function(){return u(i(r(e(n(t.apply(this,arguments))))))};case 7:return function(){return a(u(i(r(e(n(t.apply(this,arguments)))))))};case 8:return function(){return o(a(u(i(r(e(n(t.apply(this,arguments))))))))};case 9:return function(){return c(o(a(u(i(r(e(n(t.apply(this,arguments)))))))))}}}function Zl(t){throw new Error("Called `absurd` function which should be uncallable")}function Q(t,n,e,r,i,u,a,o,c){switch(arguments.length){case 1:return t;case 2:return n(t);case 3:return e(n(t));case 4:return r(e(n(t)));case 5:return i(r(e(n(t))));case 6:return u(i(r(e(n(t)))));case 7:return a(u(i(r(e(n(t))))));case 8:return o(a(u(i(r(e(n(t)))))));case 9:return c(o(a(u(i(r(e(n(t))))))));default:{for(var l=arguments[0],f=1;f<arguments.length;f++)l=arguments[f](l);return l}}}var jr=function(t,n){var e=typeof t=="number"?function(r){return r.length>=t}:t;return function(){var r=Array.from(arguments);return e(arguments)?n.apply(this,r):function(i){return n.apply(void 0,Sm([i],r,!1))}}},et=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Am(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function _o(t){if(t.__esModule)return t;var n=t.default;if(typeof n=="function"){var e=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var u=Function.bind.apply(n,i);return new u}return n.apply(this,arguments)};e.prototype=n.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),e}var We={},De={},ce={},Mn={},Yt={},yt={};(function(t){var n=et&&et.__spreadArray||function(R,N,G){if(G||arguments.length===2)for(var T=0,ut=N.length,pt;T<ut;T++)(pt||!(T in N))&&(pt||(pt=Array.prototype.slice.call(N,0,T)),pt[T]=N[T]);return R.concat(pt||Array.prototype.slice.call(N))};Object.defineProperty(t,"__esModule",{value:!0}),t.dual=t.getEndomorphismMonoid=t.not=t.SK=t.hole=t.pipe=t.untupled=t.tupled=t.absurd=t.decrement=t.increment=t.tuple=t.flow=t.flip=t.constVoid=t.constUndefined=t.constNull=t.constFalse=t.constTrue=t.constant=t.unsafeCoerce=t.identity=t.apply=t.getRing=t.getSemiring=t.getMonoid=t.getSemigroup=t.getBooleanAlgebra=void 0;var e=function(R){return function(){return{meet:function(N,G){return function(T){return R.meet(N(T),G(T))}},join:function(N,G){return function(T){return R.join(N(T),G(T))}},zero:function(){return R.zero},one:function(){return R.one},implies:function(N,G){return function(T){return R.implies(N(T),G(T))}},not:function(N){return function(G){return R.not(N(G))}}}}};t.getBooleanAlgebra=e;var r=function(R){return function(){return{concat:function(N,G){return function(T){return R.concat(N(T),G(T))}}}}};t.getSemigroup=r;var i=function(R){var N=(0,t.getSemigroup)(R);return function(){return{concat:N().concat,empty:function(){return R.empty}}}};t.getMonoid=i;var u=function(R){return{add:function(N,G){return function(T){return R.add(N(T),G(T))}},zero:function(){return R.zero},mul:function(N,G){return function(T){return R.mul(N(T),G(T))}},one:function(){return R.one}}};t.getSemiring=u;var a=function(R){var N=(0,t.getSemiring)(R);return{add:N.add,mul:N.mul,one:N.one,zero:N.zero,sub:function(G,T){return function(ut){return R.sub(G(ut),T(ut))}}}};t.getRing=a;var o=function(R){return function(N){return N(R)}};t.apply=o;function c(R){return R}t.identity=c,t.unsafeCoerce=c;function l(R){return function(){return R}}t.constant=l,t.constTrue=l(!0),t.constFalse=l(!1),t.constNull=l(null),t.constUndefined=l(void 0),t.constVoid=t.constUndefined;function f(R){return function(){for(var N=[],G=0;G<arguments.length;G++)N[G]=arguments[G];return N.length>1?R(N[1],N[0]):function(T){return R(T)(N[0])}}}t.flip=f;function h(R,N,G,T,ut,pt,Ft,Nt,ct){switch(arguments.length){case 1:return R;case 2:return function(){return N(R.apply(this,arguments))};case 3:return function(){return G(N(R.apply(this,arguments)))};case 4:return function(){return T(G(N(R.apply(this,arguments))))};case 5:return function(){return ut(T(G(N(R.apply(this,arguments)))))};case 6:return function(){return pt(ut(T(G(N(R.apply(this,arguments))))))};case 7:return function(){return Ft(pt(ut(T(G(N(R.apply(this,arguments)))))))};case 8:return function(){return Nt(Ft(pt(ut(T(G(N(R.apply(this,arguments))))))))};case 9:return function(){return ct(Nt(Ft(pt(ut(T(G(N(R.apply(this,arguments)))))))))}}}t.flow=h;function g(){for(var R=[],N=0;N<arguments.length;N++)R[N]=arguments[N];return R}t.tuple=g;function I(R){return R+1}t.increment=I;function A(R){return R-1}t.decrement=A;function _(R){throw new Error("Called `absurd` function which should be uncallable")}t.absurd=_;function M(R){return function(N){return R.apply(void 0,N)}}t.tupled=M;function E(R){return function(){for(var N=[],G=0;G<arguments.length;G++)N[G]=arguments[G];return R(N)}}t.untupled=E;function O(R,N,G,T,ut,pt,Ft,Nt,ct){switch(arguments.length){case 1:return R;case 2:return N(R);case 3:return G(N(R));case 4:return T(G(N(R)));case 5:return ut(T(G(N(R))));case 6:return pt(ut(T(G(N(R)))));case 7:return Ft(pt(ut(T(G(N(R))))));case 8:return Nt(Ft(pt(ut(T(G(N(R)))))));case 9:return ct(Nt(Ft(pt(ut(T(G(N(R))))))));default:{for(var st=arguments[0],ft=1;ft<arguments.length;ft++)st=arguments[ft](st);return st}}}t.pipe=O,t.hole=_;var B=function(R,N){return N};t.SK=B;function V(R){return function(N){return!R(N)}}t.not=V;var rt=function(){return{concat:function(R,N){return h(R,N)},empty:c}};t.getEndomorphismMonoid=rt;var J=function(R,N){var G=typeof R=="number"?function(T){return T.length>=R}:R;return function(){var T=Array.from(arguments);return G(arguments)?N.apply(this,T):function(ut){return N.apply(void 0,n([ut],T,!1))}}};t.dual=J})(yt),Object.defineProperty(Yt,"__esModule",{value:!0}),Yt.asUnit=Yt.as=Yt.getFunctorComposition=Yt.let=Yt.bindTo=Yt.flap=Yt.map=void 0;var wm=yt;function Xl(t,n){return function(e){return function(r){return t.map(r,function(i){return n.map(i,e)})}}}Yt.map=Xl;function Em(t){return function(n){return function(e){return t.map(e,function(r){return r(n)})}}}Yt.flap=Em;function Wm(t){return function(n){return function(e){return t.map(e,function(r){var i;return i={},i[n]=r,i})}}}Yt.bindTo=Wm;function Om(t){return function(n,e){return function(r){return t.map(r,function(i){var u;return Object.assign({},i,(u={},u[n]=e(i),u))})}}}Yt.let=Om;function $m(t,n){var e=Xl(t,n);return{map:function(r,i){return(0,wm.pipe)(r,e(i))}}}Yt.getFunctorComposition=$m;function Yl(t){return function(n,e){return t.map(n,function(){return e})}}Yt.as=Yl;function Nm(t){var n=Yl(t);return function(e){return n(e,void 0)}}Yt.asUnit=Nm;var on={};Object.defineProperty(on,"__esModule",{value:!0}),on.URI=void 0,on.URI="fp-ts-stream/Stream",function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.let=t.bindTo=t.FunctorWithIndex=t.Functor=t.mapWithIndex=t.map=void 0;const n=Yt,e=on;function r(a){return function(c){return function*(){for(const f of c())yield a(f)}}}t.map=r;function i(a){return function(c){return function*(){let f=0;for(const h of c())yield a(f++,h)}}}t.mapWithIndex=i,t.Functor={URI:e.URI,map(a,o){return r(o)(a)}},t.FunctorWithIndex={URI:e.URI,map:t.Functor.map,mapWithIndex(a,o){return i(o)(a)}},t.bindTo=(0,n.bindTo)(t.Functor);const u=(0,n.let)(t.Functor);t.let=u}(Mn);var Bn={};Object.defineProperty(Bn,"__esModule",{value:!0}),Bn.Pointed=Bn.of=void 0;const Cm=on;function Ql(t){return function*(){yield t}}Bn.of=Ql,Bn.Pointed={URI:Cm.URI,of:Ql},Object.defineProperty(ce,"__esModule",{value:!0}),ce.Applicative=ce.ap=void 0;const Lm=Mn,Fm=Bn,Um=on;function xl(t){return function(e){return function*(){for(const i of t())for(const u of e())yield u(i)}}}ce.ap=xl,ce.Applicative={URI:Um.URI,map:Lm.Functor.map,of:Fm.Pointed.of,ap(t,n){return xl(n)(t)}};var le={},or={};Object.defineProperty(or,"__esModule",{value:!0}),or.guard=void 0;function Bm(t,n){return function(e){return e?n.of(void 0):t.zero()}}or.guard=Bm,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.guard=t.Zero=t.empty=t.zero=void 0;const n=or,e=Bn,r=on;function i(){return function*(){}}t.zero=i,t.empty=i(),t.Zero={URI:r.URI,zero:i},t.guard=(0,n.guard)(t.Zero,e.Pointed)}(le),Object.defineProperty(De,"__esModule",{value:!0}),De.Alternative=De.alt=De.altW=void 0;const km=ce,zm=Mn,Pm=Bn,jm=on,Tm=le;function tf(t){return function(e){return function*(){yield*e(),yield*t()()}}}De.altW=tf;function nf(t){return tf(t)}De.alt=nf,De.Alternative={URI:jm.URI,ap:km.Applicative.ap,map:zm.Functor.map,of:Pm.Pointed.of,zero:Tm.Zero.zero,alt(t,n){return nf(n)(t)}};var ef={},Qt={},fe={};(function(t){var n=et&&et.__spreadArray||function(R,N,G){if(G||arguments.length===2)for(var T=0,ut=N.length,pt;T<ut;T++)(pt||!(T in N))&&(pt||(pt=Array.prototype.slice.call(N,0,T)),pt[T]=N[T]);return R.concat(pt||Array.prototype.slice.call(N))};Object.defineProperty(t,"__esModule",{value:!0}),t.flatMapReader=t.flatMapTask=t.flatMapIO=t.flatMapEither=t.flatMapOption=t.flatMapNullable=t.liftOption=t.liftNullable=t.fromReadonlyNonEmptyArray=t.has=t.emptyRecord=t.emptyReadonlyArray=t.tail=t.head=t.isNonEmpty=t.singleton=t.right=t.left=t.isRight=t.isLeft=t.some=t.none=t.isSome=t.isNone=void 0;var e=yt,r=function(R){return R._tag==="None"};t.isNone=r;var i=function(R){return R._tag==="Some"};t.isSome=i,t.none={_tag:"None"};var u=function(R){return{_tag:"Some",value:R}};t.some=u;var a=function(R){return R._tag==="Left"};t.isLeft=a;var o=function(R){return R._tag==="Right"};t.isRight=o;var c=function(R){return{_tag:"Left",left:R}};t.left=c;var l=function(R){return{_tag:"Right",right:R}};t.right=l;var f=function(R){return[R]};t.singleton=f;var h=function(R){return R.length>0};t.isNonEmpty=h;var g=function(R){return R[0]};t.head=g;var I=function(R){return R.slice(1)};t.tail=I,t.emptyReadonlyArray=[],t.emptyRecord={},t.has=Object.prototype.hasOwnProperty;var A=function(R){return n([R[0]],R.slice(1),!0)};t.fromReadonlyNonEmptyArray=A;var _=function(R){return function(N,G){return function(){for(var T=[],ut=0;ut<arguments.length;ut++)T[ut]=arguments[ut];var pt=N.apply(void 0,T);return R.fromEither(pt==null?(0,t.left)(G.apply(void 0,T)):(0,t.right)(pt))}}};t.liftNullable=_;var M=function(R){return function(N,G){return function(){for(var T=[],ut=0;ut<arguments.length;ut++)T[ut]=arguments[ut];var pt=N.apply(void 0,T);return R.fromEither((0,t.isNone)(pt)?(0,t.left)(G.apply(void 0,T)):(0,t.right)(pt.value))}}};t.liftOption=M;var E=function(R,N){return(0,e.dual)(3,function(G,T,ut){return N.flatMap(G,(0,t.liftNullable)(R)(T,ut))})};t.flatMapNullable=E;var O=function(R,N){return(0,e.dual)(3,function(G,T,ut){return N.flatMap(G,(0,t.liftOption)(R)(T,ut))})};t.flatMapOption=O;var B=function(R,N){return(0,e.dual)(2,function(G,T){return N.flatMap(G,function(ut){return R.fromEither(T(ut))})})};t.flatMapEither=B;var V=function(R,N){return(0,e.dual)(2,function(G,T){return N.flatMap(G,function(ut){return R.fromIO(T(ut))})})};t.flatMapIO=V;var rt=function(R,N){return(0,e.dual)(2,function(G,T){return N.flatMap(G,function(ut){return R.fromTask(T(ut))})})};t.flatMapTask=rt;var J=function(R,N){return(0,e.dual)(2,function(G,T){return N.flatMap(G,function(ut){return R.fromReader(T(ut))})})};t.flatMapReader=J})(fe);var qm=et&&et.__createBinding||(Object.create?function(t,n,e,r){r===void 0&&(r=e);var i=Object.getOwnPropertyDescriptor(n,e);(!i||("get"in i?!n.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return n[e]}}),Object.defineProperty(t,r,i)}:function(t,n,e,r){r===void 0&&(r=e),t[r]=n[e]}),Dm=et&&et.__setModuleDefault||(Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n}),Km=et&&et.__importStar||function(t){if(t&&t.__esModule)return t;var n={};if(t!=null)for(var e in t)e!=="default"&&Object.prototype.hasOwnProperty.call(t,e)&&qm(n,t,e);return Dm(n,t),n};Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.sequenceS=Qt.sequenceT=Qt.getApplySemigroup=Qt.apS=Qt.apSecond=Qt.apFirst=Qt.ap=void 0;var Vm=yt,Gm=Km(fe);function Hm(t,n){return function(e){return function(r){return t.ap(t.map(r,function(i){return function(u){return n.ap(i,u)}}),e)}}}Qt.ap=Hm;function Jm(t){return function(n){return function(e){return t.ap(t.map(e,function(r){return function(){return r}}),n)}}}Qt.apFirst=Jm;function Zm(t){return function(n){return function(e){return t.ap(t.map(e,function(){return function(r){return r}}),n)}}}Qt.apSecond=Zm;function Xm(t){return function(n,e){return function(r){return t.ap(t.map(r,function(i){return function(u){var a;return Object.assign({},i,(a={},a[n]=u,a))}}),e)}}}Qt.apS=Xm;function Ym(t){return function(n){return{concat:function(e,r){return t.ap(t.map(e,function(i){return function(u){return n.concat(i,u)}}),r)}}}}Qt.getApplySemigroup=Ym;function Io(t,n,e){return function(r){for(var i=Array(e.length+1),u=0;u<e.length;u++)i[u]=e[u];return i[e.length]=r,n===0?t.apply(null,i):Io(t,n-1,i)}}var bo={1:function(t){return[t]},2:function(t){return function(n){return[t,n]}},3:function(t){return function(n){return function(e){return[t,n,e]}}},4:function(t){return function(n){return function(e){return function(r){return[t,n,e,r]}}}},5:function(t){return function(n){return function(e){return function(r){return function(i){return[t,n,e,r,i]}}}}}};function Qm(t){return Gm.has.call(bo,t)||(bo[t]=Io(Vm.tuple,t-1,[])),bo[t]}function xm(t){return function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var r=n.length,i=Qm(r),u=t.map(n[0],i),a=1;a<r;a++)u=t.ap(u,n[a]);return u}}Qt.sequenceT=xm;function tp(t){var n=t.length;switch(n){case 1:return function(e){var r;return r={},r[t[0]]=e,r};case 2:return function(e){return function(r){var i;return i={},i[t[0]]=e,i[t[1]]=r,i}};case 3:return function(e){return function(r){return function(i){var u;return u={},u[t[0]]=e,u[t[1]]=r,u[t[2]]=i,u}}};case 4:return function(e){return function(r){return function(i){return function(u){var a;return a={},a[t[0]]=e,a[t[1]]=r,a[t[2]]=i,a[t[3]]=u,a}}}};case 5:return function(e){return function(r){return function(i){return function(u){return function(a){var o;return o={},o[t[0]]=e,o[t[1]]=r,o[t[2]]=i,o[t[3]]=u,o[t[4]]=a,o}}}}};default:return Io(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];for(var i={},u=0;u<n;u++)i[t[u]]=e[u];return i},n-1,[])}}function np(t){return function(n){for(var e=Object.keys(n),r=e.length,i=tp(e),u=t.map(n[e[0]],i),a=1;a<r;a++)u=t.ap(u,n[e[a]]);return u}}Qt.sequenceS=np,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.apS=t.apSecond=t.apFirst=t.Apply=void 0;const n=Qt,e=ce,r=Mn,i=on;t.Apply={URI:i.URI,ap:e.Applicative.ap,map:r.Functor.map},t.apFirst=(0,n.apFirst)(t.Apply),t.apSecond=(0,n.apSecond)(t.Apply),t.apS=(0,n.apS)(t.Apply)}(ef);var So={},On={};Object.defineProperty(On,"__esModule",{value:!0}),On.bind=On.tap=On.chainFirst=void 0;function ep(t){var n=rf(t);return function(e){return function(r){return n(r,e)}}}On.chainFirst=ep;function rf(t){return function(n,e){return t.chain(n,function(r){return t.map(e(r),function(){return r})})}}On.tap=rf;function rp(t){return function(n,e){return function(r){return t.chain(r,function(i){return t.map(e(i),function(u){var a;return Object.assign({},i,(a={},a[n]=u,a))})})}}}On.bind=rp;var cr={},lr={};Object.defineProperty(lr,"__esModule",{value:!0}),lr.getApplicativeComposition=lr.getApplicativeMonoid=void 0;var uf=Qt,ip=yt,up=Yt;function ap(t){var n=(0,uf.getApplySemigroup)(t);return function(e){return{concat:n(e).concat,empty:t.of(e.empty)}}}lr.getApplicativeMonoid=ap;function op(t,n){var e=(0,up.getFunctorComposition)(t,n).map,r=(0,uf.ap)(t,n);return{map:e,of:function(i){return t.of(n.of(i))},ap:function(i,u){return(0,ip.pipe)(i,r(u))}}}lr.getApplicativeComposition=op;var Iu={};Object.defineProperty(Iu,"__esModule",{value:!0}),Iu.tailRec=void 0;var cp=function(t,n){for(var e=n(t);e._tag==="Left";)e=n(e.left);return e.right};Iu.tailRec=cp;var xt={},lp=et&&et.__createBinding||(Object.create?function(t,n,e,r){r===void 0&&(r=e);var i=Object.getOwnPropertyDescriptor(n,e);(!i||("get"in i?!n.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return n[e]}}),Object.defineProperty(t,r,i)}:function(t,n,e,r){r===void 0&&(r=e),t[r]=n[e]}),fp=et&&et.__setModuleDefault||(Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n}),sp=et&&et.__importStar||function(t){if(t&&t.__esModule)return t;var n={};if(t!=null)for(var e in t)e!=="default"&&Object.prototype.hasOwnProperty.call(t,e)&&lp(n,t,e);return fp(n,t),n};Object.defineProperty(xt,"__esModule",{value:!0}),xt.tapEither=xt.filterOrElse=xt.chainFirstEitherK=xt.chainEitherK=xt.fromEitherK=xt.chainOptionK=xt.fromOptionK=xt.fromPredicate=xt.fromOption=void 0;var hp=On,af=yt,fr=sp(fe);function of(t){return function(n){return function(e){return t.fromEither(fr.isNone(e)?fr.left(n()):fr.right(e.value))}}}xt.fromOption=of;function dp(t){return function(n,e){return function(r){return t.fromEither(n(r)?fr.right(r):fr.left(e(r)))}}}xt.fromPredicate=dp;function cf(t){var n=of(t);return function(e){var r=n(e);return function(i){return(0,af.flow)(i,r)}}}xt.fromOptionK=cf;function vp(t,n){var e=cf(t);return function(r){var i=e(r);return function(u){return function(a){return n.chain(a,i(u))}}}}xt.chainOptionK=vp;function Mo(t){return function(n){return(0,af.flow)(n,t.fromEither)}}xt.fromEitherK=Mo;function mp(t,n){var e=Mo(t);return function(r){return function(i){return n.chain(i,e(r))}}}xt.chainEitherK=mp;function pp(t,n){var e=lf(t,n);return function(r){return function(i){return e(i,r)}}}xt.chainFirstEitherK=pp;function gp(t,n){return function(e,r){return function(i){return n.chain(i,function(u){return t.fromEither(e(u)?fr.right(u):fr.left(r(u)))})}}}xt.filterOrElse=gp;function lf(t,n){var e=Mo(t),r=(0,hp.tap)(n);return function(i,u){return r(i,e(u))}}xt.tapEither=lf;var Ui={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.right=t.left=t.flap=t.Functor=t.Bifunctor=t.URI=t.bimap=t.mapLeft=t.map=t.separated=void 0;var n=yt,e=Yt,r=function(g,I){return{left:g,right:I}};t.separated=r;var i=function(g,I){return(0,n.pipe)(g,(0,t.map)(I))},u=function(g,I){return(0,n.pipe)(g,(0,t.mapLeft)(I))},a=function(g,I,A){return(0,n.pipe)(g,(0,t.bimap)(I,A))},o=function(g){return function(I){return(0,t.separated)((0,t.left)(I),g((0,t.right)(I)))}};t.map=o;var c=function(g){return function(I){return(0,t.separated)(g((0,t.left)(I)),(0,t.right)(I))}};t.mapLeft=c;var l=function(g,I){return function(A){return(0,t.separated)(g((0,t.left)(A)),I((0,t.right)(A)))}};t.bimap=l,t.URI="Separated",t.Bifunctor={URI:t.URI,mapLeft:u,bimap:a},t.Functor={URI:t.URI,map:i},t.flap=(0,e.flap)(t.Functor);var f=function(g){return g.left};t.left=f;var h=function(g){return g.right};t.right=h})(Ui);var Yn={},yp=et&&et.__createBinding||(Object.create?function(t,n,e,r){r===void 0&&(r=e);var i=Object.getOwnPropertyDescriptor(n,e);(!i||("get"in i?!n.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return n[e]}}),Object.defineProperty(t,r,i)}:function(t,n,e,r){r===void 0&&(r=e),t[r]=n[e]}),_p=et&&et.__setModuleDefault||(Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n}),Ip=et&&et.__importStar||function(t){if(t&&t.__esModule)return t;var n={};if(t!=null)for(var e in t)e!=="default"&&Object.prototype.hasOwnProperty.call(t,e)&&yp(n,t,e);return _p(n,t),n};Object.defineProperty(Yn,"__esModule",{value:!0}),Yn.filterE=Yn.witherDefault=Yn.wiltDefault=void 0;var ff=Ip(fe);function bp(t,n){return function(e){var r=t.traverse(e);return function(i,u){return e.map(r(i,u),n.separate)}}}Yn.wiltDefault=bp;function Sp(t,n){return function(e){var r=t.traverse(e);return function(i,u){return e.map(r(i,u),n.compact)}}}Yn.witherDefault=Sp;function Mp(t){return function(n){var e=t.wither(n);return function(r){return function(i){return e(i,function(u){return n.map(r(u),function(a){return a?ff.some(u):ff.none})})}}}}Yn.filterE=Mp,function(t){var n=et&&et.__createBinding||(Object.create?function(C,$,P,gt){gt===void 0&&(gt=P);var jt=Object.getOwnPropertyDescriptor($,P);(!jt||("get"in jt?!$.__esModule:jt.writable||jt.configurable))&&(jt={enumerable:!0,get:function(){return $[P]}}),Object.defineProperty(C,gt,jt)}:function(C,$,P,gt){gt===void 0&&(gt=P),C[gt]=$[P]}),e=et&&et.__setModuleDefault||(Object.create?function(C,$){Object.defineProperty(C,"default",{enumerable:!0,value:$})}:function(C,$){C.default=$}),r=et&&et.__importStar||function(C){if(C&&C.__esModule)return C;var $={};if(C!=null)for(var P in C)P!=="default"&&Object.prototype.hasOwnProperty.call(C,P)&&n($,C,P);return e($,C),$};Object.defineProperty(t,"__esModule",{value:!0}),t.match=t.foldW=t.matchW=t.isRight=t.isLeft=t.fromOption=t.fromPredicate=t.FromEither=t.MonadThrow=t.throwError=t.ChainRec=t.Extend=t.extend=t.Alt=t.alt=t.altW=t.Bifunctor=t.mapLeft=t.bimap=t.Traversable=t.sequence=t.traverse=t.Foldable=t.reduceRight=t.foldMap=t.reduce=t.Monad=t.Chain=t.Applicative=t.Apply=t.ap=t.apW=t.Pointed=t.of=t.asUnit=t.as=t.Functor=t.map=t.getAltValidation=t.getApplicativeValidation=t.getWitherable=t.getFilterable=t.getCompactable=t.getSemigroup=t.getEq=t.getShow=t.URI=t.flatMap=t.right=t.left=void 0,t.chainFirstW=t.chainFirst=t.chain=t.chainW=t.sequenceArray=t.traverseArray=t.traverseArrayWithIndex=t.traverseReadonlyArrayWithIndex=t.traverseReadonlyNonEmptyArrayWithIndex=t.ApT=t.apSW=t.apS=t.bindW=t.bind=t.let=t.bindTo=t.Do=t.exists=t.elem=t.toError=t.toUnion=t.chainNullableK=t.fromNullableK=t.tryCatchK=t.tryCatch=t.fromNullable=t.orElse=t.orElseW=t.swap=t.filterOrElseW=t.filterOrElse=t.flatMapOption=t.flatMapNullable=t.liftOption=t.liftNullable=t.chainOptionKW=t.chainOptionK=t.fromOptionK=t.duplicate=t.flatten=t.flattenW=t.tap=t.apSecondW=t.apSecond=t.apFirstW=t.apFirst=t.flap=t.getOrElse=t.getOrElseW=t.fold=void 0,t.getValidation=t.getValidationMonoid=t.getValidationSemigroup=t.getApplyMonoid=t.getApplySemigroup=t.either=t.stringifyJSON=t.parseJSON=void 0;var i=lr,u=Qt,a=r(On),o=Iu,c=xt,l=yt,f=Yt,h=r(fe),g=Ui,I=Yn;t.left=h.left,t.right=h.right,t.flatMap=(0,l.dual)(2,function(C,$){return(0,t.isLeft)(C)?C:$(C.right)});var A=function(C,$){return(0,l.pipe)(C,(0,t.map)($))},_=function(C,$){return(0,l.pipe)(C,(0,t.ap)($))},M=function(C,$,P){return(0,l.pipe)(C,(0,t.reduce)($,P))},E=function(C){return function($,P){var gt=(0,t.foldMap)(C);return(0,l.pipe)($,gt(P))}},O=function(C,$,P){return(0,l.pipe)(C,(0,t.reduceRight)($,P))},B=function(C){var $=(0,t.traverse)(C);return function(P,gt){return(0,l.pipe)(P,$(gt))}},V=function(C,$,P){return(0,l.pipe)(C,(0,t.bimap)($,P))},rt=function(C,$){return(0,l.pipe)(C,(0,t.mapLeft)($))},J=function(C,$){return(0,l.pipe)(C,(0,t.alt)($))},R=function(C,$){return(0,l.pipe)(C,(0,t.extend)($))},N=function(C,$){return(0,o.tailRec)($(C),function(P){return(0,t.isLeft)(P)?(0,t.right)((0,t.left)(P.left)):(0,t.isLeft)(P.right)?(0,t.left)($(P.right.left)):(0,t.right)((0,t.right)(P.right.right))})};t.URI="Either";var G=function(C,$){return{show:function(P){return(0,t.isLeft)(P)?"left(".concat(C.show(P.left),")"):"right(".concat($.show(P.right),")")}}};t.getShow=G;var T=function(C,$){return{equals:function(P,gt){return P===gt||((0,t.isLeft)(P)?(0,t.isLeft)(gt)&&C.equals(P.left,gt.left):(0,t.isRight)(gt)&&$.equals(P.right,gt.right))}}};t.getEq=T;var ut=function(C){return{concat:function($,P){return(0,t.isLeft)(P)?$:(0,t.isLeft)($)?P:(0,t.right)(C.concat($.right,P.right))}}};t.getSemigroup=ut;var pt=function(C){var $=(0,t.left)(C.empty);return{URI:t.URI,_E:void 0,compact:function(P){return(0,t.isLeft)(P)?P:P.right._tag==="None"?$:(0,t.right)(P.right.value)},separate:function(P){return(0,t.isLeft)(P)?(0,g.separated)(P,P):(0,t.isLeft)(P.right)?(0,g.separated)((0,t.right)(P.right.left),$):(0,g.separated)($,(0,t.right)(P.right.right))}}};t.getCompactable=pt;var Ft=function(C){var $=(0,t.left)(C.empty),P=(0,t.getCompactable)(C),gt=P.compact,jt=P.separate,L=function(H,Rt){return(0,t.isLeft)(H)||Rt(H.right)?H:$},z=function(H,Rt){return(0,t.isLeft)(H)?(0,g.separated)(H,H):Rt(H.right)?(0,g.separated)($,(0,t.right)(H.right)):(0,g.separated)((0,t.right)(H.right),$)};return{URI:t.URI,_E:void 0,map:A,compact:gt,separate:jt,filter:L,filterMap:function(H,Rt){if((0,t.isLeft)(H))return H;var mt=Rt(H.right);return mt._tag==="None"?$:(0,t.right)(mt.value)},partition:z,partitionMap:function(H,Rt){if((0,t.isLeft)(H))return(0,g.separated)(H,H);var mt=Rt(H.right);return(0,t.isLeft)(mt)?(0,g.separated)((0,t.right)(mt.left),$):(0,g.separated)($,(0,t.right)(mt.right))}}};t.getFilterable=Ft;var Nt=function(C){var $=(0,t.getFilterable)(C),P=(0,t.getCompactable)(C);return{URI:t.URI,_E:void 0,map:A,compact:$.compact,separate:$.separate,filter:$.filter,filterMap:$.filterMap,partition:$.partition,partitionMap:$.partitionMap,traverse:B,sequence:t.sequence,reduce:M,foldMap:E,reduceRight:O,wither:(0,I.witherDefault)(t.Traversable,P),wilt:(0,I.wiltDefault)(t.Traversable,P)}};t.getWitherable=Nt;var ct=function(C){return{URI:t.URI,_E:void 0,map:A,ap:function($,P){return(0,t.isLeft)($)?(0,t.isLeft)(P)?(0,t.left)(C.concat($.left,P.left)):$:(0,t.isLeft)(P)?P:(0,t.right)($.right(P.right))},of:t.of}};t.getApplicativeValidation=ct;var st=function(C){return{URI:t.URI,_E:void 0,map:A,alt:function($,P){if((0,t.isRight)($))return $;var gt=P();return(0,t.isLeft)(gt)?(0,t.left)(C.concat($.left,gt.left)):gt}}};t.getAltValidation=st;var ft=function(C){return function($){return(0,t.isLeft)($)?$:(0,t.right)(C($.right))}};t.map=ft,t.Functor={URI:t.URI,map:A},t.as=(0,l.dual)(2,(0,f.as)(t.Functor)),t.asUnit=(0,f.asUnit)(t.Functor),t.of=t.right,t.Pointed={URI:t.URI,of:t.of};var It=function(C){return function($){return(0,t.isLeft)($)?$:(0,t.isLeft)(C)?C:(0,t.right)($.right(C.right))}};t.apW=It,t.ap=t.apW,t.Apply={URI:t.URI,map:A,ap:_},t.Applicative={URI:t.URI,map:A,ap:_,of:t.of},t.Chain={URI:t.URI,map:A,ap:_,chain:t.flatMap},t.Monad={URI:t.URI,map:A,ap:_,of:t.of,chain:t.flatMap};var tn=function(C,$){return function(P){return(0,t.isLeft)(P)?C:$(C,P.right)}};t.reduce=tn;var qt=function(C){return function($){return function(P){return(0,t.isLeft)(P)?C.empty:$(P.right)}}};t.foldMap=qt;var hn=function(C,$){return function(P){return(0,t.isLeft)(P)?C:$(P.right,C)}};t.reduceRight=hn,t.Foldable={URI:t.URI,reduce:M,foldMap:E,reduceRight:O};var En=function(C){return function($){return function(P){return(0,t.isLeft)(P)?C.of((0,t.left)(P.left)):C.map($(P.right),t.right)}}};t.traverse=En;var Wn=function(C){return function($){return(0,t.isLeft)($)?C.of((0,t.left)($.left)):C.map($.right,t.right)}};t.sequence=Wn,t.Traversable={URI:t.URI,map:A,reduce:M,foldMap:E,reduceRight:O,traverse:B,sequence:t.sequence};var Pn=function(C,$){return function(P){return(0,t.isLeft)(P)?(0,t.left)(C(P.left)):(0,t.right)($(P.right))}};t.bimap=Pn;var jn=function(C){return function($){return(0,t.isLeft)($)?(0,t.left)(C($.left)):$}};t.mapLeft=jn,t.Bifunctor={URI:t.URI,bimap:V,mapLeft:rt};var Fn=function(C){return function($){return(0,t.isLeft)($)?C():$}};t.altW=Fn,t.alt=t.altW,t.Alt={URI:t.URI,map:A,alt:J};var x=function(C){return function($){return(0,t.isLeft)($)?$:(0,t.right)(C($))}};t.extend=x,t.Extend={URI:t.URI,map:A,extend:R},t.ChainRec={URI:t.URI,map:A,ap:_,chain:t.flatMap,chainRec:N},t.throwError=t.left,t.MonadThrow={URI:t.URI,map:A,ap:_,of:t.of,chain:t.flatMap,throwError:t.throwError},t.FromEither={URI:t.URI,fromEither:l.identity},t.fromPredicate=(0,c.fromPredicate)(t.FromEither),t.fromOption=(0,c.fromOption)(t.FromEither),t.isLeft=h.isLeft,t.isRight=h.isRight;var X=function(C,$){return function(P){return(0,t.isLeft)(P)?C(P.left):$(P.right)}};t.matchW=X,t.foldW=t.matchW,t.match=t.matchW,t.fold=t.match;var at=function(C){return function($){return(0,t.isLeft)($)?C($.left):$.right}};t.getOrElseW=at,t.getOrElse=t.getOrElseW,t.flap=(0,f.flap)(t.Functor),t.apFirst=(0,u.apFirst)(t.Apply),t.apFirstW=t.apFirst,t.apSecond=(0,u.apSecond)(t.Apply),t.apSecondW=t.apSecond,t.tap=(0,l.dual)(2,a.tap(t.Chain)),t.flattenW=(0,t.flatMap)(l.identity),t.flatten=t.flattenW,t.duplicate=(0,t.extend)(l.identity),t.fromOptionK=(0,c.fromOptionK)(t.FromEither),t.chainOptionK=(0,c.chainOptionK)(t.FromEither,t.Chain),t.chainOptionKW=t.chainOptionK;var St={fromEither:t.FromEither.fromEither};t.liftNullable=h.liftNullable(St),t.liftOption=h.liftOption(St);var bt={flatMap:t.flatMap};t.flatMapNullable=h.flatMapNullable(St,bt),t.flatMapOption=h.flatMapOption(St,bt),t.filterOrElse=(0,c.filterOrElse)(t.FromEither,t.Chain),t.filterOrElseW=t.filterOrElse;var Ut=function(C){return(0,t.isLeft)(C)?(0,t.right)(C.left):(0,t.left)(C.right)};t.swap=Ut;var nn=function(C){return function($){return(0,t.isLeft)($)?C($.left):$}};t.orElseW=nn,t.orElse=t.orElseW;var Dt=function(C){return function($){return $==null?(0,t.left)(C):(0,t.right)($)}};t.fromNullable=Dt;var Ct=function(C,$){try{return(0,t.right)(C())}catch(P){return(0,t.left)($(P))}};t.tryCatch=Ct;var Xt=function(C,$){return function(){for(var P=[],gt=0;gt<arguments.length;gt++)P[gt]=arguments[gt];return(0,t.tryCatch)(function(){return C.apply(void 0,P)},$)}};t.tryCatchK=Xt;var un=function(C){var $=(0,t.fromNullable)(C);return function(P){return(0,l.flow)(P,$)}};t.fromNullableK=un;var gn=function(C){var $=(0,t.fromNullableK)(C);return function(P){return(0,t.flatMap)($(P))}};t.chainNullableK=gn,t.toUnion=(0,t.foldW)(l.identity,l.identity);function tt(C){return C instanceof Error?C:new Error(String(C))}t.toError=tt;function vt(C){return function($,P){if(P===void 0){var gt=vt(C);return function(jt){return gt($,jt)}}return(0,t.isLeft)(P)?!1:C.equals($,P.right)}}t.elem=vt;var it=function(C){return function($){return(0,t.isLeft)($)?!1:C($.right)}};t.exists=it,t.Do=(0,t.of)(h.emptyRecord),t.bindTo=(0,f.bindTo)(t.Functor);var At=(0,f.let)(t.Functor);t.let=At,t.bind=a.bind(t.Chain),t.bindW=t.bind,t.apS=(0,u.apS)(t.Apply),t.apSW=t.apS,t.ApT=(0,t.of)(h.emptyReadonlyArray);var Kt=function(C){return function($){var P=C(0,h.head($));if((0,t.isLeft)(P))return P;for(var gt=[P.right],jt=1;jt<$.length;jt++){var L=C(jt,$[jt]);if((0,t.isLeft)(L))return L;gt.push(L.right)}return(0,t.right)(gt)}};t.traverseReadonlyNonEmptyArrayWithIndex=Kt;var Bt=function(C){var $=(0,t.traverseReadonlyNonEmptyArrayWithIndex)(C);return function(P){return h.isNonEmpty(P)?$(P):t.ApT}};t.traverseReadonlyArrayWithIndex=Bt,t.traverseArrayWithIndex=t.traverseReadonlyArrayWithIndex;var $t=function(C){return(0,t.traverseReadonlyArrayWithIndex)(function($,P){return C(P)})};t.traverseArray=$t,t.sequenceArray=(0,t.traverseArray)(l.identity),t.chainW=t.flatMap,t.chain=t.flatMap,t.chainFirst=t.tap,t.chainFirstW=t.tap;function an(C,$){return(0,t.tryCatch)(function(){return JSON.parse(C)},$)}t.parseJSON=an;var bn=function(C,$){return(0,t.tryCatch)(function(){var P=JSON.stringify(C);if(typeof P!="string")throw new Error("Converting unsupported structure to JSON");return P},$)};t.stringifyJSON=bn,t.either={URI:t.URI,map:A,of:t.of,ap:_,chain:t.flatMap,reduce:M,foldMap:E,reduceRight:O,traverse:B,sequence:t.sequence,bimap:V,mapLeft:rt,alt:J,extend:R,chainRec:N,throwError:t.throwError},t.getApplySemigroup=(0,u.getApplySemigroup)(t.Apply),t.getApplyMonoid=(0,i.getApplicativeMonoid)(t.Applicative);var yn=function(C,$){return(0,u.getApplySemigroup)((0,t.getApplicativeValidation)(C))($)};t.getValidationSemigroup=yn;var Un=function(C,$){return(0,i.getApplicativeMonoid)((0,t.getApplicativeValidation)(C))($)};t.getValidationMonoid=Un;function kt(C){var $=(0,t.getApplicativeValidation)(C).ap,P=(0,t.getAltValidation)(C).alt;return{URI:t.URI,_E:void 0,map:A,of:t.of,chain:t.flatMap,bimap:V,mapLeft:rt,reduce:M,foldMap:E,reduceRight:O,extend:R,traverse:B,sequence:t.sequence,chainRec:N,throwError:t.throwError,ap:$,alt:P}}t.getValidation=kt}(cr),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.chainFirst=t.bind=t.Do=t.ChainRecBreadthFirst=t.ChainRecDepthFirst=t.Chain=t.chainRecBreadthFirst=t.chainRecDepthFirst=t.chainWithIndex=t.chain=void 0;const n=On,e=cr,r=ce,i=Mn,u=Bn,a=on;function o(h){return function(I){return function*(){for(const _ of I())yield*h(_)()}}}t.chain=o;function c(h){return function(I){return function*(){let _=0;for(const M of I())yield*h(_++,M)()}}}t.chainWithIndex=c;function l(h){return function g(I){return function*(){for(const _ of h(I)())(0,e.isLeft)(_)?yield*g(_.left)():yield _.right}}}t.chainRecDepthFirst=l;function f(h){return function(I){return function*(){const _=[];function*M(E){for(const O of E())(0,e.isLeft)(O)?_.push(h(O.left)):yield O.right}for(yield*M(h(I));_.length>0;){const E=_.shift();yield*M(E)}}}}t.chainRecBreadthFirst=f,t.Chain={URI:a.URI,ap:r.Applicative.ap,map:i.Functor.map,chain(h,g){return o(g)(h)}},t.ChainRecDepthFirst={URI:a.URI,ap:r.Applicative.ap,chain:t.Chain.chain,map:i.Functor.map,chainRec(h,g){return l(g)(h)}},t.ChainRecBreadthFirst={URI:a.URI,ap:r.Applicative.ap,chain:t.Chain.chain,map:i.Functor.map,chainRec(h,g){return f(g)(h)}},t.Do=(0,u.of)({}),t.bind=(0,n.bind)(t.Chain),t.chainFirst=(0,n.chainFirst)(t.Chain)}(So);var ge={},kn={},bu={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.and=t.or=t.not=t.Contravariant=t.getMonoidAll=t.getSemigroupAll=t.getMonoidAny=t.getSemigroupAny=t.URI=t.contramap=void 0;var n=yt,e=function(h,g){return(0,n.pipe)(h,(0,t.contramap)(g))},r=function(h){return function(g){return(0,n.flow)(h,g)}};t.contramap=r,t.URI="Predicate";var i=function(){return{concat:function(h,g){return(0,n.pipe)(h,(0,t.or)(g))}}};t.getSemigroupAny=i;var u=function(){return{concat:(0,t.getSemigroupAny)().concat,empty:n.constFalse}};t.getMonoidAny=u;var a=function(){return{concat:function(h,g){return(0,n.pipe)(h,(0,t.and)(g))}}};t.getSemigroupAll=a;var o=function(){return{concat:(0,t.getSemigroupAll)().concat,empty:n.constTrue}};t.getMonoidAll=o,t.Contravariant={URI:t.URI,contramap:e};var c=function(h){return function(g){return!h(g)}};t.not=c;var l=function(h){return function(g){return function(I){return g(I)||h(I)}}};t.or=l;var f=function(h){return function(g){return function(I){return g(I)&&h(I)}}};t.and=f})(bu);var Ro={},Qn={};Object.defineProperty(Qn,"__esModule",{value:!0}),Qn.concatAll=Qn.endo=Qn.filterSecond=Qn.filterFirst=Qn.reverse=void 0;var Rp=function(t){return{concat:function(n,e){return t.concat(e,n)}}};Qn.reverse=Rp;var Ap=function(t){return function(n){return{concat:function(e,r){return t(e)?n.concat(e,r):r}}}};Qn.filterFirst=Ap;var wp=function(t){return function(n){return{concat:function(e,r){return t(r)?n.concat(e,r):e}}}};Qn.filterSecond=wp;var Ep=function(t){return function(n){return{concat:function(e,r){return n.concat(t(e),t(r))}}}};Qn.endo=Ep;var Wp=function(t){return function(n){return function(e){return e.reduce(function(r,i){return t.concat(r,i)},n)}}};Qn.concatAll=Wp;var Bi={},Su={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.eqDate=t.eqNumber=t.eqString=t.eqBoolean=t.eq=t.strictEqual=t.getStructEq=t.getTupleEq=t.Contravariant=t.getMonoid=t.getSemigroup=t.eqStrict=t.URI=t.contramap=t.tuple=t.struct=t.fromEquals=void 0;var n=yt,e=function(f){return{equals:function(h,g){return h===g||f(h,g)}}};t.fromEquals=e;var r=function(f){return(0,t.fromEquals)(function(h,g){for(var I in f)if(!f[I].equals(h[I],g[I]))return!1;return!0})};t.struct=r;var i=function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];return(0,t.fromEquals)(function(g,I){return f.every(function(A,_){return A.equals(g[_],I[_])})})};t.tuple=i;var u=function(f,h){return(0,n.pipe)(f,(0,t.contramap)(h))},a=function(f){return function(h){return(0,t.fromEquals)(function(g,I){return h.equals(f(g),f(I))})}};t.contramap=a,t.URI="Eq",t.eqStrict={equals:function(f,h){return f===h}};var o={equals:function(){return!0}},c=function(){return{concat:function(f,h){return(0,t.fromEquals)(function(g,I){return f.equals(g,I)&&h.equals(g,I)})}}};t.getSemigroup=c;var l=function(){return{concat:(0,t.getSemigroup)().concat,empty:o}};t.getMonoid=l,t.Contravariant={URI:t.URI,contramap:u},t.getTupleEq=t.tuple,t.getStructEq=t.struct,t.strictEqual=t.eqStrict.equals,t.eq=t.Contravariant,t.eqBoolean=t.eqStrict,t.eqString=t.eqStrict,t.eqNumber=t.eqStrict,t.eqDate={equals:function(f,h){return f.valueOf()===h.valueOf()}}})(Su),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ordDate=t.ordNumber=t.ordString=t.ordBoolean=t.ord=t.getDualOrd=t.getTupleOrd=t.between=t.clamp=t.max=t.min=t.geq=t.leq=t.gt=t.lt=t.equals=t.trivial=t.Contravariant=t.getMonoid=t.getSemigroup=t.URI=t.contramap=t.reverse=t.tuple=t.fromCompare=t.equalsDefault=void 0;var n=Su,e=yt,r=function(J){return function(R,N){return R===N||J(R,N)===0}};t.equalsDefault=r;var i=function(J){return{equals:(0,t.equalsDefault)(J),compare:function(R,N){return R===N?0:J(R,N)}}};t.fromCompare=i;var u=function(){for(var J=[],R=0;R<arguments.length;R++)J[R]=arguments[R];return(0,t.fromCompare)(function(N,G){for(var T=0;T<J.length-1;T++){var ut=J[T].compare(N[T],G[T]);if(ut!==0)return ut}return J[T].compare(N[T],G[T])})};t.tuple=u;var a=function(J){return(0,t.fromCompare)(function(R,N){return J.compare(N,R)})};t.reverse=a;var o=function(J,R){return(0,e.pipe)(J,(0,t.contramap)(R))},c=function(J){return function(R){return(0,t.fromCompare)(function(N,G){return R.compare(J(N),J(G))})}};t.contramap=c,t.URI="Ord";var l=function(){return{concat:function(J,R){return(0,t.fromCompare)(function(N,G){var T=J.compare(N,G);return T!==0?T:R.compare(N,G)})}}};t.getSemigroup=l;var f=function(){return{concat:(0,t.getSemigroup)().concat,empty:(0,t.fromCompare)(function(){return 0})}};t.getMonoid=f,t.Contravariant={URI:t.URI,contramap:o},t.trivial={equals:e.constTrue,compare:(0,e.constant)(0)};var h=function(J){return function(R){return function(N){return N===R||J.compare(N,R)===0}}};t.equals=h;var g=function(J){return function(R,N){return J.compare(R,N)===-1}};t.lt=g;var I=function(J){return function(R,N){return J.compare(R,N)===1}};t.gt=I;var A=function(J){return function(R,N){return J.compare(R,N)!==1}};t.leq=A;var _=function(J){return function(R,N){return J.compare(R,N)!==-1}};t.geq=_;var M=function(J){return function(R,N){return R===N||J.compare(R,N)<1?R:N}};t.min=M;var E=function(J){return function(R,N){return R===N||J.compare(R,N)>-1?R:N}};t.max=E;var O=function(J){var R=(0,t.min)(J),N=(0,t.max)(J);return function(G,T){return function(ut){return N(R(ut,T),G)}}};t.clamp=O;var B=function(J){var R=(0,t.lt)(J),N=(0,t.gt)(J);return function(G,T){return function(ut){return!(R(ut,G)||N(ut,T))}}};t.between=B,t.getTupleOrd=t.tuple,t.getDualOrd=t.reverse,t.ord=t.Contravariant;function V(J,R){return J<R?-1:J>R?1:0}var rt={equals:n.eqStrict.equals,compare:V};t.ordBoolean=rt,t.ordString=rt,t.ordNumber=rt,t.ordDate=(0,e.pipe)(t.ordNumber,(0,t.contramap)(function(J){return J.valueOf()}))}(Bi),function(t){var n=et&&et.__createBinding||(Object.create?function(O,B,V,rt){rt===void 0&&(rt=V);var J=Object.getOwnPropertyDescriptor(B,V);(!J||("get"in J?!B.__esModule:J.writable||J.configurable))&&(J={enumerable:!0,get:function(){return B[V]}}),Object.defineProperty(O,rt,J)}:function(O,B,V,rt){rt===void 0&&(rt=V),O[rt]=B[V]}),e=et&&et.__setModuleDefault||(Object.create?function(O,B){Object.defineProperty(O,"default",{enumerable:!0,value:B})}:function(O,B){O.default=B}),r=et&&et.__importStar||function(O){if(O&&O.__esModule)return O;var B={};if(O!=null)for(var V in O)V!=="default"&&Object.prototype.hasOwnProperty.call(O,V)&&n(B,O,V);return e(B,O),B};Object.defineProperty(t,"__esModule",{value:!0}),t.semigroupProduct=t.semigroupSum=t.semigroupString=t.getFunctionSemigroup=t.semigroupAny=t.semigroupAll=t.fold=t.getIntercalateSemigroup=t.getMeetSemigroup=t.getJoinSemigroup=t.getDualSemigroup=t.getStructSemigroup=t.getTupleSemigroup=t.getFirstSemigroup=t.getLastSemigroup=t.getObjectSemigroup=t.semigroupVoid=t.concatAll=t.last=t.first=t.intercalate=t.tuple=t.struct=t.reverse=t.constant=t.max=t.min=void 0;var i=yt,u=r(fe),a=r(Qn),o=r(Bi),c=function(O){return{concat:o.min(O)}};t.min=c;var l=function(O){return{concat:o.max(O)}};t.max=l;var f=function(O){return{concat:function(){return O}}};t.constant=f,t.reverse=a.reverse;var h=function(O){return{concat:function(B,V){var rt={};for(var J in O)u.has.call(O,J)&&(rt[J]=O[J].concat(B[J],V[J]));return rt}}};t.struct=h;var g=function(){for(var O=[],B=0;B<arguments.length;B++)O[B]=arguments[B];return{concat:function(V,rt){return O.map(function(J,R){return J.concat(V[R],rt[R])})}}};t.tuple=g;var I=function(O){return function(B){return{concat:function(V,rt){return B.concat(V,B.concat(O,rt))}}}};t.intercalate=I;var A=function(){return{concat:i.identity}};t.first=A;var _=function(){return{concat:function(O,B){return B}}};t.last=_,t.concatAll=a.concatAll,t.semigroupVoid=(0,t.constant)(void 0);var M=function(){return{concat:function(O,B){return Object.assign({},O,B)}}};t.getObjectSemigroup=M,t.getLastSemigroup=t.last,t.getFirstSemigroup=t.first,t.getTupleSemigroup=t.tuple,t.getStructSemigroup=t.struct,t.getDualSemigroup=t.reverse,t.getJoinSemigroup=t.max,t.getMeetSemigroup=t.min,t.getIntercalateSemigroup=t.intercalate;function E(O){var B=(0,t.concatAll)(O);return function(V,rt){return rt===void 0?B(V):B(V)(rt)}}t.fold=E,t.semigroupAll={concat:function(O,B){return O&&B}},t.semigroupAny={concat:function(O,B){return O||B}},t.getFunctionSemigroup=i.getSemigroup,t.semigroupString={concat:function(O,B){return O+B}},t.semigroupSum={concat:function(O,B){return O+B}},t.semigroupProduct={concat:function(O,B){return O*B}}}(Ro),function(t){var n=et&&et.__createBinding||(Object.create?function(L,z,H,Rt){Rt===void 0&&(Rt=H);var mt=Object.getOwnPropertyDescriptor(z,H);(!mt||("get"in mt?!z.__esModule:mt.writable||mt.configurable))&&(mt={enumerable:!0,get:function(){return z[H]}}),Object.defineProperty(L,Rt,mt)}:function(L,z,H,Rt){Rt===void 0&&(Rt=H),L[Rt]=z[H]}),e=et&&et.__setModuleDefault||(Object.create?function(L,z){Object.defineProperty(L,"default",{enumerable:!0,value:z})}:function(L,z){L.default=z}),r=et&&et.__importStar||function(L){if(L&&L.__esModule)return L;var z={};if(L!=null)for(var H in L)H!=="default"&&Object.prototype.hasOwnProperty.call(L,H)&&n(z,L,H);return e(z,L),z};Object.defineProperty(t,"__esModule",{value:!0}),t.Witherable=t.wilt=t.wither=t.Traversable=t.sequence=t.traverse=t.Filterable=t.partitionMap=t.partition=t.filterMap=t.filter=t.Compactable=t.separate=t.compact=t.Extend=t.extend=t.Alternative=t.guard=t.Zero=t.zero=t.Alt=t.alt=t.altW=t.orElse=t.Foldable=t.reduceRight=t.foldMap=t.reduce=t.Monad=t.Chain=t.flatMap=t.Applicative=t.Apply=t.ap=t.Pointed=t.of=t.asUnit=t.as=t.Functor=t.map=t.getMonoid=t.getOrd=t.getEq=t.getShow=t.URI=t.getRight=t.getLeft=t.fromPredicate=t.some=t.none=void 0,t.getFirstMonoid=t.getApplyMonoid=t.getApplySemigroup=t.option=t.mapNullable=t.getRefinement=t.chainFirst=t.chain=t.sequenceArray=t.traverseArray=t.traverseArrayWithIndex=t.traverseReadonlyArrayWithIndex=t.traverseReadonlyNonEmptyArrayWithIndex=t.ApT=t.apS=t.bind=t.let=t.bindTo=t.Do=t.exists=t.elem=t.toUndefined=t.toNullable=t.chainNullableK=t.fromNullableK=t.tryCatchK=t.tryCatch=t.fromNullable=t.chainFirstEitherK=t.chainEitherK=t.fromEitherK=t.duplicate=t.tapEither=t.tap=t.flatten=t.apSecond=t.apFirst=t.flap=t.getOrElse=t.getOrElseW=t.fold=t.match=t.foldW=t.matchW=t.isNone=t.isSome=t.FromEither=t.fromEither=t.MonadThrow=t.throwError=void 0,t.getLastMonoid=void 0;var i=lr,u=Qt,a=r(On),o=xt,c=yt,l=Yt,f=r(fe),h=bu,g=Ro,I=Ui,A=Yn,_=or;t.none=f.none,t.some=f.some;function M(L){return function(z){return L(z)?(0,t.some)(z):t.none}}t.fromPredicate=M;var E=function(L){return L._tag==="Right"?t.none:(0,t.some)(L.left)};t.getLeft=E;var O=function(L){return L._tag==="Left"?t.none:(0,t.some)(L.right)};t.getRight=O;var B=function(L,z){return(0,c.pipe)(L,(0,t.map)(z))},V=function(L,z){return(0,c.pipe)(L,(0,t.ap)(z))},rt=function(L,z,H){return(0,c.pipe)(L,(0,t.reduce)(z,H))},J=function(L){var z=(0,t.foldMap)(L);return function(H,Rt){return(0,c.pipe)(H,z(Rt))}},R=function(L,z,H){return(0,c.pipe)(L,(0,t.reduceRight)(z,H))},N=function(L){var z=(0,t.traverse)(L);return function(H,Rt){return(0,c.pipe)(H,z(Rt))}},G=function(L,z){return(0,c.pipe)(L,(0,t.alt)(z))},T=function(L,z){return(0,c.pipe)(L,(0,t.filter)(z))},ut=function(L,z){return(0,c.pipe)(L,(0,t.filterMap)(z))},pt=function(L,z){return(0,c.pipe)(L,(0,t.extend)(z))},Ft=function(L,z){return(0,c.pipe)(L,(0,t.partition)(z))},Nt=function(L,z){return(0,c.pipe)(L,(0,t.partitionMap)(z))};t.URI="Option";var ct=function(L){return{show:function(z){return(0,t.isNone)(z)?"none":"some(".concat(L.show(z.value),")")}}};t.getShow=ct;var st=function(L){return{equals:function(z,H){return z===H||((0,t.isNone)(z)?(0,t.isNone)(H):(0,t.isNone)(H)?!1:L.equals(z.value,H.value))}}};t.getEq=st;var ft=function(L){return{equals:(0,t.getEq)(L).equals,compare:function(z,H){return z===H?0:(0,t.isSome)(z)?(0,t.isSome)(H)?L.compare(z.value,H.value):1:-1}}};t.getOrd=ft;var It=function(L){return{concat:function(z,H){return(0,t.isNone)(z)?H:(0,t.isNone)(H)?z:(0,t.some)(L.concat(z.value,H.value))},empty:t.none}};t.getMonoid=It;var tn=function(L){return function(z){return(0,t.isNone)(z)?t.none:(0,t.some)(L(z.value))}};t.map=tn,t.Functor={URI:t.URI,map:B},t.as=(0,c.dual)(2,(0,l.as)(t.Functor)),t.asUnit=(0,l.asUnit)(t.Functor),t.of=t.some,t.Pointed={URI:t.URI,of:t.of};var qt=function(L){return function(z){return(0,t.isNone)(z)||(0,t.isNone)(L)?t.none:(0,t.some)(z.value(L.value))}};t.ap=qt,t.Apply={URI:t.URI,map:B,ap:V},t.Applicative={URI:t.URI,map:B,ap:V,of:t.of},t.flatMap=(0,c.dual)(2,function(L,z){return(0,t.isNone)(L)?t.none:z(L.value)}),t.Chain={URI:t.URI,map:B,ap:V,chain:t.flatMap},t.Monad={URI:t.URI,map:B,ap:V,of:t.of,chain:t.flatMap};var hn=function(L,z){return function(H){return(0,t.isNone)(H)?L:z(L,H.value)}};t.reduce=hn;var En=function(L){return function(z){return function(H){return(0,t.isNone)(H)?L.empty:z(H.value)}}};t.foldMap=En;var Wn=function(L,z){return function(H){return(0,t.isNone)(H)?L:z(H.value,L)}};t.reduceRight=Wn,t.Foldable={URI:t.URI,reduce:rt,foldMap:J,reduceRight:R},t.orElse=(0,c.dual)(2,function(L,z){return(0,t.isNone)(L)?z():L}),t.altW=t.orElse,t.alt=t.orElse,t.Alt={URI:t.URI,map:B,alt:G};var Pn=function(){return t.none};t.zero=Pn,t.Zero={URI:t.URI,zero:t.zero},t.guard=(0,_.guard)(t.Zero,t.Pointed),t.Alternative={URI:t.URI,map:B,ap:V,of:t.of,alt:G,zero:t.zero};var jn=function(L){return function(z){return(0,t.isNone)(z)?t.none:(0,t.some)(L(z))}};t.extend=jn,t.Extend={URI:t.URI,map:B,extend:pt},t.compact=(0,t.flatMap)(c.identity);var Fn=(0,I.separated)(t.none,t.none),x=function(L){return(0,t.isNone)(L)?Fn:(0,I.separated)((0,t.getLeft)(L.value),(0,t.getRight)(L.value))};t.separate=x,t.Compactable={URI:t.URI,compact:t.compact,separate:t.separate};var X=function(L){return function(z){return(0,t.isNone)(z)?t.none:L(z.value)?z:t.none}};t.filter=X;var at=function(L){return function(z){return(0,t.isNone)(z)?t.none:L(z.value)}};t.filterMap=at;var St=function(L){return function(z){return(0,I.separated)(T(z,(0,h.not)(L)),T(z,L))}};t.partition=St;var bt=function(L){return(0,c.flow)((0,t.map)(L),t.separate)};t.partitionMap=bt,t.Filterable={URI:t.URI,map:B,compact:t.compact,separate:t.separate,filter:T,filterMap:ut,partition:Ft,partitionMap:Nt};var Ut=function(L){return function(z){return function(H){return(0,t.isNone)(H)?L.of(t.none):L.map(z(H.value),t.some)}}};t.traverse=Ut;var nn=function(L){return function(z){return(0,t.isNone)(z)?L.of(t.none):L.map(z.value,t.some)}};t.sequence=nn,t.Traversable={URI:t.URI,map:B,reduce:rt,foldMap:J,reduceRight:R,traverse:N,sequence:t.sequence};var Dt=(0,A.witherDefault)(t.Traversable,t.Compactable),Ct=(0,A.wiltDefault)(t.Traversable,t.Compactable),Xt=function(L){var z=Dt(L);return function(H){return function(Rt){return z(Rt,H)}}};t.wither=Xt;var un=function(L){var z=Ct(L);return function(H){return function(Rt){return z(Rt,H)}}};t.wilt=un,t.Witherable={URI:t.URI,map:B,reduce:rt,foldMap:J,reduceRight:R,traverse:N,sequence:t.sequence,compact:t.compact,separate:t.separate,filter:T,filterMap:ut,partition:Ft,partitionMap:Nt,wither:Dt,wilt:Ct};var gn=function(){return t.none};t.throwError=gn,t.MonadThrow={URI:t.URI,map:B,ap:V,of:t.of,chain:t.flatMap,throwError:t.throwError},t.fromEither=t.getRight,t.FromEither={URI:t.URI,fromEither:t.fromEither},t.isSome=f.isSome;var tt=function(L){return L._tag==="None"};t.isNone=tt;var vt=function(L,z){return function(H){return(0,t.isNone)(H)?L():z(H.value)}};t.matchW=vt,t.foldW=t.matchW,t.match=t.matchW,t.fold=t.match;var it=function(L){return function(z){return(0,t.isNone)(z)?L():z.value}};t.getOrElseW=it,t.getOrElse=t.getOrElseW,t.flap=(0,l.flap)(t.Functor),t.apFirst=(0,u.apFirst)(t.Apply),t.apSecond=(0,u.apSecond)(t.Apply),t.flatten=t.compact,t.tap=(0,c.dual)(2,a.tap(t.Chain)),t.tapEither=(0,c.dual)(2,(0,o.tapEither)(t.FromEither,t.Chain)),t.duplicate=(0,t.extend)(c.identity),t.fromEitherK=(0,o.fromEitherK)(t.FromEither),t.chainEitherK=(0,o.chainEitherK)(t.FromEither,t.Chain),t.chainFirstEitherK=t.tapEither;var At=function(L){return L==null?t.none:(0,t.some)(L)};t.fromNullable=At;var Kt=function(L){try{return(0,t.some)(L())}catch{return t.none}};t.tryCatch=Kt;var Bt=function(L){return function(){for(var z=[],H=0;H<arguments.length;H++)z[H]=arguments[H];return(0,t.tryCatch)(function(){return L.apply(void 0,z)})}};t.tryCatchK=Bt;var $t=function(L){return(0,c.flow)(L,t.fromNullable)};t.fromNullableK=$t;var an=function(L){return function(z){return(0,t.isNone)(z)?t.none:(0,t.fromNullable)(L(z.value))}};t.chainNullableK=an,t.toNullable=(0,t.match)(c.constNull,c.identity),t.toUndefined=(0,t.match)(c.constUndefined,c.identity);function bn(L){return function(z,H){if(H===void 0){var Rt=bn(L);return function(mt){return Rt(z,mt)}}return(0,t.isNone)(H)?!1:L.equals(z,H.value)}}t.elem=bn;var yn=function(L){return function(z){return(0,t.isNone)(z)?!1:L(z.value)}};t.exists=yn,t.Do=(0,t.of)(f.emptyRecord),t.bindTo=(0,l.bindTo)(t.Functor);var Un=(0,l.let)(t.Functor);t.let=Un,t.bind=a.bind(t.Chain),t.apS=(0,u.apS)(t.Apply),t.ApT=(0,t.of)(f.emptyReadonlyArray);var kt=function(L){return function(z){var H=L(0,f.head(z));if((0,t.isNone)(H))return t.none;for(var Rt=[H.value],mt=1;mt<z.length;mt++){var Sn=L(mt,z[mt]);if((0,t.isNone)(Sn))return t.none;Rt.push(Sn.value)}return(0,t.some)(Rt)}};t.traverseReadonlyNonEmptyArrayWithIndex=kt;var C=function(L){var z=(0,t.traverseReadonlyNonEmptyArrayWithIndex)(L);return function(H){return f.isNonEmpty(H)?z(H):t.ApT}};t.traverseReadonlyArrayWithIndex=C,t.traverseArrayWithIndex=t.traverseReadonlyArrayWithIndex;var $=function(L){return(0,t.traverseReadonlyArrayWithIndex)(function(z,H){return L(H)})};t.traverseArray=$,t.sequenceArray=(0,t.traverseArray)(c.identity),t.chain=t.flatMap,t.chainFirst=t.tap;function P(L){return function(z){return(0,t.isSome)(L(z))}}t.getRefinement=P,t.mapNullable=t.chainNullableK,t.option={URI:t.URI,map:B,of:t.of,ap:V,chain:t.flatMap,reduce:rt,foldMap:J,reduceRight:R,traverse:N,sequence:t.sequence,zero:t.zero,alt:G,extend:pt,compact:t.compact,separate:t.separate,filter:T,filterMap:ut,partition:Ft,partitionMap:Nt,wither:Dt,wilt:Ct,throwError:t.throwError},t.getApplySemigroup=(0,u.getApplySemigroup)(t.Apply),t.getApplyMonoid=(0,i.getApplicativeMonoid)(t.Applicative);var gt=function(){return(0,t.getMonoid)((0,g.first)())};t.getFirstMonoid=gt;var jt=function(){return(0,t.getMonoid)((0,g.last)())};t.getLastMonoid=jt}(kn),Object.defineProperty(ge,"__esModule",{value:!0}),ge.Compactable=ge.separate=ge.compact=void 0;const sf=cr,Op=kn,$p=on;function hf(t){return function*(){for(const e of t())(0,Op.isSome)(e)&&(yield e.value)}}ge.compact=hf;function df(t){return{*left(){for(const n of t())(0,sf.isLeft)(n)&&(yield n.left)},*right(){for(const n of t())(0,sf.isRight)(n)&&(yield n.right)}}}ge.separate=df,ge.Compactable={URI:$p.URI,compact:hf,separate:df};var Oe={};Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.concatW=Oe.concat=void 0;function Np(t){return vf(t)}Oe.concat=Np;function vf(t){return function(e){return function*(){yield*e(),yield*t()}}}Oe.concatW=vf;var dn={};Object.defineProperty(dn,"__esModule",{value:!0}),dn.fromIterable=dn.toArray=void 0;function Cp(t){return Array.from(t())}dn.toArray=Cp;function Lp(t){return function*(){for(const e of t)yield e}}dn.fromIterable=Lp;var sr={},ye={};Object.defineProperty(ye,"__esModule",{value:!0}),ye.skip=ye.dropLeft=void 0;function mf(t){return function(e){return t===0?e:function*(){const i=e();for(;!i.next().done&&t>1;--t);yield*i}}}ye.dropLeft=mf,ye.skip=mf,Object.defineProperty(sr,"__esModule",{value:!0}),sr.Extend=sr.extend=void 0;const pf=yt,gf=Mn,Fp=on,Up=ye;function yf(t){return function(e){return(0,pf.pipe)(e,(0,gf.mapWithIndex)((r,i)=>t((0,pf.pipe)(e,(0,Up.dropLeft)(r)))))}}sr.extend=yf,sr.Extend={URI:Fp.URI,map:gf.Functor.map,extend(t,n){return yf(n)(t)}};var Mu={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.FilterableWithIndex=t.Filterable=t.partitionMapWithIndex=t.partitionMap=t.partitionWithIndex=t.partition=t.filterWithIndex=t.filterMap=t.filterMapWithIndex=t.filter=void 0;const n=cr,e=yt,r=kn,i=ge,u=Mn,a=on;function o(_){return function(E){return function*(){for(const B of E())_(B)&&(yield B)}}}t.filter=o;function c(_){return function(E){return function*(){let B=0;for(const V of E()){const rt=_(B++,V);(0,r.isSome)(rt)&&(yield rt.value)}}}}t.filterMapWithIndex=c;function l(_){return c((M,E)=>_(E))}t.filterMap=l;function f(_){return function(E){return function*(){let B=0;for(const V of E())_(B++,V)&&(yield V)}}}t.filterWithIndex=f;function h(_){return g((M,E)=>_(E))}t.partition=h;function g(_){return function(E){return(0,e.pipe)(E,(0,u.mapWithIndex)((O,B)=>_(O,B)?(0,n.right)(B):(0,n.left)(B)),i.separate)}}t.partitionWithIndex=g;function I(_){return A((M,E)=>_(E))}t.partitionMap=I;function A(_){return function(E){return(0,e.pipe)(E,(0,u.mapWithIndex)(_),i.separate)}}t.partitionMapWithIndex=A,t.Filterable={URI:a.URI,compact:i.Compactable.compact,separate:i.Compactable.separate,map:u.Functor.map,filter(_,M){return o(M)(_)},filterMap(_,M){return l(M)(_)},partition(_,M){return h(M)(_)},partitionMap(_,M){return I(M)(_)}},t.FilterableWithIndex={URI:a.URI,compact:t.Filterable.compact,filter:t.Filterable.filter,filterMap:t.Filterable.filterMap,filterMapWithIndex(_,M){return c(M)(_)},filterWithIndex(_,M){return f(M)(_)},map:u.Functor.map,mapWithIndex:u.FunctorWithIndex.mapWithIndex,partition:t.Filterable.partition,partitionMap:t.Filterable.partitionMap,partitionMapWithIndex(_,M){return A(M)(_)},partitionWithIndex(_,M){return g(M)(_)},separate:i.Compactable.separate}})(Mu);var Ke={},Bp=function(t,n,e){if(e||arguments.length===2)for(var r=0,i=n.length,u;r<i;r++)(u||!(r in n))&&(u||(u=Array.prototype.slice.call(n,0,r)),u[r]=n[r]);return t.concat(u||Array.prototype.slice.call(n))},_f=function(t){return t._tag==="None"},Tr=function(t){return t._tag==="Some"},In={_tag:"None"},$n=function(t){return{_tag:"Some",value:t}},Ru=function(t){return t._tag==="Left"},kp=function(t){return{_tag:"Left",left:t}},zp=function(t){return{_tag:"Right",right:t}},Pp=function(t){return[t]},Ao=function(t){return t.length>0},wo=function(t){return t[0]},jp=function(t){return t.slice(1)},Eo=[],If={},Au=Object.prototype.hasOwnProperty,bf=function(t){return Bp([t[0]],t.slice(1),!0)};function Sf(t){return function(n){return function(e){return t.ap(t.map(e,function(r){return function(){return r}}),n)}}}function Mf(t){return function(n){return function(e){return t.ap(t.map(e,function(){return function(r){return r}}),n)}}}function Rf(t){return function(n,e){return function(r){return t.ap(t.map(r,function(i){return function(u){var a;return Object.assign({},i,(a={},a[n]=u,a))}}),e)}}}function Af(t){return function(n){return{concat:function(e,r){return t.ap(t.map(e,function(i){return function(u){return n.concat(i,u)}}),r)}}}}function Tp(t){var n=Wo(t);return function(e){return function(r){return n(r,e)}}}function Wo(t){return function(n,e){return t.chain(n,function(r){return t.map(e(r),function(){return r})})}}function wf(t){return function(n,e){return function(r){return t.chain(r,function(i){return t.map(e(i),function(u){var a;return Object.assign({},i,(a={},a[n]=u,a))})})}}}function wu(t){return function(n){return Y(n,t.fromEither)}}function qp(t,n){var e=wu(t);return function(r){return function(i){return n.chain(i,e(r))}}}function Dp(t,n){var e=wu(t),r=Wo(n);return function(i,u){return r(i,e(u))}}function Ef(t){return function(n){return function(e){return t.map(e,function(r){return r(n)})}}}function Wf(t){return function(n){return function(e){return t.map(e,function(r){var i;return i={},i[n]=r,i})}}}function Of(t){return function(n,e){return function(r){return t.map(r,function(i){var u;return Object.assign({},i,(u={},u[n]=e(i),u))})}}}function $f(t){return function(n,e){return t.map(n,function(){return e})}}function Kp(t){var n=$f(t);return function(e){return n(e,void 0)}}var Vp=function(t){return{equals:function(n,e){return n===e||t(n,e)}}},Gp=function(t){return function(n,e){return n===e||t(n,e)===0}},Oo=function(t){return{equals:Gp(t),compare:function(n,e){return n===e?0:t(n,e)}}},Hp=function(){return{concat:function(t,n){return Oo(function(e,r){var i=t.compare(e,r);return i!==0?i:n.compare(e,r)})}}},Jp=function(){return{concat:Hp().concat,empty:Oo(function(){return 0})}},Zp=function(t){return function(n){return function(e){return e.reduce(function(r,i){return t.concat(r,i)},n)}}},Xp=function(t){return{concat:function(){return t}}},Yp=function(){return{concat:Ht}},Qp=function(){return{concat:function(t,n){return n}}},xp=Zp,tg=Xp(void 0),ng={concat:function(t,n){return t&&n}},eg={concat:function(t,n){return t||n}},$o=function(t,n,e){if(e||arguments.length===2)for(var r=0,i=n.length,u;r<i;r++)(u||!(r in n))&&(u||(u=Array.prototype.slice.call(n,0,r)),u[r]=n[r]);return t.concat(u||Array.prototype.slice.call(n))},rg=Eo,Nf=Ao,ig=function(t,n){return t<0||t>=n.length},ug=function(t){return function(n){return $o([t],n,!0)}},ag=ug,og=function(t){return function(n){return $o($o([],n,!0),[t],!1)}},cg=og,lg=function(t,n,e){if(e[t]===n)return e;var r=bf(e);return r[t]=n,r},fg=function(t){return function(n){for(var e=[t,n[0]],r=1;r<n.length;r++)e.push(t,n[r]);return e}},sg=function(t){return function(n){var e=vg(n);return Nf(e)?Q(e,fg(t),ag(No(n))):n}},hg=Pp,dg=wo,No=dg,vg=jp,Cf=function(t){return t[t.length-1]},mg=function(t){return function(n){return n.reduce(t.concat)}},pg=function(t){var n=mg(t);return function(e){return Y(sg(e),n)}},Co=function(t,n,e){if(e||arguments.length===2)for(var r=0,i=n.length,u;r<i;r++)(u||!(r in n))&&(u||(u=Array.prototype.slice.call(n,0,r)),u[r]=n[r]);return t.concat(u||Array.prototype.slice.call(n))},ki=function(t){return t.length>0},Lf=function(t,n){return t<0||t>=n.length},Ff=function(t){return function(n){return Co([t],n,!0)}},zi=Ff,Uf=function(t){return function(n){return Co(Co([],n,!0),[t],!1)}},Bf=Uf,gg=function(t,n,e){if(ki(e)){var r=Lo(e);return r.splice(t,0,n),r}return[n]},yg=function(t,n,e){var r=Lo(e);return r[t]=n,r},kf=function(t){return function(n){if(n.length===1)return Pi(n);for(var e=[qr(n)],r=ji(n),i=function(c){e.every(function(l){return!t.equals(l,c)})&&e.push(c)},u=0,a=r;u<a.length;u++){var o=a[u];i(o)}return e}},_g=function(t){if(ki(t)){var n=Jp();return bg(t.reduce(n.concat,n.empty))}return Pi},Ig=function(t){var n=kf(t);return function(e){return function(r){return n(Q(r,Tf(e)))}}},zf=function(t){return function(n){var e=n.length,r=Math.round(t)%e;if(Lf(Math.abs(r),n)||r===0)return Pi(n);if(r<0){var i=Fo(-r)(n),u=i[0],a=i[1];return Q(a,Tf(u))}else return zf(r-e)(n)}},Lo=bf,Pf=function(t){return function(n){for(var e=Math.max(0,Math.floor(n)),r=[t(0)],i=1;i<e;i++)r.push(t(i));return r}},jf=function(t,n){return t<=n?Pf(function(e){return t+e})(n-t+1):[t]};function Tf(t,n){return n?t.concat(n):function(e){return e.concat(t)}}var bg=function(t){return function(n){return n.slice().sort(t.compare)}},Pi=Lo,Sg=function(t){return[t]},qf=function(t){return function(n){for(var e=[t,n[0]],r=1;r<n.length;r++)e.push(t,n[r]);return e}},Mg=function(t){return function(n){var e=ji(n);return ki(e)?Q(e,qf(t),zi(qr(n))):Pi(n)}},Df=function(t){return function(n){for(var e=t(n),r=e[0],i=e[1],u=[r],a=i;ki(a);){var o=t(a),c=o[0],l=o[1];u.push(c),a=l}return u}},Fo=function(t){return function(n){var e=Math.max(1,t);return e>=n.length?[Pi(n),[]]:[Q(n.slice(1,e),zi(qr(n))),n.slice(e)]}},Rg=function(t){return Df(Fo(t))},Ag=function(t){return wg(function(n,e){return t(e)})},wg=function(t){return function(n){for(var e=[t(0,qr(n))],r=1;r<n.length;r++)e.push(t(r,n[r]));return e}},qr=No,ji=function(t){return t.slice(1)},Eg=Cf,Kf=function(t){return t.slice(0,-1)},Wg=function(t){return function(n){return n.reduce(t.concat)}};function Og(t,n){return n===void 0?zi(t):Q(n,zi(t))}var $g=function(t,n){return Q(t,Bf(n))},Ng={equals:function(t,n){return t===n}},Cg={equals:Ng.equals,compare:function(t,n){return t<n?-1:t>n?1:0}},Dr=function(t,n){return{left:t,right:n}};function Vf(t,n){return function(e){var r=t.traverse(e);return function(i,u){return e.map(r(i,u),n.separate)}}}function Gf(t,n){return function(e){var r=t.traverse(e);return function(i,u){return e.map(r(i,u),n.compact)}}}function Lg(t){return function(n){var e=t.wither(n);return function(r){return function(i){return e(i,function(u){return n.map(r(u),function(a){return a?$n(u):In})})}}}}function Hf(t,n){return function(e){return e?n.of(void 0):t.zero()}}var Fg=function(t,n,e){if(e||arguments.length===2)for(var r=0,i=n.length,u;r<i;r++)(u||!(r in n))&&(u||(u=Array.prototype.slice.call(n,0,r)),u[r]=n[r]);return t.concat(u||Array.prototype.slice.call(n))},Jf=function(t){return t.length===0},Eu=Nf,Ug=cg,Bg=function(t,n){return function(e){return Eu(e)?n(e):t()}},kg=Bg,zg=ig;function Kr(t,n){return n===void 0?function(e){return Kr(t,e)}:zg(t,n)?In:$n(n[t])}var Pg=function(t){return Eu(t)?$n(No(t)):In},jg=function(t){return Eu(t)?$n(Cf(t)):In},Uo=function(t){return function(n){for(var e=0;e<n.length;e++)if(t(n[e]))return $n(e);return In}};function Bo(t){return function(n){for(var e=0;e<n.length;e++)if(t(n[e]))return $n(n[e]);return In}}var Tg=function(t){return function(n){for(var e=0;e<n.length;e++){var r=t(n[e]);if(Tr(r))return r}return In}};function qg(t){return function(n){for(var e=n.length-1;e>=0;e--)if(t(n[e]))return $n(n[e]);return In}}var Dg=function(t){return function(n){for(var e=n.length-1;e>=0;e--){var r=t(n[e]);if(Tr(r))return r}return In}},Kg=function(t){return function(n){for(var e=n.length-1;e>=0;e--)if(t(n[e]))return $n(e);return In}};function Zf(t){return function(n,e){if(e===void 0){var r=Zf(t);return function(a){return r(n,a)}}for(var i=function(a){return t.equals(a,n)},u=0;u<e.length;u++)if(i(e[u]))return!0;return!1}}var Vg=function(t,n){return Q(t,ts(n))},Gg=function(t,n){return Q(t,ns(n))},Hg=hg,Jg=function(t){return function(n){return n.map(function(e){return t(e)})}},Xf=function(t){return function(n){return function(e){return e.reduce(function(r,i,u){return t.concat(r,n(u,i))},t.empty)}}},Yf=function(t,n){return Qf(t,function(e,r,i){return n(r,i)})},Zg=function(t){var n=Xf(t);return function(e){return n(function(r,i){return e(i)})}},Qf=function(t,n){return function(e){for(var r=e.length,i=t,u=0;u<r;u++)i=n(u,i,e[u]);return i}},Xg=function(t,n){return xf(t,function(e,r,i){return n(r,i)})},xf=function(t,n){return function(e){return e.reduceRight(function(r,i,u){return n(u,i,r)},t)}},Yg=function(t){return{show:function(n){return"[".concat(n.map(t.show).join(", "),"]")}}},Qg=function(){return{concat:function(t,n){return Jf(t)?n:Jf(n)?t:t.concat(n)}}},xg=function(){return{concat:Qg().concat,empty:ey}},ty=function(t){return Vp(function(n,e){return n.length===e.length&&n.every(function(r,i){return t.equals(r,e[i])})})},ny=function(t){return Oo(function(n,e){for(var r=n.length,i=e.length,u=Math.min(r,i),a=0;a<u;a++){var o=t.compare(n[a],e[a]);if(o!==0)return o}return Cg.compare(r,i)})},ts=function(t){return function(n){for(var e=Fg([],t(n),!0),r=[];e.length>0;){var i=e.shift();Ru(i)?e.unshift.apply(e,t(i.left)):r.push(i.right)}return r}},ns=function(t){return function(n){var e=t(n),r=[],i=[];function u(l){Ru(l)?t(l.left).forEach(function(f){return r.push(f)}):i.push(l.right)}for(var a=0,o=e;a<o.length;a++){var c=o[a];u(c)}for(;r.length>0;)u(r.shift());return i}},es=function(t,n,e){return Eu(e)?lg(t,n,e):e},ey=rg;function ry(t){return function(n){return n.every(t)}}var iy=function(t){var n=pg(t);return function(e){return kg(function(){return t.empty},n(e))}},hr=function(t){return t.length===0},vn=ki,uy=zi,ay=Ff,Wu=Bf,oy=Uf,rs=function(t,n){return t<=0?[]:Pf(n)(t)},cy=function(t,n){return rs(t,function(){return n})};function ly(t){return function(n){return t(n)?[n]:[]}}var is=function(t){return _f(t)?[]:[t.value]},us=function(t){return Ru(t)?[]:[t.right]},as=function(t,n){return function(e){return vn(e)?n(e):t()}},fy=as,os=function(t,n){return function(e){return vn(e)?n(qr(e),ji(e)):t()}},cs=os,sy=cs,ls=function(t,n){return function(e){return vn(e)?n(Kf(e),Eg(e)):t()}},fs=ls,hy=fs,ss=function(t){return function(n){for(var e=[],r=0;r<n.length;r++)e.push.apply(e,t(r,n[r]));return e}},dy=function(t,n){return function(e){var r=e.length,i=new Array(r+1);i[0]=t;for(var u=0;u<r;u++)i[u+1]=n(i[u],e[u]);return i}},vy=function(t,n){return function(e){var r=e.length,i=new Array(r+1);i[r]=t;for(var u=r-1;u>=0;u--)i[u]=n(e[u],i[u+1]);return i}},my=function(t){return t.length},Ti=Lf,py=Kr,gy=Pg,yy=jg,_y=function(t){return vn(t)?$n(ji(t)):In},Iy=function(t){return vn(t)?$n(Kf(t)):In},by=function(t){return function(n){return Ti(t,n)?Nn(n):n.slice(0,t)}},Sy=function(t){return function(n){return Ti(t,n)?Nn(n):t===0?[]:n.slice(-t)}};function My(t){return function(n){for(var e=[],r=0,i=n;r<i.length;r++){var u=i[r];if(!t(u))break;e.push(u)}return e}}var hs=function(t,n){for(var e=t.length,r=0;r<e&&n(t[r]);r++);return r};function Ry(t){return function(n){var e=gs(hs(n,t))(n),r=e[0],i=e[1];return{init:r,rest:i}}}var Ay=function(t){return function(n){return t<=0||hr(n)?Nn(n):t>=n.length?[]:n.slice(t,n.length)}},wy=function(t){return function(n){return t<=0||hr(n)?Nn(n):t>=n.length?[]:n.slice(0,n.length-t)}};function Ey(t){return function(n){return n.slice(hs(n,t))}}var Wy=Uo;function Oy(t){return Bo(t)}var $y=Tg;function Ny(t){return qg(t)}var Cy=Dg,Ly=Kg,Nn=function(t){return t.slice()},Fy=function(t,n){return function(e){return t<0||t>e.length?In:$n(Gs(t,n,e))}},Uy=function(t,n){return ds(t,function(){return n})},By=function(t){return function(n){return Ti(t,n)?In:$n(Js(t,n))}},ds=function(t,n){return function(e){return Ti(t,e)?In:$n(Hs(t,n(e[t]),e))}},ky=function(t){return hr(t)?[]:t.slice().reverse()},zy=function(t){for(var n=[],e=0;e<t.length;e++){var r=t[e];r._tag==="Right"&&n.push(r.right)}return n},Py=function(t){for(var n=[],e=0;e<t.length;e++){var r=t[e];r._tag==="Left"&&n.push(r.left)}return n},jy=function(t){return function(n){return n.length<=1?Nn(n):n.slice().sort(t.compare)}},vs=function(t,n,e){for(var r=[],i=Math.min(t.length,n.length),u=0;u<i;u++)r[u]=e(t[u],n[u]);return r};function ms(t,n){return n===void 0?function(e){return ms(e,t)}:vs(t,n,function(e,r){return[e,r]})}var Ty=function(t){for(var n=[],e=[],r=0;r<t.length;r++)n[r]=t[r][0],e[r]=t[r][1];return[n,e]},ps=function(t){var n=qf(t);return function(e){return vn(e)?n(e):[]}},qy=function(t){var n=Mg(t);return function(e){return vn(e)?n(e):Nn(e)}},Dy=function(t){var n=zf(t);return function(e){return vn(e)?n(e):Nn(e)}},ko=Zf,Ky=function(t){var n=kf(t);return function(e){return vn(e)?n(e):Nn(e)}},Vy=function(t){var n=_g(t);return function(e){return vn(e)?n(e):Nn(e)}},Gy=function(t){var n=Df(t);return function(e){return vn(e)?n(e):[]}},gs=function(t){return function(n){return t>=1&&vn(n)?Fo(t)(n):hr(n)?[Nn(n),[]]:[[],Nn(n)]}},Hy=function(t){var n=Rg(t);return function(e){return vn(e)?n(e):[]}},Jy=function(t){return function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return is(t.apply(void 0,n))}};function Zy(t,n,e){e===void 0&&(e=function(){return!0});var r=function(i,u){return vn(u)?_e(qr(u),function(a){return r(Q(i,Wu(a)),ji(u))}):e.apply(void 0,i)?[n.apply(void 0,i)]:[]};return r([],t)}var ys=function(t){return function(n){return hr(n)?Nn(t):hr(t)?Nn(n):n.concat(t)}},Xy=ys;function zo(t){var n=Ig(t);return function(e,r){if(r===void 0){var i=zo(t);return function(u){return i(u,e)}}return vn(e)&&vn(r)?n(r)(e):vn(e)?Nn(e):Nn(r)}}function Po(t){var n=ko(t);return function(e,r){if(r===void 0){var i=Po(t);return function(u){return i(u,e)}}return e.filter(function(u){return n(u,r)})}}function jo(t){var n=ko(t);return function(e,r){if(r===void 0){var i=jo(t);return function(u){return i(u,e)}}return e.filter(function(u){return!n(u,r)})}}var Rn=function(t,n){return Q(t,qi(n))},Ou=function(t,n){return Q(t,ws(n))},Ve=function(t,n){return Q(t,As(n))},$u=function(t,n){return Q(t,Es(n))},Nu=function(t,n){return Q(t,Uu(n))},Cu=function(t,n){return Q(t,Ws(n))},Lu=function(t,n){return Q(t,Os(n))},_s=function(t,n){return Q(t,Go(n))},Is=function(t,n){return Q(t,Ho(n))},To=function(t,n){return Q(t,Ns(n))},dr=function(t,n,e){return Q(t,Us(n,e))},Vr=function(t){var n=Ls(t);return function(e,r){return Q(e,n(r))}},Gr=function(t,n,e){return Q(t,Bs(n,e))},qo=function(t,n,e){return Q(t,Zo(n,e))},Do=function(t){var n=Fs(t);return function(e,r){return Q(e,n(r))}},Ko=function(t,n,e){return Q(t,ks(n,e))},bs=function(t,n){return Q(t,Vo(n))},Ss=function(t,n){return Q(t,Cs(n))},Ms=function(t,n){return Q(t,Jo(n))},Fu=function(t){var n=zs(t);return function(e,r){return Q(e,n(r))}},Rs=function(t){var n=Xo(t);return function(e,r){return Q(e,n(r))}},Yy=Vg,Qy=Gg,Ge=Sg,Hr=function(){return[]},qi=function(t){return function(n){return n.map(function(e){return t(e)})}},As=function(t){return _e(function(n){return Q(t,qi(n))})},_e=jr(2,function(t,n){return Q(t,ss(function(e,r){return n(r,e)}))}),xy=_e(Ht),ws=function(t){return function(n){return n.map(function(e,r){return t(r,e)})}},Vo=function(t){return function(n){for(var e=[],r=0;r<n.length;r++){var i=t(r,n[r]);Tr(i)&&e.push(i.value)}return e}},Uu=function(t){return Vo(function(n,e){return t(e)})},Jr=Uu(Ht),Zr=function(t){for(var n=[],e=[],r=0,i=t;r<i.length;r++){var u=i[r];u._tag==="Left"?n.push(u.left):e.push(u.right)}return Dr(n,e)},Es=function(t){return function(n){return n.filter(t)}},Ws=function(t){return Go(function(n,e){return t(e)})},Go=function(t){return function(n){for(var e=[],r=[],i=0;i<n.length;i++){var u=n[i];t(i,u)?r.push(u):e.push(u)}return Dr(e,r)}},Os=function(t){return Ho(function(n,e){return t(e)})},Ho=function(t){return function(n){for(var e=[],r=[],i=0;i<n.length;i++){var u=t(i,n[i]);u._tag==="Left"?e.push(u.left):r.push(u.right)}return Dr(e,r)}},$s=function(t){return function(n){return n.concat(t())}},Ns=$s,Cs=function(t){return function(n){return n.filter(function(e,r){return t(r,e)})}},Jo=function(t){return function(n){return n.map(function(e,r){return t(n.slice(r))})}},t0=Jo(Ht),Ls=Zg,Fs=Xf,Us=Yf,Zo=Qf,Bs=Xg,ks=xf,zs=function(t){var n=Xo(t);return function(e){return n(function(r,i){return e(i)})}},vr=function(t){return function(n){return dr(n,t.of(Hr()),function(e,r){return t.ap(t.map(e,function(i){return function(u){return Q(i,Wu(u))}}),r)})}},Xo=function(t){return function(n){return Zo(t.of(Hr()),function(e,r,i){return t.ap(t.map(r,function(u){return function(a){return Q(u,Wu(a))}}),n(e,i))})}},n0=function(t){var n=nc(t);return function(e){return function(r){return n(r,e)}}},e0=function(t){var n=ec(t);return function(e){return function(r){return n(r,e)}}},Yo=function(t,n){for(var e=[],r=t;;){var i=n(r);if(Tr(i)){var u=i.value,a=u[0],o=u[1];e.push(a),r=o}else break}return e},Jt="Array",r0=Yg,Ps=function(){return{concat:function(t,n){return t.concat(n)}}},js=function(){return{concat:Ps().concat,empty:[]}},i0=ty,u0=ny,Ts=function(t){var n=zo(t);return{concat:function(e,r){return n(r)(e)}}},a0=function(t){return{concat:Ts(t).concat,empty:[]}},o0=function(t){var n=Po(t);return{concat:function(e,r){return n(r)(e)}}},c0=function(t){var n=jo(t);return{concat:function(e,r){return n(r)(e)}}},Bu={URI:Jt,map:Rn},l0=Ef(Bu),qs={URI:Jt,of:Ge},f0={URI:Jt,map:Rn,mapWithIndex:Ou},ku={URI:Jt,map:Rn,ap:Ve},s0=Sf(ku),h0=Mf(ku),d0={URI:Jt,map:Rn,ap:Ve,of:Ge},Qo={URI:Jt,map:Rn,ap:Ve,chain:_e},v0=Tp(Qo),m0={URI:Jt,map:Rn,ap:Ve,of:Ge,chain:_e},p0={URI:Jt,unfold:Yo},g0={URI:Jt,map:Rn,alt:To},Ds={URI:Jt,zero:Hr},y0=Hf(Ds,qs),_0={URI:Jt,map:Rn,ap:Ve,of:Ge,alt:To,zero:Hr},I0={URI:Jt,map:Rn,extend:Ms},xo={URI:Jt,compact:Jr,separate:Zr},b0={URI:Jt,map:Rn,compact:Jr,separate:Zr,filter:$u,filterMap:Nu,partition:Cu,partitionMap:Lu},S0={URI:Jt,map:Rn,mapWithIndex:Ou,compact:Jr,separate:Zr,filter:$u,filterMap:Nu,partition:Cu,partitionMap:Lu,partitionMapWithIndex:Is,partitionWithIndex:_s,filterMapWithIndex:bs,filterWithIndex:Ss},M0={URI:Jt,reduce:dr,foldMap:Vr,reduceRight:Gr},R0={URI:Jt,reduce:dr,foldMap:Vr,reduceRight:Gr,reduceWithIndex:qo,foldMapWithIndex:Do,reduceRightWithIndex:Ko},tc={URI:Jt,map:Rn,reduce:dr,foldMap:Vr,reduceRight:Gr,traverse:Fu,sequence:vr},A0={URI:Jt,map:Rn,mapWithIndex:Ou,reduce:dr,foldMap:Vr,reduceRight:Gr,reduceWithIndex:qo,foldMapWithIndex:Do,reduceRightWithIndex:Ko,traverse:Fu,sequence:vr,traverseWithIndex:Rs},nc=Gf(tc,xo),ec=Vf(tc,xo),Ks={URI:Jt,map:Rn,compact:Jr,separate:Zr,filter:$u,filterMap:Nu,partition:Cu,partitionMap:Lu,reduce:dr,foldMap:Vr,reduceRight:Gr,traverse:Fu,sequence:vr,wither:nc,wilt:ec},w0=ts,E0={URI:Jt,map:Rn,ap:Ve,chain:_e,chainRec:Yy},W0=ns,O0={URI:Jt,map:Rn,ap:Ve,chain:_e,chainRec:Qy},$0=Lg(Ks),Vs={URI:Jt,fromEither:us},N0=wu(Vs),Gs=gg,Hs=function(t,n,e){return vn(e)?yg(t,n,e):[]},Js=function(t,n){var e=n.slice();return e.splice(t,1),e},C0=ry,Zs=function(t){return function(n){return n.some(t)}},L0=Zs,F0=iy,U0=Ge(If),B0=Wf(Bu),k0=Of(Bu),z0=wf(Qo),P0=Rf(ku),j0=_e,T0=jf,q0=[],D0=Og,K0=$g,V0=ps,G0={URI:Jt,compact:Jr,separate:Zr,map:Rn,ap:Ve,of:Ge,chain:_e,filter:$u,filterMap:Nu,partition:Cu,partitionMap:Lu,mapWithIndex:Ou,partitionMapWithIndex:Is,partitionWithIndex:_s,filterMapWithIndex:bs,filterWithIndex:Ss,alt:To,zero:Hr,unfold:Yo,reduce:dr,foldMap:Vr,reduceRight:Gr,traverse:Fu,sequence:vr,reduceWithIndex:qo,foldMapWithIndex:Do,reduceRightWithIndex:Ko,traverseWithIndex:Rs,extend:Ms,wither:nc,wilt:ec},H0=Object.freeze({__proto__:null,Alt:g0,Alternative:_0,Applicative:d0,Apply:ku,Chain:Qo,ChainRecBreadthFirst:O0,ChainRecDepthFirst:E0,Compactable:xo,Do:U0,Extend:I0,Filterable:b0,FilterableWithIndex:S0,Foldable:M0,FoldableWithIndex:R0,FromEither:Vs,Functor:Bu,FunctorWithIndex:f0,Monad:m0,Pointed:qs,Traversable:tc,TraversableWithIndex:A0,URI:Jt,Unfoldable:p0,Witherable:Ks,Zero:Ds,alt:Ns,altW:$s,ap:As,apFirst:s0,apS:P0,apSecond:h0,append:Wu,appendW:oy,array:G0,bind:z0,bindTo:B0,chain:j0,chainFirst:v0,chainRecBreadthFirst:W0,chainRecDepthFirst:w0,chainWithIndex:ss,chop:Gy,chunksOf:Hy,compact:Jr,comprehension:Zy,concat:Xy,concatW:ys,cons:D0,copy:Nn,deleteAt:By,difference:jo,dropLeft:Ay,dropLeftWhile:Ey,dropRight:wy,duplicate:t0,elem:ko,empty:q0,every:C0,exists:L0,extend:Jo,filter:Es,filterE:$0,filterMap:Uu,filterMapWithIndex:Vo,filterWithIndex:Cs,findFirst:Oy,findFirstMap:$y,findIndex:Wy,findLast:Ny,findLastIndex:Ly,findLastMap:Cy,flap:l0,flatMap:_e,flatten:xy,foldLeft:sy,foldMap:Ls,foldMapWithIndex:Fs,foldRight:hy,fromEither:us,fromEitherK:N0,fromOption:is,fromOptionK:Jy,fromPredicate:ly,getDifferenceMagma:c0,getEq:i0,getIntersectionSemigroup:o0,getMonoid:js,getOrd:u0,getSemigroup:Ps,getShow:r0,getUnionMonoid:a0,getUnionSemigroup:Ts,guard:y0,head:gy,init:Iy,insertAt:Fy,intercalate:F0,intersection:Po,intersperse:qy,isEmpty:hr,isNonEmpty:vn,isOutOfBound:Ti,last:yy,lefts:Py,let:k0,lookup:py,makeBy:rs,map:qi,mapWithIndex:ws,match:fy,matchLeft:cs,matchLeftW:os,matchRight:fs,matchRightW:ls,matchW:as,modifyAt:ds,of:Ge,partition:Ws,partitionMap:Os,partitionMapWithIndex:Ho,partitionWithIndex:Go,prepend:uy,prependAll:ps,prependToAll:V0,prependW:ay,range:T0,reduce:Us,reduceRight:Bs,reduceRightWithIndex:ks,reduceWithIndex:Zo,replicate:cy,reverse:ky,rights:zy,rotate:Dy,scanLeft:dy,scanRight:vy,separate:Zr,sequence:vr,size:my,snoc:K0,some:Zs,sort:jy,sortBy:Vy,spanLeft:Ry,splitAt:gs,tail:_y,takeLeft:by,takeLeftWhile:My,takeRight:Sy,traverse:zs,traverseWithIndex:Xo,unfold:Yo,union:zo,uniq:Ky,unsafeDeleteAt:Js,unsafeInsertAt:Gs,unsafeUpdateAt:Hs,unzip:Ty,updateAt:Uy,wilt:e0,wither:n0,zero:Hr,zip:ms,zipWith:vs}),J0=_o(H0);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.FoldableWithIndex=t.Foldable=t.reduceRight=t.reduceRightWithIndex=t.reduce=t.reduceWithIndex=t.foldMapWithIndex=t.foldMap=void 0;const n=J0,e=yt,r=dn,i=on;function u(h){return function(I){return a(h)((_,M)=>I(M))}}t.foldMap=u;function a(h){return function(I){return function(_){let M=0,E=h.empty;for(const O of _())E=h.concat(E,I(M++,O));return E}}}t.foldMapWithIndex=a;function o(h,g){return function(A){let _=0;for(const M of A())h=g(_++,h,M);return h}}t.reduceWithIndex=o;function c(h,g){return o(h,(I,A,_)=>g(A,_))}t.reduce=c;function l(h,g){return function(A){return(0,e.pipe)(A,r.toArray,(0,n.reduceRightWithIndex)(h,(_,M,E)=>g(_,E,M)))}}t.reduceRightWithIndex=l;function f(h,g){return l(h,(I,A,_)=>g(_,A))}t.reduceRight=f,t.Foldable={URI:i.URI,foldMap(h){return function(I,A){return u(h)(A)(I)}},reduce(h,g,I){return c(g,I)(h)},reduceRight(h,g,I){return f(g,I)(h)}},t.FoldableWithIndex={URI:i.URI,foldMap:t.Foldable.foldMap,reduce:t.Foldable.reduce,reduceRight:t.Foldable.reduceRight,foldMapWithIndex(h){return function(I,A){return a(h)(A)(I)}},reduceRightWithIndex(h,g,I){return l(g,(A,_,M)=>I(A,M,_))(h)},reduceWithIndex(h,g,I){return o(g,I)(h)}}})(Ke);var zu={};Object.defineProperty(zu,"__esModule",{value:!0}),zu.Monad=void 0;const Z0=ce,X0=So,Y0=Mn,Q0=Bn,x0=on;zu.Monad={URI:x0.URI,ap:Z0.Applicative.ap,chain:X0.Chain.chain,map:Y0.Functor.map,of:Q0.Pointed.of};var Xr={},Yr={};Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.reverse=void 0;const Xs=dn;function t_(t){return(0,Xs.fromIterable)((0,Xs.toArray)(t).reverse())}Yr.reverse=t_,Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.spanRight=Xr.spanLeft=void 0;const n_=yt,Ys=dn,e_=Yr;function Qs(t){return function(e){const r=e(),i=[];for(;;){const u=r.next();if(u.done)return{init:(0,Ys.fromIterable)(i),*rest(){yield*r}};if(t(u.value)){i.push(u.value);continue}else return{init:(0,Ys.fromIterable)(i),*rest(){yield u.value,yield*r}}}}}Xr.spanLeft=Qs;function r_(t){return function(e){return(0,n_.pipe)(e,e_.reverse,Qs(t))}}Xr.spanRight=r_;var Ie={},He={};Object.defineProperty(He,"__esModule",{value:!0}),He.appendW=He.append=void 0;function i_(t){return xs(t)}He.append=i_;function xs(t){return function(e){return function*(){yield*e(),yield t}}}He.appendW=xs,Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.Traversable=Ie.sequence=Ie.traverse=void 0;const u_=yt,rc=Ke,a_=Mn,o_=on,c_=He,l_=le;function ic(t){return function(e){return function(i){let u=t.of((0,l_.zero)());for(const a of i()){const o=t.map(u,c=>l=>(0,c_.append)(l)(c));u=t.ap(o,e(a))}return u}}}Ie.traverse=ic;function th(t){return ic(t)(u_.identity)}Ie.sequence=th,Ie.Traversable={URI:o_.URI,foldMap:rc.Foldable.foldMap,map:a_.Functor.map,reduce:rc.Foldable.reduce,reduceRight:rc.Foldable.reduceRight,traverse(t){return function(e,r){return ic(t)(r)(e)}},sequence(t){return function(e){return th(t)(e)}}};var Qr={};Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.sequenceArray=Qr.traverseArray=void 0;const nh=yt;function eh(t){return function(e){return function*(){const i=[];for(const u of e){const a=t(u)();let{value:o,done:c}=a.next();if(c){yield[];return}i.push(o);for(const l of a)i.push(l)}yield i}}}Qr.traverseArray=eh;function f_(t){return(0,nh.pipe)(t,eh(nh.identity))}Qr.sequenceArray=f_;var xr={};Object.defineProperty(xr,"__esModule",{value:!0}),xr.TraversableWithIndex=xr.traverseWithIndex=void 0;const ti=Ke,rh=Mn,ih=Ie,s_=on,h_=He,d_=le;function uh(t){return function(e){return function(i){let u=t.of((0,d_.zero)()),a=0;for(const o of i()){const c=t.map(u,l=>f=>(0,h_.append)(f)(l));u=t.ap(c,e(a++,o))}return u}}}xr.traverseWithIndex=uh,xr.TraversableWithIndex={URI:s_.URI,foldMap:ti.FoldableWithIndex.foldMap,foldMapWithIndex:ti.FoldableWithIndex.foldMapWithIndex,map:rh.FunctorWithIndex.map,mapWithIndex:rh.FunctorWithIndex.mapWithIndex,reduce:ti.FoldableWithIndex.reduce,reduceRight:ti.FoldableWithIndex.reduceRight,reduceRightWithIndex:ti.FoldableWithIndex.reduceRightWithIndex,reduceWithIndex:ti.FoldableWithIndex.reduceWithIndex,sequence(t){return function(e){return(0,ih.sequence)(t)(e)}},traverse(t){return function(e,r){return(0,ih.traverse)(t)(r)(e)}},traverseWithIndex(t){return function(e,r){return uh(t)(r)(e)}}};var ni={};Object.defineProperty(ni,"__esModule",{value:!0}),ni.Unfoldable=ni.unfold=void 0;const v_=kn,m_=on;function ah(t,n){return function*(){for(let r=n(t);(0,v_.isSome)(r);r=n(r.value[1]))yield r.value[0]}}ni.unfold=ah,ni.Unfoldable={URI:m_.URI,unfold:ah};var uc={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.filterE=t.Witherable=t.wither=t.wilt=void 0;const n=Yn,e=ge,r=Mu,i=Ke,u=Mn,a=Ie,o=on;function c(f){const h=(0,n.wiltDefault)(a.Traversable,e.Compactable)(f);return function(I){return function(_){return h(_,I)}}}t.wilt=c;function l(f){const h=(0,n.witherDefault)(a.Traversable,e.Compactable)(f);return function(I){return function(_){return h(_,I)}}}t.wither=l,t.Witherable={URI:o.URI,compact:e.Compactable.compact,filter:r.Filterable.filter,filterMap:r.Filterable.filterMap,foldMap:i.Foldable.foldMap,map:u.Functor.map,partition:r.Filterable.partition,partitionMap:r.Filterable.partitionMap,reduce:i.Foldable.reduce,reduceRight:i.Foldable.reduceRight,separate:e.Compactable.separate,sequence:a.Traversable.sequence,traverse:a.Traversable.traverse,wilt(f){return function(g,I){return c(f)(I)(g)}},wither(f){return function(g,I){return l(f)(I)(g)}}},t.filterE=(0,n.filterE)(t.Witherable)})(uc);var Pu={};Object.defineProperty(Pu,"__esModule",{value:!0}),Pu.allM=void 0;const p_=yt,g_=Ke;function y_(t){return function(e){return(0,p_.pipe)(e,(0,g_.reduce)(t.of(!0),(r,i)=>t.chain(r,u=>u?i:t.of(!1))))}}Pu.allM=y_;var ju={};Object.defineProperty(ju,"__esModule",{value:!0}),ju.anyM=void 0;const __=yt,I_=Ke;function b_(t){return function(e){return(0,__.pipe)(e,(0,I_.reduce)(t.of(!1),(r,i)=>t.chain(r,u=>u?t.of(!0):i)))}}ju.anyM=b_;var Tu={};Object.defineProperty(Tu,"__esModule",{value:!0}),Tu.appendAll=void 0;function S_(t){return function(e){return function*(){for(const i of e())yield i,yield t}}}Tu.appendAll=S_;var qu={};Object.defineProperty(qu,"__esModule",{value:!0}),qu.cartesian=void 0;function M_(t){return function(e){return function*(){for(const i of t())for(const u of e())yield[i,u]}}}qu.cartesian=M_;var Du={},mr={};Object.defineProperty(mr,"__esModule",{value:!0}),mr.prepend=mr.prependW=void 0;function oh(t){return function(e){return function*(){yield t,yield*e()}}}mr.prependW=oh;function R_(t){return oh(t)}mr.prepend=R_,Object.defineProperty(Du,"__esModule",{value:!0}),Du.chop=void 0;const A_=mr;function w_(t){return function(e){return function*(){let i=e;for(;;){const[u,a]=t(i);yield u;const o=a(),{value:c,done:l}=o.next();if(l)return;i=(0,A_.prepend)(c)(()=>o)}}}}Du.chop=w_;var Ku={};Object.defineProperty(Ku,"__esModule",{value:!0}),Ku.chunksOf=void 0;const E_=Bn;function W_(t){return function(e){return t<=0?(0,E_.of)(e):function*(){const i=e();let u=!1;for(;!u;)yield function*(){for(let o=t;o>0;--o){const{value:c,done:l}=i.next();if(l){u=!0;return}yield c}}}}}Ku.chunksOf=W_;var Vu={};Object.defineProperty(Vu,"__esModule",{value:!0}),Vu.comprehension=void 0;const O_=yt;function $_(t,n,e){return function*(){e??=O_.constTrue;function*i(u,a,o=0){if(u.length===1){const c=u[0];for(const l of c())a[o]=l,e(...a)&&(yield n(...a))}else{const c=u.shift();for(const l of c())a[o]=l,yield*i(u,a,o+1)}}yield*i([...t],new Array(t.length))}}Vu.comprehension=$_;var Gu={};Object.defineProperty(Gu,"__esModule",{value:!0}),Gu.countBy=void 0;const N_=yt,C_=Ke;function L_(t){return function(e){return(0,N_.pipe)(e,(0,C_.reduce)({},(r,i)=>{const u=t(i);return r[u]||=0,r[u]+=1,r}))}}Gu.countBy=L_;var Hu={};Object.defineProperty(Hu,"__esModule",{value:!0}),Hu.deleteAt=void 0;const F_=yt;function U_(t){return t<0?F_.identity:function(e){return function*(){for(const i of e())t--!==0&&(yield i)}}}Hu.deleteAt=U_;var Di={};Object.defineProperty(Di,"__esModule",{value:!0}),Di.difference=void 0;const B_=dn;function k_(t){function n(e,r){return typeof r<"u"?function*(){const u=(0,B_.toArray)(e);for(const a of r())u.some(o=>t.equals(o,a))||(yield a)}:function(u){return n(e,u)}}return n}Di.difference=k_;var Ki={};Object.defineProperty(Ki,"__esModule",{value:!0}),Ki.dropLeftWhile=void 0;function z_(t){return function(e){return function*(){const i=e();for(const u of i)if(!t(u)){yield u,yield*i;return}}}}Ki.dropLeftWhile=z_;var Ju={};Object.defineProperty(Ju,"__esModule",{value:!0}),Ju.dropRightWhile=void 0;const ch=dn;function P_(t){return function(e){const r=(0,ch.toArray)(e);for(let i=r.length-1;i>=0;--i)if(!t(r[i])){r.splice(i+1);break}return(0,ch.fromIterable)(r)}}Ju.dropRightWhile=P_;var Zu={},be={};Object.defineProperty(be,"__esModule",{value:!0}),be.take=be.takeLeft=void 0;const j_=le;function lh(t){return function(e){return t<=0?j_.empty:function*(){for(const i of e())if(yield i,--t,t==0)break}}}be.takeLeft=lh,be.take=lh,Object.defineProperty(Zu,"__esModule",{value:!0}),Zu.dropRight=void 0;const T_=yt,fh=dn,q_=be;function D_(t){return t<0?(0,q_.take)(-t):t==0?T_.identity:function(e){const r=(0,fh.toArray)(e).slice(0,-t);return(0,fh.fromIterable)(r)}}Zu.dropRight=D_;var Xu={};Object.defineProperty(Xu,"__esModule",{value:!0}),Xu.duplicate=void 0;const K_=yt,V_=sr;function G_(t){return(0,V_.extend)(K_.identity)(t)}Xu.duplicate=G_;var Yu={},ei={},ri={};Object.defineProperty(ri,"__esModule",{value:!0}),ri.head=void 0;const sh=kn;function H_(t){const n=t(),{value:e,done:r}=n.next();return r?sh.none:(0,sh.some)(e)}ri.head=H_,Object.defineProperty(ei,"__esModule",{value:!0}),ei.findFirst=void 0;const J_=yt,Z_=bu,X_=Ki,Y_=ri;function Q_(t){return(0,J_.flow)((0,X_.dropLeftWhile)((0,Z_.not)(t)),Y_.head)}ei.findFirst=Q_,Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.elem=void 0;const x_=yt,tI=kn,nI=ei;function eI(t){function n(e,r){return typeof r<"u"?(0,x_.pipe)(r,(0,nI.findFirst)(i=>t.equals(e,i)),tI.isSome):function(u){return n(e,u)}}return n}Yu.elem=eI;var Vi={};Object.defineProperty(Vi,"__esModule",{value:!0}),Vi.every=void 0;function rI(t){return function(e){for(const r of e())if(!t(r))return!1;return!0}}Vi.every=rI;var Qu={};Object.defineProperty(Qu,"__esModule",{value:!0}),Qu.filterA=void 0;const hh=kn,iI=uc;function uI(t){return function(e){return function(i){return iI.Witherable.wither(t)(i,u=>t.map(e(u),a=>a?(0,hh.some)(u):hh.none))}}}Qu.filterA=uI;var xu={};Object.defineProperty(xu,"__esModule",{value:!0}),xu.findFirstMap=void 0;const aI=yt,dh=kn,oI=Mn,cI=ei;function lI(t){return(0,aI.flow)((0,oI.map)(t),(0,cI.findFirst)(dh.isSome),dh.flatten)}xu.findFirstMap=lI;var ta={},Gi={},Hi={};Object.defineProperty(Hi,"__esModule",{value:!0}),Hi.last=void 0;const vh=kn;function fI(t){const n=t(),{done:e,value:r}=n.next();if(e)return vh.none;let i=r;for(const u of n)i=u;return(0,vh.some)(i)}Hi.last=fI,Object.defineProperty(Gi,"__esModule",{value:!0}),Gi.findLast=void 0;const sI=yt,hI=Mu,dI=Hi;function vI(t){return(0,sI.flow)((0,hI.filter)(t),dI.last)}Gi.findLast=vI,Object.defineProperty(ta,"__esModule",{value:!0}),ta.findLastMap=void 0;const mI=yt,mh=kn,pI=Mn,gI=Gi;function yI(t){return(0,mI.flow)((0,pI.map)(t),(0,gI.findLast)(mh.isSome),mh.flatten)}ta.findLastMap=yI;var na={};Object.defineProperty(na,"__esModule",{value:!0}),na.flap=void 0;function _I(t){return function(e){return function*(){for(const i of e())yield i(t)}}}na.flap=_I;var ea={};Object.defineProperty(ea,"__esModule",{value:!0}),ea.flatten=void 0;function II(t){return function*(){for(const e of t())yield*e()}}ea.flatten=II;var ra={};Object.defineProperty(ra,"__esModule",{value:!0}),ra.init=void 0;const ph=kn;function bI(t){const n=t(),{done:e,value:r}=n.next();return e?ph.none:(0,ph.some)(function*(){let u=n.next();if(u.done)return;yield r;let a=u.value;for(;!u.done;){if(u=n.next(),u.done)return;yield a,a=u.value}})}ra.init=bI;var ia={},Ji={};Object.defineProperty(Ji,"__esModule",{value:!0}),Ji.intersperse=void 0;function SI(t){return function(e){return function*(){const i=e();let u=i.next();if(!u.done)for(yield u.value;;){const a=i.next();if(a.done)break;yield t,yield a.value}}}}Ji.intersperse=SI,Object.defineProperty(ia,"__esModule",{value:!0}),ia.intercalate=void 0;const MI=Ji;function RI(t){return function(e){return function(i){let u=t.empty;const a=(0,MI.intersperse)(e)(i);for(const o of a())u=t.concat(u,o);return u}}}ia.intercalate=RI;var Zi={};Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.intersection=void 0;const AI=dn;function wI(t){function n(e,r){return typeof r<"u"?function*(){const u=e();let a=u.next();if(a.done)return;const o=(0,AI.toArray)(r);for(;!a.done;){const c=a.value;o.some(l=>t.equals(l,c))&&(yield c),a=u.next()}}:function(u){return n(e,u)}}return n}Zi.intersection=wI;var Je={};Object.defineProperty(Je,"__esModule",{value:!0}),Je.isNotEmpty=Je.isEmpty=void 0;function gh(t){const n=t(),{done:e}=n.next();return e}Je.isEmpty=gh;function EI(t){return!gh(t)}Je.isNotEmpty=EI;var ua={};Object.defineProperty(ua,"__esModule",{value:!0}),ua.lefts=void 0;const WI=cr;function OI(t){return function*(){for(const e of t())(0,WI.isLeft)(e)&&(yield e.left)}}ua.lefts=OI;var aa={};Object.defineProperty(aa,"__esModule",{value:!0}),aa.lookup=void 0;const $I=yt,NI=kn,CI=ye,LI=ri,FI=be;function yh(t,n){return typeof n>"u"?function(r){return yh(t,r)}:t<0?NI.none:(0,$I.pipe)(n,(0,CI.dropLeft)(t),(0,FI.take)(1),LI.head)}aa.lookup=yh;var oa={};Object.defineProperty(oa,"__esModule",{value:!0}),oa.makeBy=void 0;function UI(t,n){return function*(){t<0&&(t=-t);for(let r=0;r<t;++r)yield n(r)}}oa.makeBy=UI;var Ze={};Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.foldLeft=Ze.matchLeft=Ze.matchLeftW=void 0;function _h(t,n){return function(r){const i=r(),{value:u,done:a}=i.next();return a?t():n(u,function*(){yield*i})}}Ze.matchLeftW=_h;function Ih(t,n){return _h(t,n)}Ze.matchLeft=Ih,Ze.foldLeft=Ih;var Xe={};Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.foldRight=Xe.matchRight=Xe.matchRightW=void 0;const bh=dn,BI=Je;function Sh(t,n){return function(r){if((0,BI.isEmpty)(r))return t();{const i=(0,bh.toArray)(r),u=i.pop();return n((0,bh.fromIterable)(i),u)}}}Xe.matchRightW=Sh;function Mh(t,n){return Sh(t,n)}Xe.matchRight=Mh,Xe.foldRight=Mh;var ii={};Object.defineProperty(ii,"__esModule",{value:!0}),ii.match=ii.matchW=void 0;const kI=Je;function Rh(t,n){return function(r){return(0,kI.isEmpty)(r)?t():n(r)}}ii.matchW=Rh;function zI(t,n){return Rh(t,n)}ii.match=zI;var ui={};function PI(t){var n=Af(t);return function(e){return{concat:n(e).concat,empty:t.of(e.empty)}}}var ca=function(t){return function(n){return!t(n)}},zt=In,Tt=$n;function la(t){return function(n){return t(n)?Tt(n):zt}}var Ah=function(t){return t._tag==="Right"?zt:Tt(t.left)},ac=function(t){return t._tag==="Left"?zt:Tt(t.right)},Vn=function(t,n){return Q(t,$e(n))},pr=function(t,n){return Q(t,Oh(n))},fa=function(t,n,e){return Q(t,Nh(n,e))},sa=function(t){var n=Ch(t);return function(e,r){return Q(e,n(r))}},ha=function(t,n,e){return Q(t,Lh(n,e))},oc=function(t){var n=jh(t);return function(e,r){return Q(e,n(r))}},cc=function(t,n){return Q(t,Fh(n))},Xi=function(t,n){return Q(t,Bh(n))},lc=function(t,n){return Q(t,kh(n))},wh=function(t,n){return Q(t,vc(n))},fc=function(t,n){return Q(t,zh(n))},sc=function(t,n){return Q(t,Ph(n))},mn="Option",jI=function(t){return{show:function(n){return Et(n)?"none":"some(".concat(t.show(n.value),")")}}},Eh=function(t){return{equals:function(n,e){return n===e||(Et(n)?Et(e):Et(e)?!1:t.equals(n.value,e.value))}}},TI=function(t){return{equals:Eh(t).equals,compare:function(n,e){return n===e?0:pa(n)?pa(e)?t.compare(n.value,e.value):1:-1}}},hc=function(t){return{concat:function(n,e){return Et(n)?e:Et(e)?n:Tt(t.concat(n.value,e.value))},empty:zt}},$e=function(t){return function(n){return Et(n)?zt:Tt(t(n.value))}},ai={URI:mn,map:Vn},qI=jr(2,$f(ai)),DI=Kp(ai),Ne=Tt,Wh={URI:mn,of:Ne},Oh=function(t){return function(n){return Et(n)||Et(t)?zt:Tt(n.value(t.value))}},Yi={URI:mn,map:Vn,ap:pr},$h={URI:mn,map:Vn,ap:pr,of:Ne},gr=jr(2,function(t,n){return Et(t)?zt:n(t.value)}),Qi={URI:mn,map:Vn,ap:pr,chain:gr},KI={URI:mn,map:Vn,ap:pr,of:Ne,chain:gr},Nh=function(t,n){return function(e){return Et(e)?t:n(t,e.value)}},Ch=function(t){return function(n){return function(e){return Et(e)?t.empty:n(e.value)}}},Lh=function(t,n){return function(e){return Et(e)?t:n(e.value,t)}},VI={URI:mn,reduce:fa,foldMap:sa,reduceRight:ha},dc=jr(2,function(t,n){return Et(t)?n():t}),GI=dc,Fh=dc,HI={URI:mn,map:Vn,alt:cc},da=function(){return zt},Uh={URI:mn,zero:da},JI=Hf(Uh,Wh),ZI={URI:mn,map:Vn,ap:pr,of:Ne,alt:cc,zero:da},vc=function(t){return function(n){return Et(n)?zt:Tt(t(n))}},XI={URI:mn,map:Vn,extend:wh},oi=gr(Ht),YI=Dr(zt,zt),ci=function(t){return Et(t)?YI:Dr(Ah(t.value),ac(t.value))},mc={URI:mn,compact:oi,separate:ci},Bh=function(t){return function(n){return Et(n)?zt:t(n.value)?n:zt}},kh=function(t){return function(n){return Et(n)?zt:t(n.value)}},zh=function(t){return function(n){return Dr(Xi(n,ca(t)),Xi(n,t))}},Ph=function(t){return Y($e(t),ci)},QI={URI:mn,map:Vn,compact:oi,separate:ci,filter:Xi,filterMap:lc,partition:fc,partitionMap:sc},jh=function(t){return function(n){return function(e){return Et(e)?t.of(zt):t.map(n(e.value),Tt)}}},va=function(t){return function(n){return Et(n)?t.of(zt):t.map(n.value,Tt)}},pc={URI:mn,map:Vn,reduce:fa,foldMap:sa,reduceRight:ha,traverse:oc,sequence:va},gc=Gf(pc,mc),yc=Vf(pc,mc),xI=function(t){var n=gc(t);return function(e){return function(r){return n(r,e)}}},tb=function(t){var n=yc(t);return function(e){return function(r){return n(r,e)}}},nb={URI:mn,map:Vn,reduce:fa,foldMap:sa,reduceRight:ha,traverse:oc,sequence:va,compact:oi,separate:ci,filter:Xi,filterMap:lc,partition:fc,partitionMap:sc,wither:gc,wilt:yc},_c=function(){return zt},eb={URI:mn,map:Vn,ap:pr,of:Ne,chain:gr,throwError:_c},Ic=ac,ma={URI:mn,fromEither:Ic},pa=Tr,Et=function(t){return t._tag==="None"},bc=function(t,n){return function(e){return Et(e)?t():n(e.value)}},rb=bc,ga=bc,Gn=ga,Th=function(t){return function(n){return Et(n)?t():n.value}},Sc=Th,ib=Ef(ai),ub=Sf(Yi),ab=Mf(Yi),ob=oi,qh=jr(2,Wo(Qi)),Dh=jr(2,Dp(ma,Qi)),cb=vc(Ht),lb=wu(ma),fb=qp(ma,Qi),sb=Dh,yr=function(t){return t==null?zt:Tt(t)},Kh=function(t){try{return Tt(t())}catch{return zt}},hb=function(t){return function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return Kh(function(){return t.apply(void 0,n)})}},db=function(t){return Y(t,yr)},Vh=function(t){return function(n){return Et(n)?zt:yr(t(n.value))}},vb=ga(Mm,Ht),mb=ga(Rm,Ht);function Gh(t){return function(n,e){if(e===void 0){var r=Gh(t);return function(i){return r(n,i)}}return Et(e)?!1:t.equals(n,e.value)}}var pb=function(t){return function(n){return Et(n)?!1:t(n.value)}},gb=Ne(If),yb=Wf(ai),_b=Of(ai),Ib=wf(Qi),bb=Rf(Yi),Hh=Ne(Eo),Jh=function(t){return function(n){var e=t(0,wo(n));if(Et(e))return zt;for(var r=[e.value],i=1;i<n.length;i++){var u=t(i,n[i]);if(Et(u))return zt;r.push(u.value)}return Tt(r)}},Mc=function(t){var n=Jh(t);return function(e){return Ao(e)?n(e):Hh}},Sb=Mc,Zh=function(t){return Mc(function(n,e){return t(e)})},Mb=Zh(Ht),Rc=gr,Rb=qh;function Ab(t){return function(n){return pa(t(n))}}var wb=Vh,Xh={URI:mn,map:Vn,of:Ne,ap:pr,chain:gr,reduce:fa,foldMap:sa,reduceRight:ha,traverse:oc,sequence:va,zero:da,alt:cc,extend:wh,compact:oi,separate:ci,filter:Xi,filterMap:lc,partition:fc,partitionMap:sc,wither:gc,wilt:yc,throwError:_c},Eb=Af(Yi),Wb=PI($h),Yh=function(){return hc(Yp())},Ob=function(){return hc(Qp())},$b=Object.freeze({__proto__:null,Alt:HI,Alternative:ZI,ApT:Hh,Applicative:$h,Apply:Yi,Chain:Qi,Compactable:mc,Do:gb,Extend:XI,Filterable:QI,Foldable:VI,FromEither:ma,Functor:ai,Monad:KI,MonadThrow:eb,Pointed:Wh,Traversable:pc,URI:mn,Witherable:nb,Zero:Uh,alt:Fh,altW:GI,ap:Oh,apFirst:ub,apS:bb,apSecond:ab,as:qI,asUnit:DI,bind:Ib,bindTo:yb,chain:Rc,chainEitherK:fb,chainFirst:Rb,chainFirstEitherK:sb,chainNullableK:Vh,compact:oi,duplicate:cb,elem:Gh,exists:pb,extend:vc,filter:Bh,filterMap:kh,flap:ib,flatMap:gr,flatten:ob,fold:Gn,foldMap:Ch,foldW:rb,fromEither:Ic,fromEitherK:lb,fromNullable:yr,fromNullableK:db,fromPredicate:la,getApplyMonoid:Wb,getApplySemigroup:Eb,getEq:Eh,getFirstMonoid:Yh,getLastMonoid:Ob,getLeft:Ah,getMonoid:hc,getOrElse:Sc,getOrElseW:Th,getOrd:TI,getRefinement:Ab,getRight:ac,getShow:jI,guard:JI,isNone:Et,isSome:pa,let:_b,map:$e,mapNullable:wb,match:ga,matchW:bc,none:zt,of:Ne,option:Xh,orElse:dc,partition:zh,partitionMap:Ph,reduce:Nh,reduceRight:Lh,separate:ci,sequence:va,sequenceArray:Mb,some:Tt,tap:qh,tapEither:Dh,throwError:_c,toNullable:vb,toUndefined:mb,traverse:jh,traverseArray:Zh,traverseArrayWithIndex:Sb,traverseReadonlyArrayWithIndex:Mc,traverseReadonlyNonEmptyArrayWithIndex:Jh,tryCatch:Kh,tryCatchK:hb,wilt:tb,wither:xI,zero:da}),Nb=_o($b);Object.defineProperty(ui,"__esModule",{value:!0}),ui.maximum=ui.minimum=void 0;const ya=Nb;function Cb(t){return function(e){let r=e(),{value:i,done:u}=r.next();if(u)return ya.none;for(const a of r)t.compare(i,a)===1&&(i=a);return(0,ya.some)(i)}}ui.minimum=Cb;function Lb(t){return function(e){let r=e(),{value:i,done:u}=r.next();if(u)return ya.none;for(const a of r)t.compare(i,a)===-1&&(i=a);return(0,ya.some)(i)}}ui.maximum=Lb;var xi={};Object.defineProperty(xi,"__esModule",{value:!0}),xi.modifyAt=void 0;const Fb=yt;function Ub(t,n){return t<0?Fb.identity:function(r){return function*(){for(const u of r()){if(t--===0){yield n(u);continue}yield u}}}}xi.modifyAt=Ub;var _a={};Object.defineProperty(_a,"__esModule",{value:!0}),_a.none=void 0;const Bb=bu,kb=Vi;function zb(t){return(0,kb.every)((0,Bb.not)(t))}_a.none=zb;var Ia={};Object.defineProperty(Ia,"__esModule",{value:!0}),Ia.prependAll=void 0;function Pb(t){return function(e){return function*(){for(const i of e())yield t,yield i}}}Ia.prependAll=Pb;var ba={};Object.defineProperty(ba,"__esModule",{value:!0}),ba.range=void 0;function jb(t,n=1/0){return function*(){for(;t<n;)yield t++}}ba.range=jb;var Sa={};Object.defineProperty(Sa,"__esModule",{value:!0}),Sa.replicate=void 0;function Tb(t,n){return function*(){for(;t-- >0;)yield n}}Sa.replicate=Tb;var Ma={};Object.defineProperty(Ma,"__esModule",{value:!0}),Ma.rights=void 0;const qb=cr;function Db(t){return function*(){for(const e of t())(0,qb.isRight)(e)&&(yield e.right)}}Ma.rights=Db;var Ra={},Qh={},xh={},Ac={};(function(t){var n=et&&et.__createBinding||(Object.create?function(y,S,U,D){D===void 0&&(D=U);var dt=Object.getOwnPropertyDescriptor(S,U);(!dt||("get"in dt?!S.__esModule:dt.writable||dt.configurable))&&(dt={enumerable:!0,get:function(){return S[U]}}),Object.defineProperty(y,D,dt)}:function(y,S,U,D){D===void 0&&(D=U),y[D]=S[U]}),e=et&&et.__setModuleDefault||(Object.create?function(y,S){Object.defineProperty(y,"default",{enumerable:!0,value:S})}:function(y,S){y.default=S}),r=et&&et.__importStar||function(y){if(y&&y.__esModule)return y;var S={};if(y!=null)for(var U in y)U!=="default"&&Object.prototype.hasOwnProperty.call(y,U)&&n(S,y,U);return e(S,y),S},i=et&&et.__spreadArray||function(y,S,U){if(U||arguments.length===2)for(var D=0,dt=S.length,Mt;D<dt;D++)(Mt||!(D in S))&&(Mt||(Mt=Array.prototype.slice.call(S,0,D)),Mt[D]=S[D]);return y.concat(Mt||Array.prototype.slice.call(S))};Object.defineProperty(t,"__esModule",{value:!0}),t.reduceRight=t.foldMap=t.reduce=t.mapWithIndex=t.map=t.flatten=t.duplicate=t.extend=t.flatMap=t.ap=t.alt=t.altW=t.of=t.chunksOf=t.splitAt=t.chop=t.chainWithIndex=t.intersperse=t.prependAll=t.unzip=t.zip=t.zipWith=t.modifyAt=t.updateAt=t.sort=t.groupBy=t.group=t.reverse=t.concat=t.concatW=t.fromArray=t.unappend=t.unprepend=t.range=t.replicate=t.makeBy=t.fromReadonlyArray=t.rotate=t.union=t.sortBy=t.uniq=t.unsafeUpdateAt=t.unsafeInsertAt=t.append=t.appendW=t.prepend=t.prependW=t.isOutOfBound=t.isNonEmpty=t.empty=void 0,t.groupSort=t.chain=t.intercalate=t.updateLast=t.modifyLast=t.updateHead=t.modifyHead=t.matchRight=t.matchLeft=t.concatAll=t.max=t.min=t.init=t.last=t.tail=t.head=t.apS=t.bind=t.let=t.bindTo=t.Do=t.Comonad=t.Alt=t.TraversableWithIndex=t.Traversable=t.FoldableWithIndex=t.Foldable=t.Monad=t.chainFirst=t.Chain=t.Applicative=t.apSecond=t.apFirst=t.Apply=t.FunctorWithIndex=t.Pointed=t.flap=t.Functor=t.getUnionSemigroup=t.getEq=t.getSemigroup=t.getShow=t.URI=t.extract=t.traverseWithIndex=t.sequence=t.traverse=t.reduceRightWithIndex=t.foldMapWithIndex=t.reduceWithIndex=void 0,t.readonlyNonEmptyArray=t.fold=t.prependToAll=t.insertAt=t.snoc=t.cons=t.unsnoc=t.uncons=t.filterWithIndex=t.filter=void 0;var u=Qt,a=On,o=Su,c=yt,l=Yt,f=r(fe),h=Bi,g=r(Ro);t.empty=f.emptyReadonlyArray,t.isNonEmpty=f.isNonEmpty;var I=function(y,S){return y<0||y>=S.length};t.isOutOfBound=I;var A=function(y){return function(S){return i([y],S,!0)}};t.prependW=A,t.prepend=t.prependW;var _=function(y){return function(S){return i(i([],S,!0),[y],!1)}};t.appendW=_,t.append=t.appendW;var M=function(y,S,U){if((0,t.isNonEmpty)(U)){var D=f.fromReadonlyNonEmptyArray(U);return D.splice(y,0,S),D}return[S]};t.unsafeInsertAt=M;var E=function(y,S,U){if(U[y]===S)return U;var D=f.fromReadonlyNonEmptyArray(U);return D[y]=S,D};t.unsafeUpdateAt=E;var O=function(y){return function(S){if(S.length===1)return S;for(var U=[(0,t.head)(S)],D=(0,t.tail)(S),dt=function(ar){U.every(function(kr){return!y.equals(kr,ar)})&&U.push(ar)},Mt=0,ln=D;Mt<ln.length;Mt++){var ae=ln[Mt];dt(ae)}return U}};t.uniq=O;var B=function(y){if((0,t.isNonEmpty)(y)){var S=(0,h.getMonoid)();return(0,t.sort)(y.reduce(S.concat,S.empty))}return c.identity};t.sortBy=B;var V=function(y){var S=(0,t.uniq)(y);return function(U){return function(D){return S((0,c.pipe)(D,Nt(U)))}}};t.union=V;var rt=function(y){return function(S){var U=S.length,D=Math.round(y)%U;if((0,t.isOutOfBound)(Math.abs(D),S)||D===0)return S;if(D<0){var dt=(0,t.splitAt)(-D)(S),Mt=dt[0],ln=dt[1];return(0,c.pipe)(ln,Nt(Mt))}else return(0,t.rotate)(D-U)(S)}};t.rotate=rt;var J=function(y){return(0,t.isNonEmpty)(y)?f.some(y):f.none};t.fromReadonlyArray=J;var R=function(y){return function(S){for(var U=Math.max(0,Math.floor(S)),D=[y(0)],dt=1;dt<U;dt++)D.push(y(dt));return D}};t.makeBy=R;var N=function(y){return(0,t.makeBy)(function(){return y})};t.replicate=N;var G=function(y,S){return y<=S?(0,t.makeBy)(function(U){return y+U})(S-y+1):[y]};t.range=G;var T=function(y){return[(0,t.head)(y),(0,t.tail)(y)]};t.unprepend=T;var ut=function(y){return[(0,t.init)(y),(0,t.last)(y)]};t.unappend=ut;var pt=function(y){return(0,t.fromReadonlyArray)(y.slice())};t.fromArray=pt;function Ft(y){return function(S){return S.concat(y)}}t.concatW=Ft;function Nt(y,S){return S?y.concat(S):function(U){return U.concat(y)}}t.concat=Nt;var ct=function(y){return y.length===1?y:i([(0,t.last)(y)],y.slice(0,-1).reverse(),!0)};t.reverse=ct;function st(y){return function(S){var U=S.length;if(U===0)return t.empty;for(var D=[],dt=S[0],Mt=[dt],ln=1;ln<U;ln++){var ae=S[ln];y.equals(ae,dt)?Mt.push(ae):(D.push(Mt),dt=ae,Mt=[dt])}return D.push(Mt),D}}t.group=st;var ft=function(y){return function(S){for(var U={},D=0,dt=S;D<dt.length;D++){var Mt=dt[D],ln=y(Mt);f.has.call(U,ln)?U[ln].push(Mt):U[ln]=[Mt]}return U}};t.groupBy=ft;var It=function(y){return function(S){return S.length===1?S:S.slice().sort(y.compare)}};t.sort=It;var tn=function(y,S){return(0,t.modifyAt)(y,function(){return S})};t.updateAt=tn;var qt=function(y,S){return function(U){return(0,t.isOutOfBound)(y,U)?f.none:f.some((0,t.unsafeUpdateAt)(y,S(U[y]),U))}};t.modifyAt=qt;var hn=function(y,S,U){for(var D=[U(y[0],S[0])],dt=Math.min(y.length,S.length),Mt=1;Mt<dt;Mt++)D[Mt]=U(y[Mt],S[Mt]);return D};t.zipWith=hn;function En(y,S){return S===void 0?function(U){return En(U,y)}:(0,t.zipWith)(y,S,function(U,D){return[U,D]})}t.zip=En;var Wn=function(y){for(var S=[y[0][0]],U=[y[0][1]],D=1;D<y.length;D++)S[D]=y[D][0],U[D]=y[D][1];return[S,U]};t.unzip=Wn;var Pn=function(y){return function(S){for(var U=[y,S[0]],D=1;D<S.length;D++)U.push(y,S[D]);return U}};t.prependAll=Pn;var jn=function(y){return function(S){var U=(0,t.tail)(S);return(0,t.isNonEmpty)(U)?(0,c.pipe)(U,(0,t.prependAll)(y),(0,t.prepend)((0,t.head)(S))):S}};t.intersperse=jn;var Fn=function(y){return function(S){for(var U=f.fromReadonlyNonEmptyArray(y(0,(0,t.head)(S))),D=1;D<S.length;D++)U.push.apply(U,y(D,S[D]));return U}};t.chainWithIndex=Fn;var x=function(y){return function(S){for(var U=y(S),D=U[0],dt=U[1],Mt=[D],ln=dt;(0,t.isNonEmpty)(ln);){var ae=y(ln),ar=ae[0],kr=ae[1];Mt.push(ar),ln=kr}return Mt}};t.chop=x;var X=function(y){return function(S){var U=Math.max(1,y);return U>=S.length?[S,t.empty]:[(0,c.pipe)(S.slice(1,U),(0,t.prepend)((0,t.head)(S))),S.slice(U)]}};t.splitAt=X;var at=function(y){return(0,t.chop)((0,t.splitAt)(y))};t.chunksOf=at;var St=function(y,S){return(0,c.pipe)(y,(0,t.map)(S))},bt=function(y,S){return(0,c.pipe)(y,(0,t.mapWithIndex)(S))},Ut=function(y,S){return(0,c.pipe)(y,(0,t.ap)(S))},nn=function(y,S){return(0,c.pipe)(y,(0,t.extend)(S))},Dt=function(y,S,U){return(0,c.pipe)(y,(0,t.reduce)(S,U))},Ct=function(y){var S=(0,t.foldMap)(y);return function(U,D){return(0,c.pipe)(U,S(D))}},Xt=function(y,S,U){return(0,c.pipe)(y,(0,t.reduceRight)(S,U))},un=function(y){var S=(0,t.traverse)(y);return function(U,D){return(0,c.pipe)(U,S(D))}},gn=function(y,S){return(0,c.pipe)(y,(0,t.alt)(S))},tt=function(y,S,U){return(0,c.pipe)(y,(0,t.reduceWithIndex)(S,U))},vt=function(y){var S=(0,t.foldMapWithIndex)(y);return function(U,D){return(0,c.pipe)(U,S(D))}},it=function(y,S,U){return(0,c.pipe)(y,(0,t.reduceRightWithIndex)(S,U))},At=function(y){var S=(0,t.traverseWithIndex)(y);return function(U,D){return(0,c.pipe)(U,S(D))}};t.of=f.singleton;var Kt=function(y){return function(S){return(0,c.pipe)(S,Ft(y()))}};t.altW=Kt,t.alt=t.altW;var Bt=function(y){return(0,t.flatMap)(function(S){return(0,c.pipe)(y,(0,t.map)(S))})};t.ap=Bt,t.flatMap=(0,c.dual)(2,function(y,S){return(0,c.pipe)(y,(0,t.chainWithIndex)(function(U,D){return S(D,U)}))});var $t=function(y){return function(S){for(var U=(0,t.tail)(S),D=[y(S)];(0,t.isNonEmpty)(U);)D.push(y(U)),U=(0,t.tail)(U);return D}};t.extend=$t,t.duplicate=(0,t.extend)(c.identity),t.flatten=(0,t.flatMap)(c.identity);var an=function(y){return(0,t.mapWithIndex)(function(S,U){return y(U)})};t.map=an;var bn=function(y){return function(S){for(var U=[y(0,(0,t.head)(S))],D=1;D<S.length;D++)U.push(y(D,S[D]));return U}};t.mapWithIndex=bn;var yn=function(y,S){return(0,t.reduceWithIndex)(y,function(U,D,dt){return S(D,dt)})};t.reduce=yn;var Un=function(y){return function(S){return function(U){return U.slice(1).reduce(function(D,dt){return y.concat(D,S(dt))},S(U[0]))}}};t.foldMap=Un;var kt=function(y,S){return(0,t.reduceRightWithIndex)(y,function(U,D,dt){return S(D,dt)})};t.reduceRight=kt;var C=function(y,S){return function(U){return U.reduce(function(D,dt,Mt){return S(Mt,D,dt)},y)}};t.reduceWithIndex=C;var $=function(y){return function(S){return function(U){return U.slice(1).reduce(function(D,dt,Mt){return y.concat(D,S(Mt+1,dt))},S(0,U[0]))}}};t.foldMapWithIndex=$;var P=function(y,S){return function(U){return U.reduceRight(function(D,dt,Mt){return S(Mt,dt,D)},y)}};t.reduceRightWithIndex=P;var gt=function(y){var S=(0,t.traverseWithIndex)(y);return function(U){return S(function(D,dt){return U(dt)})}};t.traverse=gt;var jt=function(y){return(0,t.traverseWithIndex)(y)(c.SK)};t.sequence=jt;var L=function(y){return function(S){return function(U){for(var D=y.map(S(0,(0,t.head)(U)),t.of),dt=1;dt<U.length;dt++)D=y.ap(y.map(D,function(Mt){return function(ln){return(0,c.pipe)(Mt,(0,t.append)(ln))}}),S(dt,U[dt]));return D}}};t.traverseWithIndex=L,t.extract=f.head,t.URI="ReadonlyNonEmptyArray";var z=function(y){return{show:function(S){return"[".concat(S.map(y.show).join(", "),"]")}}};t.getShow=z;var H=function(){return{concat:Nt}};t.getSemigroup=H;var Rt=function(y){return(0,o.fromEquals)(function(S,U){return S.length===U.length&&S.every(function(D,dt){return y.equals(D,U[dt])})})};t.getEq=Rt;var mt=function(y){var S=(0,t.union)(y);return{concat:function(U,D){return S(D)(U)}}};t.getUnionSemigroup=mt,t.Functor={URI:t.URI,map:St},t.flap=(0,l.flap)(t.Functor),t.Pointed={URI:t.URI,of:t.of},t.FunctorWithIndex={URI:t.URI,map:St,mapWithIndex:bt},t.Apply={URI:t.URI,map:St,ap:Ut},t.apFirst=(0,u.apFirst)(t.Apply),t.apSecond=(0,u.apSecond)(t.Apply),t.Applicative={URI:t.URI,map:St,ap:Ut,of:t.of},t.Chain={URI:t.URI,map:St,ap:Ut,chain:t.flatMap},t.chainFirst=(0,a.chainFirst)(t.Chain),t.Monad={URI:t.URI,map:St,ap:Ut,of:t.of,chain:t.flatMap},t.Foldable={URI:t.URI,reduce:Dt,foldMap:Ct,reduceRight:Xt},t.FoldableWithIndex={URI:t.URI,reduce:Dt,foldMap:Ct,reduceRight:Xt,reduceWithIndex:tt,foldMapWithIndex:vt,reduceRightWithIndex:it},t.Traversable={URI:t.URI,map:St,reduce:Dt,foldMap:Ct,reduceRight:Xt,traverse:un,sequence:t.sequence},t.TraversableWithIndex={URI:t.URI,map:St,mapWithIndex:bt,reduce:Dt,foldMap:Ct,reduceRight:Xt,traverse:un,sequence:t.sequence,reduceWithIndex:tt,foldMapWithIndex:vt,reduceRightWithIndex:it,traverseWithIndex:At},t.Alt={URI:t.URI,map:St,alt:gn},t.Comonad={URI:t.URI,map:St,extend:nn,extract:t.extract},t.Do=(0,t.of)(f.emptyRecord),t.bindTo=(0,l.bindTo)(t.Functor);var Sn=(0,l.let)(t.Functor);t.let=Sn,t.bind=(0,a.bind)(t.Chain),t.apS=(0,u.apS)(t.Apply),t.head=t.extract,t.tail=f.tail;var _n=function(y){return y[y.length-1]};t.last=_n;var re=function(y){return y.slice(0,-1)};t.init=re;var ie=function(y){var S=g.min(y);return function(U){return U.reduce(S.concat)}};t.min=ie;var ue=function(y){var S=g.max(y);return function(U){return U.reduce(S.concat)}};t.max=ue;var ve=function(y){return function(S){return S.reduce(y.concat)}};t.concatAll=ve;var Te=function(y){return function(S){return y((0,t.head)(S),(0,t.tail)(S))}};t.matchLeft=Te;var qe=function(y){return function(S){return y((0,t.init)(S),(0,t.last)(S))}};t.matchRight=qe;var b=function(y){return function(S){return i([y((0,t.head)(S))],(0,t.tail)(S),!0)}};t.modifyHead=b;var w=function(y){return(0,t.modifyHead)(function(){return y})};t.updateHead=w;var j=function(y){return function(S){return(0,c.pipe)((0,t.init)(S),(0,t.append)(y((0,t.last)(S))))}};t.modifyLast=j;var K=function(y){return(0,t.modifyLast)(function(){return y})};t.updateLast=K;var _t=function(y){var S=(0,t.concatAll)(y);return function(U){return(0,c.flow)((0,t.intersperse)(U),S)}};t.intercalate=_t,t.chain=t.flatMap;function wt(y){var S=(0,t.sort)(y),U=st(y);return function(D){return(0,t.isNonEmpty)(D)?U(S(D)):t.empty}}t.groupSort=wt;function Gt(y){return(0,t.filterWithIndex)(function(S,U){return y(U)})}t.filter=Gt;var Tn=function(y){return function(S){return(0,t.fromReadonlyArray)(S.filter(function(U,D){return y(D,U)}))}};t.filterWithIndex=Tn,t.uncons=t.unprepend,t.unsnoc=t.unappend;function me(y,S){return S===void 0?(0,t.prepend)(y):(0,c.pipe)(S,(0,t.prepend)(y))}t.cons=me;var Ee=function(y,S){return(0,c.pipe)(y,Nt([S]))};t.snoc=Ee;var ur=function(y,S){return function(U){return y<0||y>U.length?f.none:f.some((0,t.unsafeInsertAt)(y,S,U))}};t.insertAt=ur,t.prependToAll=t.prependAll,t.fold=t.concatAll,t.readonlyNonEmptyArray={URI:t.URI,of:t.of,map:St,mapWithIndex:bt,ap:Ut,chain:t.flatMap,extend:nn,extract:t.extract,reduce:Dt,foldMap:Ct,reduceRight:Xt,traverse:un,sequence:t.sequence,reduceWithIndex:tt,foldMapWithIndex:vt,reduceRightWithIndex:it,traverseWithIndex:At,alt:gn}})(Ac),function(t){var n=et&&et.__createBinding||(Object.create?function(b,w,j,K){K===void 0&&(K=j);var _t=Object.getOwnPropertyDescriptor(w,j);(!_t||("get"in _t?!w.__esModule:_t.writable||_t.configurable))&&(_t={enumerable:!0,get:function(){return w[j]}}),Object.defineProperty(b,K,_t)}:function(b,w,j,K){K===void 0&&(K=j),b[K]=w[j]}),e=et&&et.__setModuleDefault||(Object.create?function(b,w){Object.defineProperty(b,"default",{enumerable:!0,value:w})}:function(b,w){b.default=w}),r=et&&et.__importStar||function(b){if(b&&b.__esModule)return b;var w={};if(b!=null)for(var j in b)j!=="default"&&Object.prototype.hasOwnProperty.call(b,j)&&n(w,b,j);return e(w,b),w},i=et&&et.__spreadArray||function(b,w,j){if(j||arguments.length===2)for(var K=0,_t=w.length,wt;K<_t;K++)(wt||!(K in w))&&(wt||(wt=Array.prototype.slice.call(w,0,K)),wt[K]=w[K]);return b.concat(wt||Array.prototype.slice.call(w))};Object.defineProperty(t,"__esModule",{value:!0}),t.mapWithIndex=t.map=t.flatten=t.duplicate=t.extend=t.flatMap=t.ap=t.alt=t.altW=t.chunksOf=t.splitAt=t.chop=t.chainWithIndex=t.foldMap=t.foldMapWithIndex=t.intersperse=t.prependAll=t.unzip=t.zip=t.zipWith=t.of=t.copy=t.modifyAt=t.updateAt=t.insertAt=t.sort=t.groupBy=t.group=t.reverse=t.concat=t.concatW=t.unappend=t.unprepend=t.range=t.replicate=t.makeBy=t.fromArray=t.fromReadonlyNonEmptyArray=t.rotate=t.union=t.sortBy=t.uniq=t.unsafeUpdateAt=t.unsafeInsertAt=t.append=t.appendW=t.prepend=t.prependW=t.isOutOfBound=t.isNonEmpty=void 0,t.chain=t.intercalate=t.updateLast=t.modifyLast=t.updateHead=t.modifyHead=t.matchRight=t.matchLeft=t.concatAll=t.max=t.min=t.init=t.last=t.tail=t.head=t.apS=t.bind=t.let=t.bindTo=t.Do=t.Comonad=t.Alt=t.TraversableWithIndex=t.Traversable=t.FoldableWithIndex=t.Foldable=t.Monad=t.chainFirst=t.Chain=t.Applicative=t.apSecond=t.apFirst=t.Apply=t.FunctorWithIndex=t.Pointed=t.flap=t.Functor=t.getUnionSemigroup=t.getEq=t.getSemigroup=t.getShow=t.URI=t.extract=t.traverseWithIndex=t.sequence=t.traverse=t.reduceRightWithIndex=t.reduceRight=t.reduceWithIndex=t.reduce=void 0,t.nonEmptyArray=t.fold=t.prependToAll=t.snoc=t.cons=t.unsnoc=t.uncons=t.filterWithIndex=t.filter=t.groupSort=void 0;var u=Qt,a=On,o=yt,c=Yt,l=r(fe),f=Bi,h=r(Ac),g=function(b){return b.length>0};t.isNonEmpty=g;var I=function(b,w){return b<0||b>=w.length};t.isOutOfBound=I;var A=function(b){return function(w){return i([b],w,!0)}};t.prependW=A,t.prepend=t.prependW;var _=function(b){return function(w){return i(i([],w,!0),[b],!1)}};t.appendW=_,t.append=t.appendW;var M=function(b,w,j){if((0,t.isNonEmpty)(j)){var K=(0,t.fromReadonlyNonEmptyArray)(j);return K.splice(b,0,w),K}return[w]};t.unsafeInsertAt=M;var E=function(b,w,j){var K=(0,t.fromReadonlyNonEmptyArray)(j);return K[b]=w,K};t.unsafeUpdateAt=E;var O=function(b){return function(w){if(w.length===1)return(0,t.copy)(w);for(var j=[(0,t.head)(w)],K=(0,t.tail)(w),_t=function(me){j.every(function(Ee){return!b.equals(Ee,me)})&&j.push(me)},wt=0,Gt=K;wt<Gt.length;wt++){var Tn=Gt[wt];_t(Tn)}return j}};t.uniq=O;var B=function(b){if((0,t.isNonEmpty)(b)){var w=(0,f.getMonoid)();return(0,t.sort)(b.reduce(w.concat,w.empty))}return t.copy};t.sortBy=B;var V=function(b){var w=(0,t.uniq)(b);return function(j){return function(K){return w((0,o.pipe)(K,Ft(j)))}}};t.union=V;var rt=function(b){return function(w){var j=w.length,K=Math.round(b)%j;if((0,t.isOutOfBound)(Math.abs(K),w)||K===0)return(0,t.copy)(w);if(K<0){var _t=(0,t.splitAt)(-K)(w),wt=_t[0],Gt=_t[1];return(0,o.pipe)(Gt,Ft(wt))}else return(0,t.rotate)(K-j)(w)}};t.rotate=rt,t.fromReadonlyNonEmptyArray=l.fromReadonlyNonEmptyArray;var J=function(b){return(0,t.isNonEmpty)(b)?l.some(b):l.none};t.fromArray=J;var R=function(b){return function(w){for(var j=Math.max(0,Math.floor(w)),K=[b(0)],_t=1;_t<j;_t++)K.push(b(_t));return K}};t.makeBy=R;var N=function(b){return(0,t.makeBy)(function(){return b})};t.replicate=N;var G=function(b,w){return b<=w?(0,t.makeBy)(function(j){return b+j})(w-b+1):[b]};t.range=G;var T=function(b){return[(0,t.head)(b),(0,t.tail)(b)]};t.unprepend=T;var ut=function(b){return[(0,t.init)(b),(0,t.last)(b)]};t.unappend=ut;function pt(b){return function(w){return w.concat(b)}}t.concatW=pt;function Ft(b,w){return w?b.concat(w):function(j){return j.concat(b)}}t.concat=Ft;var Nt=function(b){return i([(0,t.last)(b)],b.slice(0,-1).reverse(),!0)};t.reverse=Nt;function ct(b){return function(w){var j=w.length;if(j===0)return[];for(var K=[],_t=w[0],wt=[_t],Gt=1;Gt<j;Gt++){var Tn=w[Gt];b.equals(Tn,_t)?wt.push(Tn):(K.push(wt),_t=Tn,wt=[_t])}return K.push(wt),K}}t.group=ct;var st=function(b){return function(w){for(var j={},K=0,_t=w;K<_t.length;K++){var wt=_t[K],Gt=b(wt);l.has.call(j,Gt)?j[Gt].push(wt):j[Gt]=[wt]}return j}};t.groupBy=st;var ft=function(b){return function(w){return w.slice().sort(b.compare)}};t.sort=ft;var It=function(b,w){return function(j){return b<0||b>j.length?l.none:l.some((0,t.unsafeInsertAt)(b,w,j))}};t.insertAt=It;var tn=function(b,w){return(0,t.modifyAt)(b,function(){return w})};t.updateAt=tn;var qt=function(b,w){return function(j){return(0,t.isOutOfBound)(b,j)?l.none:l.some((0,t.unsafeUpdateAt)(b,w(j[b]),j))}};t.modifyAt=qt,t.copy=t.fromReadonlyNonEmptyArray;var hn=function(b){return[b]};t.of=hn;var En=function(b,w,j){for(var K=[j(b[0],w[0])],_t=Math.min(b.length,w.length),wt=1;wt<_t;wt++)K[wt]=j(b[wt],w[wt]);return K};t.zipWith=En;function Wn(b,w){return w===void 0?function(j){return Wn(j,b)}:(0,t.zipWith)(b,w,function(j,K){return[j,K]})}t.zip=Wn;var Pn=function(b){for(var w=[b[0][0]],j=[b[0][1]],K=1;K<b.length;K++)w[K]=b[K][0],j[K]=b[K][1];return[w,j]};t.unzip=Pn;var jn=function(b){return function(w){for(var j=[b,w[0]],K=1;K<w.length;K++)j.push(b,w[K]);return j}};t.prependAll=jn;var Fn=function(b){return function(w){var j=(0,t.tail)(w);return(0,t.isNonEmpty)(j)?(0,o.pipe)(j,(0,t.prependAll)(b),(0,t.prepend)((0,t.head)(w))):(0,t.copy)(w)}};t.intersperse=Fn,t.foldMapWithIndex=h.foldMapWithIndex,t.foldMap=h.foldMap;var x=function(b){return function(w){for(var j=(0,t.fromReadonlyNonEmptyArray)(b(0,(0,t.head)(w))),K=1;K<w.length;K++)j.push.apply(j,b(K,w[K]));return j}};t.chainWithIndex=x;var X=function(b){return function(w){for(var j=b(w),K=j[0],_t=j[1],wt=[K],Gt=_t;(0,t.isNonEmpty)(Gt);){var Tn=b(Gt),me=Tn[0],Ee=Tn[1];wt.push(me),Gt=Ee}return wt}};t.chop=X;var at=function(b){return function(w){var j=Math.max(1,b);return j>=w.length?[(0,t.copy)(w),[]]:[(0,o.pipe)(w.slice(1,j),(0,t.prepend)((0,t.head)(w))),w.slice(j)]}};t.splitAt=at;var St=function(b){return(0,t.chop)((0,t.splitAt)(b))};t.chunksOf=St;var bt=function(b,w){return(0,o.pipe)(b,(0,t.map)(w))},Ut=function(b,w){return(0,o.pipe)(b,(0,t.mapWithIndex)(w))},nn=function(b,w){return(0,o.pipe)(b,(0,t.ap)(w))},Dt=function(b,w){return(0,o.pipe)(b,(0,t.extend)(w))},Ct=function(b,w,j){return(0,o.pipe)(b,(0,t.reduce)(w,j))},Xt=function(b){var w=(0,t.foldMap)(b);return function(j,K){return(0,o.pipe)(j,w(K))}},un=function(b,w,j){return(0,o.pipe)(b,(0,t.reduceRight)(w,j))},gn=function(b){var w=(0,t.traverse)(b);return function(j,K){return(0,o.pipe)(j,w(K))}},tt=function(b,w){return(0,o.pipe)(b,(0,t.alt)(w))},vt=function(b,w,j){return(0,o.pipe)(b,(0,t.reduceWithIndex)(w,j))},it=function(b){var w=(0,t.foldMapWithIndex)(b);return function(j,K){return(0,o.pipe)(j,w(K))}},At=function(b,w,j){return(0,o.pipe)(b,(0,t.reduceRightWithIndex)(w,j))},Kt=function(b){var w=(0,t.traverseWithIndex)(b);return function(j,K){return(0,o.pipe)(j,w(K))}},Bt=function(b){return function(w){return(0,o.pipe)(w,pt(b()))}};t.altW=Bt,t.alt=t.altW;var $t=function(b){return(0,t.flatMap)(function(w){return(0,o.pipe)(b,(0,t.map)(w))})};t.ap=$t,t.flatMap=(0,o.dual)(2,function(b,w){return(0,o.pipe)(b,(0,t.chainWithIndex)(function(j,K){return w(K,j)}))});var an=function(b){return function(w){for(var j=(0,t.tail)(w),K=[b(w)];(0,t.isNonEmpty)(j);)K.push(b(j)),j=(0,t.tail)(j);return K}};t.extend=an,t.duplicate=(0,t.extend)(o.identity),t.flatten=(0,t.flatMap)(o.identity);var bn=function(b){return(0,t.mapWithIndex)(function(w,j){return b(j)})};t.map=bn;var yn=function(b){return function(w){for(var j=[b(0,(0,t.head)(w))],K=1;K<w.length;K++)j.push(b(K,w[K]));return j}};t.mapWithIndex=yn,t.reduce=h.reduce,t.reduceWithIndex=h.reduceWithIndex,t.reduceRight=h.reduceRight,t.reduceRightWithIndex=h.reduceRightWithIndex;var Un=function(b){var w=(0,t.traverseWithIndex)(b);return function(j){return w(function(K,_t){return j(_t)})}};t.traverse=Un;var kt=function(b){return(0,t.traverseWithIndex)(b)(function(w,j){return j})};t.sequence=kt;var C=function(b){return function(w){return function(j){for(var K=b.map(w(0,(0,t.head)(j)),t.of),_t=1;_t<j.length;_t++)K=b.ap(b.map(K,function(wt){return function(Gt){return(0,o.pipe)(wt,(0,t.append)(Gt))}}),w(_t,j[_t]));return K}}};t.traverseWithIndex=C,t.extract=h.head,t.URI="NonEmptyArray",t.getShow=h.getShow;var $=function(){return{concat:Ft}};t.getSemigroup=$,t.getEq=h.getEq;var P=function(b){var w=(0,t.union)(b);return{concat:function(j,K){return w(K)(j)}}};t.getUnionSemigroup=P,t.Functor={URI:t.URI,map:bt},t.flap=(0,c.flap)(t.Functor),t.Pointed={URI:t.URI,of:t.of},t.FunctorWithIndex={URI:t.URI,map:bt,mapWithIndex:Ut},t.Apply={URI:t.URI,map:bt,ap:nn},t.apFirst=(0,u.apFirst)(t.Apply),t.apSecond=(0,u.apSecond)(t.Apply),t.Applicative={URI:t.URI,map:bt,ap:nn,of:t.of},t.Chain={URI:t.URI,map:bt,ap:nn,chain:t.flatMap},t.chainFirst=(0,a.chainFirst)(t.Chain),t.Monad={URI:t.URI,map:bt,ap:nn,of:t.of,chain:t.flatMap},t.Foldable={URI:t.URI,reduce:Ct,foldMap:Xt,reduceRight:un},t.FoldableWithIndex={URI:t.URI,reduce:Ct,foldMap:Xt,reduceRight:un,reduceWithIndex:vt,foldMapWithIndex:it,reduceRightWithIndex:At},t.Traversable={URI:t.URI,map:bt,reduce:Ct,foldMap:Xt,reduceRight:un,traverse:gn,sequence:t.sequence},t.TraversableWithIndex={URI:t.URI,map:bt,mapWithIndex:Ut,reduce:Ct,foldMap:Xt,reduceRight:un,traverse:gn,sequence:t.sequence,reduceWithIndex:vt,foldMapWithIndex:it,reduceRightWithIndex:At,traverseWithIndex:Kt},t.Alt={URI:t.URI,map:bt,alt:tt},t.Comonad={URI:t.URI,map:bt,extend:Dt,extract:t.extract},t.Do=(0,t.of)(l.emptyRecord),t.bindTo=(0,c.bindTo)(t.Functor);var gt=(0,c.let)(t.Functor);t.let=gt,t.bind=(0,a.bind)(t.Chain),t.apS=(0,u.apS)(t.Apply),t.head=h.head;var jt=function(b){return b.slice(1)};t.tail=jt,t.last=h.last;var L=function(b){return b.slice(0,-1)};t.init=L,t.min=h.min,t.max=h.max;var z=function(b){return function(w){return w.reduce(b.concat)}};t.concatAll=z;var H=function(b){return function(w){return b((0,t.head)(w),(0,t.tail)(w))}};t.matchLeft=H;var Rt=function(b){return function(w){return b((0,t.init)(w),(0,t.last)(w))}};t.matchRight=Rt;var mt=function(b){return function(w){return i([b((0,t.head)(w))],(0,t.tail)(w),!0)}};t.modifyHead=mt;var Sn=function(b){return(0,t.modifyHead)(function(){return b})};t.updateHead=Sn;var _n=function(b){return function(w){return(0,o.pipe)((0,t.init)(w),(0,t.append)(b((0,t.last)(w))))}};t.modifyLast=_n;var re=function(b){return(0,t.modifyLast)(function(){return b})};t.updateLast=re,t.intercalate=h.intercalate,t.chain=t.flatMap;function ie(b){var w=(0,t.sort)(b),j=ct(b);return function(K){return(0,t.isNonEmpty)(K)?j(w(K)):[]}}t.groupSort=ie;function ue(b){return(0,t.filterWithIndex)(function(w,j){return b(j)})}t.filter=ue;var ve=function(b){return function(w){return(0,t.fromArray)(w.filter(function(j,K){return b(K,j)}))}};t.filterWithIndex=ve,t.uncons=t.unprepend,t.unsnoc=t.unappend;function Te(b,w){return w===void 0?(0,t.prepend)(b):(0,o.pipe)(w,(0,t.prepend)(b))}t.cons=Te;var qe=function(b,w){return(0,o.pipe)(b,(0,t.append)(w))};t.snoc=qe,t.prependToAll=t.prependAll,t.fold=h.concatAll,t.nonEmptyArray={URI:t.URI,of:t.of,map:bt,mapWithIndex:Ut,ap:nn,chain:t.flatMap,extend:Dt,extract:t.extract,reduce:Ct,foldMap:Xt,reduceRight:un,traverse:gn,sequence:t.sequence,reduceWithIndex:vt,foldMapWithIndex:it,reduceRightWithIndex:At,traverseWithIndex:Kt,alt:tt}}(xh);var td={},nd={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Field=t.MonoidProduct=t.MonoidSum=t.SemigroupProduct=t.SemigroupSum=t.MagmaSub=t.Show=t.Bounded=t.Ord=t.Eq=t.isNumber=void 0;var n=function(e){return typeof e=="number"};t.isNumber=n,t.Eq={equals:function(e,r){return e===r}},t.Ord={equals:t.Eq.equals,compare:function(e,r){return e<r?-1:e>r?1:0}},t.Bounded={equals:t.Eq.equals,compare:t.Ord.compare,top:1/0,bottom:-1/0},t.Show={show:function(e){return JSON.stringify(e)}},t.MagmaSub={concat:function(e,r){return e-r}},t.SemigroupSum={concat:function(e,r){return e+r}},t.SemigroupProduct={concat:function(e,r){return e*r}},t.MonoidSum={concat:t.SemigroupSum.concat,empty:0},t.MonoidProduct={concat:t.SemigroupProduct.concat,empty:1},t.Field={add:t.SemigroupSum.concat,zero:0,mul:t.SemigroupProduct.concat,one:1,sub:t.MagmaSub.concat,degree:function(e){return 1},div:function(e,r){return e/r},mod:function(e,r){return e%r}}})(nd),function(t){var n=et&&et.__createBinding||(Object.create?function(s,d,m,F){F===void 0&&(F=m);var Z=Object.getOwnPropertyDescriptor(d,m);(!Z||("get"in Z?!d.__esModule:Z.writable||Z.configurable))&&(Z={enumerable:!0,get:function(){return d[m]}}),Object.defineProperty(s,F,Z)}:function(s,d,m,F){F===void 0&&(F=m),s[F]=d[m]}),e=et&&et.__setModuleDefault||(Object.create?function(s,d){Object.defineProperty(s,"default",{enumerable:!0,value:d})}:function(s,d){s.default=d}),r=et&&et.__importStar||function(s){if(s&&s.__esModule)return s;var d={};if(s!=null)for(var m in s)m!=="default"&&Object.prototype.hasOwnProperty.call(s,m)&&n(d,s,m);return e(d,s),d},i=et&&et.__spreadArray||function(s,d,m){if(m||arguments.length===2)for(var F=0,Z=d.length,nt;F<Z;F++)(nt||!(F in d))&&(nt||(nt=Array.prototype.slice.call(d,0,F)),nt[F]=d[F]);return s.concat(nt||Array.prototype.slice.call(d))};Object.defineProperty(t,"__esModule",{value:!0}),t.sort=t.lefts=t.rights=t.reverse=t.modifyAt=t.deleteAt=t.updateAt=t.insertAt=t.findLastIndex=t.findLastMap=t.findLast=t.findFirstMap=t.findFirst=t.findIndex=t.dropLeftWhile=t.dropRight=t.dropLeft=t.spanLeft=t.takeLeftWhile=t.takeRight=t.takeLeft=t.init=t.tail=t.last=t.head=t.lookup=t.isOutOfBound=t.size=t.scanRight=t.scanLeft=t.chainWithIndex=t.foldRight=t.matchRight=t.matchRightW=t.foldLeft=t.matchLeft=t.matchLeftW=t.match=t.matchW=t.fromEither=t.fromOption=t.fromPredicate=t.replicate=t.makeBy=t.appendW=t.append=t.prependW=t.prepend=t.isNonEmpty=t.isEmpty=void 0,t.sequence=t.traverse=t.reduceRightWithIndex=t.reduceRight=t.reduceWithIndex=t.foldMap=t.reduce=t.foldMapWithIndex=t.duplicate=t.extend=t.filterWithIndex=t.partitionMapWithIndex=t.partitionMap=t.partitionWithIndex=t.partition=t.compact=t.filterMap=t.filterMapWithIndex=t.filter=t.separate=t.mapWithIndex=t.map=t.flatten=t.flatMap=t.ap=t.alt=t.altW=t.zero=t.of=t._chainRecBreadthFirst=t._chainRecDepthFirst=t.difference=t.intersection=t.union=t.concat=t.concatW=t.comprehension=t.fromOptionK=t.chunksOf=t.splitAt=t.chop=t.sortBy=t.uniq=t.elem=t.rotate=t.intersperse=t.prependAll=t.unzip=t.zip=t.zipWith=void 0,t.toArray=t.unsafeDeleteAt=t.unsafeUpdateAt=t.unsafeInsertAt=t.fromEitherK=t.FromEither=t.filterE=t.Witherable=t.ChainRecBreadthFirst=t.chainRecBreadthFirst=t.ChainRecDepthFirst=t.chainRecDepthFirst=t.TraversableWithIndex=t.Traversable=t.FoldableWithIndex=t.Foldable=t.FilterableWithIndex=t.Filterable=t.Compactable=t.Extend=t.Alternative=t.guard=t.Zero=t.Alt=t.Unfoldable=t.chainFirst=t.Monad=t.Chain=t.Applicative=t.apSecond=t.apFirst=t.Apply=t.FunctorWithIndex=t.Pointed=t.flap=t.Functor=t.getDifferenceMagma=t.getIntersectionSemigroup=t.getUnionMonoid=t.getUnionSemigroup=t.getOrd=t.getEq=t.getMonoid=t.getSemigroup=t.getShow=t.URI=t.unfold=t.wilt=t.wither=t.traverseWithIndex=void 0,t.readonlyArray=t.prependToAll=t.snoc=t.cons=t.range=t.chain=t.apS=t.bind=t.let=t.bindTo=t.Do=t.intercalate=t.exists=t.some=t.every=t.empty=t.fromArray=void 0;var u=Qt,a=On,o=Su,c=xt,l=yt,f=Yt,h=r(fe),g=r(nd),I=Bi,A=r(Ac),_=Ui,M=Yn,E=or,O=function(s){return s.length===0};t.isEmpty=O,t.isNonEmpty=A.isNonEmpty,t.prepend=A.prepend,t.prependW=A.prependW,t.append=A.append,t.appendW=A.appendW;var B=function(s,d){return s<=0?t.empty:A.makeBy(d)(s)};t.makeBy=B;var V=function(s,d){return(0,t.makeBy)(s,function(){return d})};t.replicate=V;function rt(s){return function(d){return s(d)?[d]:t.empty}}t.fromPredicate=rt;var J=function(s){return h.isNone(s)?t.empty:[s.value]};t.fromOption=J;var R=function(s){return h.isLeft(s)?t.empty:[s.right]};t.fromEither=R;var N=function(s,d){return function(m){return(0,t.isNonEmpty)(m)?d(m):s()}};t.matchW=N,t.match=t.matchW;var G=function(s,d){return function(m){return(0,t.isNonEmpty)(m)?d(A.head(m),A.tail(m)):s()}};t.matchLeftW=G,t.matchLeft=t.matchLeftW,t.foldLeft=t.matchLeft;var T=function(s,d){return function(m){return(0,t.isNonEmpty)(m)?d(A.init(m),A.last(m)):s()}};t.matchRightW=T,t.matchRight=t.matchRightW,t.foldRight=t.matchRight;var ut=function(s){return function(d){if((0,t.isEmpty)(d))return t.empty;for(var m=[],F=0;F<d.length;F++)m.push.apply(m,s(F,d[F]));return m}};t.chainWithIndex=ut;var pt=function(s,d){return function(m){var F=m.length,Z=new Array(F+1);Z[0]=s;for(var nt=0;nt<F;nt++)Z[nt+1]=d(Z[nt],m[nt]);return Z}};t.scanLeft=pt;var Ft=function(s,d){return function(m){var F=m.length,Z=new Array(F+1);Z[F]=s;for(var nt=F-1;nt>=0;nt--)Z[nt]=d(m[nt],Z[nt+1]);return Z}};t.scanRight=Ft;var Nt=function(s){return s.length};t.size=Nt,t.isOutOfBound=A.isOutOfBound;function ct(s,d){return d===void 0?function(m){return ct(s,m)}:(0,t.isOutOfBound)(s,d)?h.none:h.some(d[s])}t.lookup=ct;var st=function(s){return(0,t.isNonEmpty)(s)?h.some(A.head(s)):h.none};t.head=st;var ft=function(s){return(0,t.isNonEmpty)(s)?h.some(A.last(s)):h.none};t.last=ft;var It=function(s){return(0,t.isNonEmpty)(s)?h.some(A.tail(s)):h.none};t.tail=It;var tn=function(s){return(0,t.isNonEmpty)(s)?h.some(A.init(s)):h.none};t.init=tn;var qt=function(s){return function(d){return(0,t.isOutOfBound)(s,d)?d:s===0?t.empty:d.slice(0,s)}};t.takeLeft=qt;var hn=function(s){return function(d){return(0,t.isOutOfBound)(s,d)?d:s===0?t.empty:d.slice(-s)}};t.takeRight=hn;function En(s){return function(d){for(var m=[],F=0,Z=d;F<Z.length;F++){var nt=Z[F];if(!s(nt))break;m.push(nt)}var fn=m.length;return fn===d.length?d:fn===0?t.empty:m}}t.takeLeftWhile=En;var Wn=function(s,d){for(var m=s.length,F=0;F<m&&d(s[F]);F++);return F};function Pn(s){return function(d){var m=(0,t.splitAt)(Wn(d,s))(d),F=m[0],Z=m[1];return{init:F,rest:Z}}}t.spanLeft=Pn;var jn=function(s){return function(d){return s<=0||(0,t.isEmpty)(d)?d:s>=d.length?t.empty:d.slice(s,d.length)}};t.dropLeft=jn;var Fn=function(s){return function(d){return s<=0||(0,t.isEmpty)(d)?d:s>=d.length?t.empty:d.slice(0,d.length-s)}};t.dropRight=Fn;function x(s){return function(d){var m=Wn(d,s);return m===0?d:m===d.length?t.empty:d.slice(m)}}t.dropLeftWhile=x;var X=function(s){return function(d){for(var m=0;m<d.length;m++)if(s(d[m]))return h.some(m);return h.none}};t.findIndex=X;function at(s){return function(d){for(var m=0;m<d.length;m++)if(s(d[m]))return h.some(d[m]);return h.none}}t.findFirst=at;var St=function(s){return function(d){for(var m=0;m<d.length;m++){var F=s(d[m]);if(h.isSome(F))return F}return h.none}};t.findFirstMap=St;function bt(s){return function(d){for(var m=d.length-1;m>=0;m--)if(s(d[m]))return h.some(d[m]);return h.none}}t.findLast=bt;var Ut=function(s){return function(d){for(var m=d.length-1;m>=0;m--){var F=s(d[m]);if(h.isSome(F))return F}return h.none}};t.findLastMap=Ut;var nn=function(s){return function(d){for(var m=d.length-1;m>=0;m--)if(s(d[m]))return h.some(m);return h.none}};t.findLastIndex=nn;var Dt=function(s,d){return function(m){return s<0||s>m.length?h.none:h.some(A.unsafeInsertAt(s,d,m))}};t.insertAt=Dt;var Ct=function(s,d){return(0,t.modifyAt)(s,function(){return d})};t.updateAt=Ct;var Xt=function(s){return function(d){return(0,t.isOutOfBound)(s,d)?h.none:h.some((0,t.unsafeDeleteAt)(s,d))}};t.deleteAt=Xt;var un=function(s,d){return function(m){return(0,t.isOutOfBound)(s,m)?h.none:h.some((0,t.unsafeUpdateAt)(s,d(m[s]),m))}};t.modifyAt=un;var gn=function(s){return s.length<=1?s:s.slice().reverse()};t.reverse=gn;var tt=function(s){for(var d=[],m=0;m<s.length;m++){var F=s[m];F._tag==="Right"&&d.push(F.right)}return d};t.rights=tt;var vt=function(s){for(var d=[],m=0;m<s.length;m++){var F=s[m];F._tag==="Left"&&d.push(F.left)}return d};t.lefts=vt;var it=function(s){return function(d){return d.length<=1?d:d.slice().sort(s.compare)}};t.sort=it;var At=function(s,d,m){for(var F=[],Z=Math.min(s.length,d.length),nt=0;nt<Z;nt++)F[nt]=m(s[nt],d[nt]);return F};t.zipWith=At;function Kt(s,d){return d===void 0?function(m){return Kt(m,s)}:(0,t.zipWith)(s,d,function(m,F){return[m,F]})}t.zip=Kt;var Bt=function(s){for(var d=[],m=[],F=0;F<s.length;F++)d[F]=s[F][0],m[F]=s[F][1];return[d,m]};t.unzip=Bt;var $t=function(s){var d=A.prependAll(s);return function(m){return(0,t.isNonEmpty)(m)?d(m):m}};t.prependAll=$t;var an=function(s){var d=A.intersperse(s);return function(m){return(0,t.isNonEmpty)(m)?d(m):m}};t.intersperse=an;var bn=function(s){var d=A.rotate(s);return function(m){return(0,t.isNonEmpty)(m)?d(m):m}};t.rotate=bn;function yn(s){return function(d,m){if(m===void 0){var F=yn(s);return function(fn){return F(d,fn)}}for(var Z=function(fn){return s.equals(fn,d)},nt=0;nt<m.length;nt++)if(Z(m[nt]))return!0;return!1}}t.elem=yn;var Un=function(s){var d=A.uniq(s);return function(m){return(0,t.isNonEmpty)(m)?d(m):m}};t.uniq=Un;var kt=function(s){var d=A.sortBy(s);return function(m){return(0,t.isNonEmpty)(m)?d(m):m}};t.sortBy=kt;var C=function(s){var d=A.chop(s);return function(m){return(0,t.isNonEmpty)(m)?d(m):t.empty}};t.chop=C;var $=function(s){return function(d){return s>=1&&(0,t.isNonEmpty)(d)?A.splitAt(s)(d):(0,t.isEmpty)(d)?[d,t.empty]:[t.empty,d]}};t.splitAt=$;var P=function(s){var d=A.chunksOf(s);return function(m){return(0,t.isNonEmpty)(m)?d(m):t.empty}};t.chunksOf=P;var gt=function(s){return function(){for(var d=[],m=0;m<arguments.length;m++)d[m]=arguments[m];return(0,t.fromOption)(s.apply(void 0,d))}};t.fromOptionK=gt;function jt(s,d,m){m===void 0&&(m=function(){return!0});var F=function(Z,nt){return(0,t.isNonEmpty)(nt)?(0,t.flatMap)(A.head(nt),function(fn){return F((0,l.pipe)(Z,(0,t.append)(fn)),A.tail(nt))}):m.apply(void 0,Z)?[d.apply(void 0,Z)]:t.empty};return F(t.empty,s)}t.comprehension=jt;var L=function(s){return function(d){return(0,t.isEmpty)(d)?s:(0,t.isEmpty)(s)?d:d.concat(s)}};t.concatW=L,t.concat=t.concatW;function z(s){var d=A.union(s);return function(m,F){if(F===void 0){var Z=z(s);return function(nt){return Z(nt,m)}}return(0,t.isNonEmpty)(m)&&(0,t.isNonEmpty)(F)?d(F)(m):(0,t.isNonEmpty)(m)?m:F}}t.union=z;function H(s){var d=yn(s);return function(m,F){if(F===void 0){var Z=H(s);return function(nt){return Z(nt,m)}}return m.filter(function(nt){return d(nt,F)})}}t.intersection=H;function Rt(s){var d=yn(s);return function(m,F){if(F===void 0){var Z=Rt(s);return function(nt){return Z(nt,m)}}return m.filter(function(nt){return!d(nt,F)})}}t.difference=Rt;var mt=function(s,d){return(0,l.pipe)(s,(0,t.map)(d))},Sn=function(s,d){return(0,l.pipe)(s,(0,t.mapWithIndex)(d))},_n=function(s,d){return(0,l.pipe)(s,(0,t.ap)(d))},re=function(s,d){return(0,l.pipe)(s,(0,t.filter)(d))},ie=function(s,d){return(0,l.pipe)(s,(0,t.filterMap)(d))},ue=function(s,d){return(0,l.pipe)(s,(0,t.partition)(d))},ve=function(s,d){return(0,l.pipe)(s,(0,t.partitionMap)(d))},Te=function(s,d){return(0,l.pipe)(s,(0,t.partitionWithIndex)(d))},qe=function(s,d){return(0,l.pipe)(s,(0,t.partitionMapWithIndex)(d))},b=function(s,d){return(0,l.pipe)(s,(0,t.alt)(d))},w=function(s,d,m){return(0,l.pipe)(s,(0,t.reduce)(d,m))},j=function(s){var d=(0,t.foldMap)(s);return function(m,F){return(0,l.pipe)(m,d(F))}},K=function(s,d,m){return(0,l.pipe)(s,(0,t.reduceRight)(d,m))},_t=function(s,d,m){return(0,l.pipe)(s,(0,t.reduceWithIndex)(d,m))},wt=function(s){var d=(0,t.foldMapWithIndex)(s);return function(m,F){return(0,l.pipe)(m,d(F))}},Gt=function(s,d,m){return(0,l.pipe)(s,(0,t.reduceRightWithIndex)(d,m))},Tn=function(s,d){return(0,l.pipe)(s,(0,t.filterMapWithIndex)(d))},me=function(s,d){return(0,l.pipe)(s,(0,t.filterWithIndex)(d))},Ee=function(s,d){return(0,l.pipe)(s,(0,t.extend)(d))},ur=function(s){var d=(0,t.traverse)(s);return function(m,F){return(0,l.pipe)(m,d(F))}},y=function(s){var d=(0,t.traverseWithIndex)(s);return function(m,F){return(0,l.pipe)(m,d(F))}},S=function(s,d){return(0,l.pipe)(s,(0,t.chainRecDepthFirst)(d))};t._chainRecDepthFirst=S;var U=function(s,d){return(0,l.pipe)(s,(0,t.chainRecBreadthFirst)(d))};t._chainRecBreadthFirst=U,t.of=A.of;var D=function(){return t.empty};t.zero=D;var dt=function(s){return function(d){return d.concat(s())}};t.altW=dt,t.alt=t.altW;var Mt=function(s){return(0,t.flatMap)(function(d){return(0,l.pipe)(s,(0,t.map)(d))})};t.ap=Mt,t.flatMap=(0,l.dual)(2,function(s,d){return(0,l.pipe)(s,(0,t.chainWithIndex)(function(m,F){return d(F,m)}))}),t.flatten=(0,t.flatMap)(l.identity);var ln=function(s){return function(d){return d.map(function(m){return s(m)})}};t.map=ln;var ae=function(s){return function(d){return d.map(function(m,F){return s(F,m)})}};t.mapWithIndex=ae;var ar=function(s){for(var d=[],m=[],F=0,Z=s;F<Z.length;F++){var nt=Z[F];nt._tag==="Left"?d.push(nt.left):m.push(nt.right)}return(0,_.separated)(d,m)};t.separate=ar;var kr=function(s){return function(d){return d.filter(s)}};t.filter=kr;var $l=function(s){return function(d){for(var m=[],F=0;F<d.length;F++){var Z=s(F,d[F]);h.isSome(Z)&&m.push(Z.value)}return m}};t.filterMapWithIndex=$l;var Nl=function(s){return(0,t.filterMapWithIndex)(function(d,m){return s(m)})};t.filterMap=Nl,t.compact=(0,t.filterMap)(l.identity);var Cl=function(s){return(0,t.partitionWithIndex)(function(d,m){return s(m)})};t.partition=Cl;var Ll=function(s){return function(d){for(var m=[],F=[],Z=0;Z<d.length;Z++){var nt=d[Z];s(Z,nt)?F.push(nt):m.push(nt)}return(0,_.separated)(m,F)}};t.partitionWithIndex=Ll;var Fl=function(s){return(0,t.partitionMapWithIndex)(function(d,m){return s(m)})};t.partitionMap=Fl;var Ul=function(s){return function(d){for(var m=[],F=[],Z=0;Z<d.length;Z++){var nt=s(Z,d[Z]);nt._tag==="Left"?m.push(nt.left):F.push(nt.right)}return(0,_.separated)(m,F)}};t.partitionMapWithIndex=Ul;var Bl=function(s){return function(d){return d.filter(function(m,F){return s(F,m)})}};t.filterWithIndex=Bl;var kl=function(s){return function(d){return d.map(function(m,F){return s(d.slice(F))})}};t.extend=kl,t.duplicate=(0,t.extend)(l.identity);var zl=function(s){return function(d){return function(m){return m.reduce(function(F,Z,nt){return s.concat(F,d(nt,Z))},s.empty)}}};t.foldMapWithIndex=zl;var Pl=function(s,d){return(0,t.reduceWithIndex)(s,function(m,F,Z){return d(F,Z)})};t.reduce=Pl;var yu=function(s){var d=(0,t.foldMapWithIndex)(s);return function(m){return d(function(F,Z){return m(Z)})}};t.foldMap=yu;var _u=function(s,d){return function(m){for(var F=m.length,Z=s,nt=0;nt<F;nt++)Z=d(nt,Z,m[nt]);return Z}};t.reduceWithIndex=_u;var jl=function(s,d){return(0,t.reduceRightWithIndex)(s,function(m,F,Z){return d(F,Z)})};t.reduceRight=jl;var Tl=function(s,d){return function(m){return m.reduceRight(function(F,Z,nt){return d(nt,Z,F)},s)}};t.reduceRightWithIndex=Tl;var ql=function(s){var d=(0,t.traverseWithIndex)(s);return function(m){return d(function(F,Z){return m(Z)})}};t.traverse=ql;var Dl=function(s){return function(d){return w(d,s.of((0,t.zero)()),function(m,F){return s.ap(s.map(m,function(Z){return function(nt){return(0,l.pipe)(Z,(0,t.append)(nt))}}),F)})}};t.sequence=Dl;var v=function(s){return function(d){return(0,t.reduceWithIndex)(s.of((0,t.zero)()),function(m,F,Z){return s.ap(s.map(F,function(nt){return function(fn){return(0,l.pipe)(nt,(0,t.append)(fn))}}),d(m,Z))})}};t.traverseWithIndex=v;var p=function(s){var d=Vl(s);return function(m){return function(F){return d(F,m)}}};t.wither=p;var W=function(s){var d=Gl(s);return function(m){return function(F){return d(F,m)}}};t.wilt=W;var q=function(s,d){for(var m=[],F=s;;){var Z=d(F);if(h.isSome(Z)){var nt=Z.value,fn=nt[0],Pr=nt[1];m.push(fn),F=Pr}else break}return m};t.unfold=q,t.URI="ReadonlyArray";var lt=function(s){return{show:function(d){return"[".concat(d.map(s.show).join(", "),"]")}}};t.getShow=lt;var ht=function(){return{concat:function(s,d){return(0,t.isEmpty)(s)?d:(0,t.isEmpty)(d)?s:s.concat(d)}}};t.getSemigroup=ht;var zr=function(){return{concat:(0,t.getSemigroup)().concat,empty:t.empty}};t.getMonoid=zr;var Kl=function(s){return(0,o.fromEquals)(function(d,m){return d.length===m.length&&d.every(function(F,Z){return s.equals(F,m[Z])})})};t.getEq=Kl;var WW=function(s){return(0,I.fromCompare)(function(d,m){for(var F=d.length,Z=m.length,nt=Math.min(F,Z),fn=0;fn<nt;fn++){var Pr=s.compare(d[fn],m[fn]);if(Pr!==0)return Pr}return g.Ord.compare(F,Z)})};t.getOrd=WW;var OW=function(s){var d=z(s);return{concat:function(m,F){return d(F)(m)}}};t.getUnionSemigroup=OW;var $W=function(s){return{concat:(0,t.getUnionSemigroup)(s).concat,empty:t.empty}};t.getUnionMonoid=$W;var NW=function(s){var d=H(s);return{concat:function(m,F){return d(F)(m)}}};t.getIntersectionSemigroup=NW;var CW=function(s){var d=Rt(s);return{concat:function(m,F){return d(F)(m)}}};t.getDifferenceMagma=CW,t.Functor={URI:t.URI,map:mt},t.flap=(0,f.flap)(t.Functor),t.Pointed={URI:t.URI,of:t.of},t.FunctorWithIndex={URI:t.URI,map:mt,mapWithIndex:Sn},t.Apply={URI:t.URI,map:mt,ap:_n},t.apFirst=(0,u.apFirst)(t.Apply),t.apSecond=(0,u.apSecond)(t.Apply),t.Applicative={URI:t.URI,map:mt,ap:_n,of:t.of},t.Chain={URI:t.URI,map:mt,ap:_n,chain:t.flatMap},t.Monad={URI:t.URI,map:mt,ap:_n,of:t.of,chain:t.flatMap},t.chainFirst=(0,a.chainFirst)(t.Chain),t.Unfoldable={URI:t.URI,unfold:t.unfold},t.Alt={URI:t.URI,map:mt,alt:b},t.Zero={URI:t.URI,zero:t.zero},t.guard=(0,E.guard)(t.Zero,t.Pointed),t.Alternative={URI:t.URI,map:mt,ap:_n,of:t.of,alt:b,zero:t.zero},t.Extend={URI:t.URI,map:mt,extend:Ee},t.Compactable={URI:t.URI,compact:t.compact,separate:t.separate},t.Filterable={URI:t.URI,map:mt,compact:t.compact,separate:t.separate,filter:re,filterMap:ie,partition:ue,partitionMap:ve},t.FilterableWithIndex={URI:t.URI,map:mt,mapWithIndex:Sn,compact:t.compact,separate:t.separate,filter:re,filterMap:ie,partition:ue,partitionMap:ve,partitionMapWithIndex:qe,partitionWithIndex:Te,filterMapWithIndex:Tn,filterWithIndex:me},t.Foldable={URI:t.URI,reduce:w,foldMap:j,reduceRight:K},t.FoldableWithIndex={URI:t.URI,reduce:w,foldMap:j,reduceRight:K,reduceWithIndex:_t,foldMapWithIndex:wt,reduceRightWithIndex:Gt},t.Traversable={URI:t.URI,map:mt,reduce:w,foldMap:j,reduceRight:K,traverse:ur,sequence:t.sequence},t.TraversableWithIndex={URI:t.URI,map:mt,mapWithIndex:Sn,reduce:w,foldMap:j,reduceRight:K,reduceWithIndex:_t,foldMapWithIndex:wt,reduceRightWithIndex:Gt,traverse:ur,sequence:t.sequence,traverseWithIndex:y};var LW=function(s){return function(d){for(var m=i([],s(d),!0),F=[];m.length>0;){var Z=m.shift();h.isLeft(Z)?m.unshift.apply(m,s(Z.left)):F.push(Z.right)}return F}};t.chainRecDepthFirst=LW,t.ChainRecDepthFirst={URI:t.URI,map:mt,ap:_n,chain:t.flatMap,chainRec:t._chainRecDepthFirst};var FW=function(s){return function(d){var m=s(d),F=[],Z=[];function nt(Hl){h.isLeft(Hl)?s(Hl.left).forEach(function(KW){return F.push(KW)}):Z.push(Hl.right)}for(var fn=0,Pr=m;fn<Pr.length;fn++){var DW=Pr[fn];nt(DW)}for(;F.length>0;)nt(F.shift());return Z}};t.chainRecBreadthFirst=FW,t.ChainRecBreadthFirst={URI:t.URI,map:mt,ap:_n,chain:t.flatMap,chainRec:t._chainRecBreadthFirst};var Vl=(0,M.witherDefault)(t.Traversable,t.Compactable),Gl=(0,M.wiltDefault)(t.Traversable,t.Compactable);t.Witherable={URI:t.URI,map:mt,compact:t.compact,separate:t.separate,filter:re,filterMap:ie,partition:ue,partitionMap:ve,reduce:w,foldMap:j,reduceRight:K,traverse:ur,sequence:t.sequence,wither:Vl,wilt:Gl},t.filterE=(0,M.filterE)(t.Witherable),t.FromEither={URI:t.URI,fromEither:t.fromEither},t.fromEitherK=(0,c.fromEitherK)(t.FromEither),t.unsafeInsertAt=A.unsafeInsertAt;var UW=function(s,d,m){return(0,t.isNonEmpty)(m)?A.unsafeUpdateAt(s,d,m):m};t.unsafeUpdateAt=UW;var BW=function(s,d){var m=d.slice();return m.splice(s,1),m};t.unsafeDeleteAt=BW;var kW=function(s){return s.slice()};t.toArray=kW;var zW=function(s){return(0,t.isEmpty)(s)?t.empty:s.slice()};t.fromArray=zW,t.empty=A.empty;function PW(s){return function(d){return d.every(s)}}t.every=PW;var jW=function(s){return function(d){return d.some(s)}};t.some=jW,t.exists=t.some;var TW=function(s){var d=A.intercalate(s);return function(m){return(0,t.match)(function(){return s.empty},d(m))}};t.intercalate=TW,t.Do=(0,t.of)(h.emptyRecord),t.bindTo=(0,f.bindTo)(t.Functor);var qW=(0,f.let)(t.Functor);t.let=qW,t.bind=(0,a.bind)(t.Chain),t.apS=(0,u.apS)(t.Apply),t.chain=t.flatMap,t.range=A.range,t.cons=A.cons,t.snoc=A.snoc,t.prependToAll=t.prependAll,t.readonlyArray={URI:t.URI,compact:t.compact,separate:t.separate,map:mt,ap:_n,of:t.of,chain:t.flatMap,filter:re,filterMap:ie,partition:ue,partitionMap:ve,mapWithIndex:Sn,partitionMapWithIndex:qe,partitionWithIndex:Te,filterMapWithIndex:Tn,filterWithIndex:me,alt:b,zero:t.zero,unfold:t.unfold,reduce:w,foldMap:j,reduceRight:K,traverse:ur,sequence:t.sequence,reduceWithIndex:_t,foldMapWithIndex:wt,reduceRightWithIndex:Gt,traverseWithIndex:y,extend:Ee,wither:Vl,wilt:Gl}}(td),function(t){var n=et&&et.__createBinding||(Object.create?function(v,p,W,q){q===void 0&&(q=W);var lt=Object.getOwnPropertyDescriptor(p,W);(!lt||("get"in lt?!p.__esModule:lt.writable||lt.configurable))&&(lt={enumerable:!0,get:function(){return p[W]}}),Object.defineProperty(v,q,lt)}:function(v,p,W,q){q===void 0&&(q=W),v[q]=p[W]}),e=et&&et.__setModuleDefault||(Object.create?function(v,p){Object.defineProperty(v,"default",{enumerable:!0,value:p})}:function(v,p){v.default=p}),r=et&&et.__importStar||function(v){if(v&&v.__esModule)return v;var p={};if(v!=null)for(var W in v)W!=="default"&&Object.prototype.hasOwnProperty.call(v,W)&&n(p,v,W);return e(p,v),p};Object.defineProperty(t,"__esModule",{value:!0}),t.lefts=t.rights=t.reverse=t.modifyAt=t.deleteAt=t.updateAt=t.insertAt=t.copy=t.findLastIndex=t.findLastMap=t.findLast=t.findFirstMap=t.findFirst=t.findIndex=t.dropLeftWhile=t.dropRight=t.dropLeft=t.spanLeft=t.takeLeftWhile=t.takeRight=t.takeLeft=t.init=t.tail=t.last=t.head=t.lookup=t.isOutOfBound=t.size=t.scanRight=t.scanLeft=t.chainWithIndex=t.foldRight=t.matchRight=t.matchRightW=t.foldLeft=t.matchLeft=t.matchLeftW=t.match=t.matchW=t.fromEither=t.fromOption=t.fromPredicate=t.replicate=t.makeBy=t.appendW=t.append=t.prependW=t.prepend=t.isNonEmpty=t.isEmpty=void 0,t.traverseWithIndex=t.sequence=t.traverse=t.reduceRightWithIndex=t.reduceRight=t.reduceWithIndex=t.reduce=t.foldMapWithIndex=t.foldMap=t.duplicate=t.extend=t.filterWithIndex=t.alt=t.altW=t.partitionMapWithIndex=t.partitionMap=t.partitionWithIndex=t.partition=t.filter=t.separate=t.compact=t.filterMap=t.filterMapWithIndex=t.mapWithIndex=t.flatten=t.flatMap=t.ap=t.map=t.zero=t.of=t.difference=t.intersection=t.union=t.concat=t.concatW=t.comprehension=t.fromOptionK=t.chunksOf=t.splitAt=t.chop=t.sortBy=t.uniq=t.elem=t.rotate=t.intersperse=t.prependAll=t.unzip=t.zip=t.zipWith=t.sort=void 0,t.some=t.every=t.unsafeDeleteAt=t.unsafeUpdateAt=t.unsafeInsertAt=t.fromEitherK=t.FromEither=t.filterE=t.ChainRecBreadthFirst=t.chainRecBreadthFirst=t.ChainRecDepthFirst=t.chainRecDepthFirst=t.Witherable=t.TraversableWithIndex=t.Traversable=t.FoldableWithIndex=t.Foldable=t.FilterableWithIndex=t.Filterable=t.Compactable=t.Extend=t.Alternative=t.guard=t.Zero=t.Alt=t.Unfoldable=t.Monad=t.chainFirst=t.Chain=t.Applicative=t.apSecond=t.apFirst=t.Apply=t.FunctorWithIndex=t.Pointed=t.flap=t.Functor=t.getDifferenceMagma=t.getIntersectionSemigroup=t.getUnionMonoid=t.getUnionSemigroup=t.getOrd=t.getEq=t.getMonoid=t.getSemigroup=t.getShow=t.URI=t.unfold=t.wilt=t.wither=void 0,t.array=t.prependToAll=t.snoc=t.cons=t.empty=t.range=t.chain=t.apS=t.bind=t.let=t.bindTo=t.Do=t.intercalate=t.exists=void 0;var i=Qt,u=On,a=xt,o=yt,c=Yt,l=r(fe),f=r(xh),h=r(td),g=Ui,I=Yn,A=or,_=function(v){return v.length===0};t.isEmpty=_,t.isNonEmpty=f.isNonEmpty,t.prepend=f.prepend,t.prependW=f.prependW,t.append=f.append,t.appendW=f.appendW;var M=function(v,p){return v<=0?[]:f.makeBy(p)(v)};t.makeBy=M;var E=function(v,p){return(0,t.makeBy)(v,function(){return p})};t.replicate=E;function O(v){return function(p){return v(p)?[p]:[]}}t.fromPredicate=O;var B=function(v){return l.isNone(v)?[]:[v.value]};t.fromOption=B;var V=function(v){return l.isLeft(v)?[]:[v.right]};t.fromEither=V;var rt=function(v,p){return function(W){return(0,t.isNonEmpty)(W)?p(W):v()}};t.matchW=rt,t.match=t.matchW;var J=function(v,p){return function(W){return(0,t.isNonEmpty)(W)?p(f.head(W),f.tail(W)):v()}};t.matchLeftW=J,t.matchLeft=t.matchLeftW,t.foldLeft=t.matchLeft;var R=function(v,p){return function(W){return(0,t.isNonEmpty)(W)?p(f.init(W),f.last(W)):v()}};t.matchRightW=R,t.matchRight=t.matchRightW,t.foldRight=t.matchRight;var N=function(v){return function(p){for(var W=[],q=0;q<p.length;q++)W.push.apply(W,v(q,p[q]));return W}};t.chainWithIndex=N;var G=function(v,p){return function(W){var q=W.length,lt=new Array(q+1);lt[0]=v;for(var ht=0;ht<q;ht++)lt[ht+1]=p(lt[ht],W[ht]);return lt}};t.scanLeft=G;var T=function(v,p){return function(W){var q=W.length,lt=new Array(q+1);lt[q]=v;for(var ht=q-1;ht>=0;ht--)lt[ht]=p(W[ht],lt[ht+1]);return lt}};t.scanRight=T;var ut=function(v){return v.length};t.size=ut,t.isOutOfBound=f.isOutOfBound,t.lookup=h.lookup,t.head=h.head,t.last=h.last;var pt=function(v){return(0,t.isNonEmpty)(v)?l.some(f.tail(v)):l.none};t.tail=pt;var Ft=function(v){return(0,t.isNonEmpty)(v)?l.some(f.init(v)):l.none};t.init=Ft;var Nt=function(v){return function(p){return(0,t.isOutOfBound)(v,p)?(0,t.copy)(p):p.slice(0,v)}};t.takeLeft=Nt;var ct=function(v){return function(p){return(0,t.isOutOfBound)(v,p)?(0,t.copy)(p):v===0?[]:p.slice(-v)}};t.takeRight=ct;function st(v){return function(p){for(var W=[],q=0,lt=p;q<lt.length;q++){var ht=lt[q];if(!v(ht))break;W.push(ht)}return W}}t.takeLeftWhile=st;var ft=function(v,p){for(var W=v.length,q=0;q<W&&p(v[q]);q++);return q};function It(v){return function(p){var W=(0,t.splitAt)(ft(p,v))(p),q=W[0],lt=W[1];return{init:q,rest:lt}}}t.spanLeft=It;var tn=function(v){return function(p){return v<=0||(0,t.isEmpty)(p)?(0,t.copy)(p):v>=p.length?[]:p.slice(v,p.length)}};t.dropLeft=tn;var qt=function(v){return function(p){return v<=0||(0,t.isEmpty)(p)?(0,t.copy)(p):v>=p.length?[]:p.slice(0,p.length-v)}};t.dropRight=qt;function hn(v){return function(p){return p.slice(ft(p,v))}}t.dropLeftWhile=hn,t.findIndex=h.findIndex;function En(v){return h.findFirst(v)}t.findFirst=En,t.findFirstMap=h.findFirstMap;function Wn(v){return h.findLast(v)}t.findLast=Wn,t.findLastMap=h.findLastMap,t.findLastIndex=h.findLastIndex;var Pn=function(v){return v.slice()};t.copy=Pn;var jn=function(v,p){return function(W){return v<0||v>W.length?l.none:l.some((0,t.unsafeInsertAt)(v,p,W))}};t.insertAt=jn;var Fn=function(v,p){return(0,t.modifyAt)(v,function(){return p})};t.updateAt=Fn;var x=function(v){return function(p){return(0,t.isOutOfBound)(v,p)?l.none:l.some((0,t.unsafeDeleteAt)(v,p))}};t.deleteAt=x;var X=function(v,p){return function(W){return(0,t.isOutOfBound)(v,W)?l.none:l.some((0,t.unsafeUpdateAt)(v,p(W[v]),W))}};t.modifyAt=X;var at=function(v){return(0,t.isEmpty)(v)?[]:v.slice().reverse()};t.reverse=at;var St=function(v){for(var p=[],W=0;W<v.length;W++){var q=v[W];q._tag==="Right"&&p.push(q.right)}return p};t.rights=St;var bt=function(v){for(var p=[],W=0;W<v.length;W++){var q=v[W];q._tag==="Left"&&p.push(q.left)}return p};t.lefts=bt;var Ut=function(v){return function(p){return p.length<=1?(0,t.copy)(p):p.slice().sort(v.compare)}};t.sort=Ut;var nn=function(v,p,W){for(var q=[],lt=Math.min(v.length,p.length),ht=0;ht<lt;ht++)q[ht]=W(v[ht],p[ht]);return q};t.zipWith=nn;function Dt(v,p){return p===void 0?function(W){return Dt(W,v)}:(0,t.zipWith)(v,p,function(W,q){return[W,q]})}t.zip=Dt;var Ct=function(v){for(var p=[],W=[],q=0;q<v.length;q++)p[q]=v[q][0],W[q]=v[q][1];return[p,W]};t.unzip=Ct;var Xt=function(v){var p=f.prependAll(v);return function(W){return(0,t.isNonEmpty)(W)?p(W):[]}};t.prependAll=Xt;var un=function(v){var p=f.intersperse(v);return function(W){return(0,t.isNonEmpty)(W)?p(W):(0,t.copy)(W)}};t.intersperse=un;var gn=function(v){var p=f.rotate(v);return function(W){return(0,t.isNonEmpty)(W)?p(W):(0,t.copy)(W)}};t.rotate=gn,t.elem=h.elem;var tt=function(v){var p=f.uniq(v);return function(W){return(0,t.isNonEmpty)(W)?p(W):(0,t.copy)(W)}};t.uniq=tt;var vt=function(v){var p=f.sortBy(v);return function(W){return(0,t.isNonEmpty)(W)?p(W):(0,t.copy)(W)}};t.sortBy=vt;var it=function(v){var p=f.chop(v);return function(W){return(0,t.isNonEmpty)(W)?p(W):[]}};t.chop=it;var At=function(v){return function(p){return v>=1&&(0,t.isNonEmpty)(p)?f.splitAt(v)(p):(0,t.isEmpty)(p)?[(0,t.copy)(p),[]]:[[],(0,t.copy)(p)]}};t.splitAt=At;var Kt=function(v){var p=f.chunksOf(v);return function(W){return(0,t.isNonEmpty)(W)?p(W):[]}};t.chunksOf=Kt;var Bt=function(v){return function(){for(var p=[],W=0;W<arguments.length;W++)p[W]=arguments[W];return(0,t.fromOption)(v.apply(void 0,p))}};t.fromOptionK=Bt;function $t(v,p,W){W===void 0&&(W=function(){return!0});var q=function(lt,ht){return(0,t.isNonEmpty)(ht)?(0,t.flatMap)(f.head(ht),function(zr){return q((0,o.pipe)(lt,(0,t.append)(zr)),f.tail(ht))}):W.apply(void 0,lt)?[p.apply(void 0,lt)]:[]};return q([],v)}t.comprehension=$t;var an=function(v){return function(p){return(0,t.isEmpty)(p)?(0,t.copy)(v):(0,t.isEmpty)(v)?(0,t.copy)(p):p.concat(v)}};t.concatW=an,t.concat=t.concatW;function bn(v){var p=f.union(v);return function(W,q){if(q===void 0){var lt=bn(v);return function(ht){return lt(ht,W)}}return(0,t.isNonEmpty)(W)&&(0,t.isNonEmpty)(q)?p(q)(W):(0,t.isNonEmpty)(W)?(0,t.copy)(W):(0,t.copy)(q)}}t.union=bn;function yn(v){var p=(0,t.elem)(v);return function(W,q){if(q===void 0){var lt=yn(v);return function(ht){return lt(ht,W)}}return W.filter(function(ht){return p(ht,q)})}}t.intersection=yn;function Un(v){var p=(0,t.elem)(v);return function(W,q){if(q===void 0){var lt=Un(v);return function(ht){return lt(ht,W)}}return W.filter(function(ht){return!p(ht,q)})}}t.difference=Un;var kt=function(v,p){return(0,o.pipe)(v,(0,t.map)(p))},C=function(v,p){return(0,o.pipe)(v,(0,t.mapWithIndex)(p))},$=function(v,p){return(0,o.pipe)(v,(0,t.ap)(p))},P=function(v,p){return(0,o.pipe)(v,(0,t.filter)(p))},gt=function(v,p){return(0,o.pipe)(v,(0,t.filterMap)(p))},jt=function(v,p){return(0,o.pipe)(v,(0,t.partition)(p))},L=function(v,p){return(0,o.pipe)(v,(0,t.partitionMap)(p))},z=function(v,p){return(0,o.pipe)(v,(0,t.partitionWithIndex)(p))},H=function(v,p){return(0,o.pipe)(v,(0,t.partitionMapWithIndex)(p))},Rt=function(v,p){return(0,o.pipe)(v,(0,t.alt)(p))},mt=function(v,p,W){return(0,o.pipe)(v,(0,t.reduce)(p,W))},Sn=function(v){var p=(0,t.foldMap)(v);return function(W,q){return(0,o.pipe)(W,p(q))}},_n=function(v,p,W){return(0,o.pipe)(v,(0,t.reduceRight)(p,W))},re=function(v,p,W){return(0,o.pipe)(v,(0,t.reduceWithIndex)(p,W))},ie=function(v){var p=(0,t.foldMapWithIndex)(v);return function(W,q){return(0,o.pipe)(W,p(q))}},ue=function(v,p,W){return(0,o.pipe)(v,(0,t.reduceRightWithIndex)(p,W))},ve=function(v,p){return(0,o.pipe)(v,(0,t.filterMapWithIndex)(p))},Te=function(v,p){return(0,o.pipe)(v,(0,t.filterWithIndex)(p))},qe=function(v,p){return(0,o.pipe)(v,(0,t.extend)(p))},b=function(v){var p=(0,t.traverse)(v);return function(W,q){return(0,o.pipe)(W,p(q))}},w=function(v){var p=(0,t.traverseWithIndex)(v);return function(W,q){return(0,o.pipe)(W,p(q))}},j=h._chainRecDepthFirst,K=h._chainRecBreadthFirst;t.of=f.of;var _t=function(){return[]};t.zero=_t;var wt=function(v){return function(p){return p.map(function(W){return v(W)})}};t.map=wt;var Gt=function(v){return(0,t.flatMap)(function(p){return(0,o.pipe)(v,(0,t.map)(p))})};t.ap=Gt,t.flatMap=(0,o.dual)(2,function(v,p){return(0,o.pipe)(v,(0,t.chainWithIndex)(function(W,q){return p(q,W)}))}),t.flatten=(0,t.flatMap)(o.identity);var Tn=function(v){return function(p){return p.map(function(W,q){return v(q,W)})}};t.mapWithIndex=Tn;var me=function(v){return function(p){for(var W=[],q=0;q<p.length;q++){var lt=v(q,p[q]);l.isSome(lt)&&W.push(lt.value)}return W}};t.filterMapWithIndex=me;var Ee=function(v){return(0,t.filterMapWithIndex)(function(p,W){return v(W)})};t.filterMap=Ee,t.compact=(0,t.filterMap)(o.identity);var ur=function(v){for(var p=[],W=[],q=0,lt=v;q<lt.length;q++){var ht=lt[q];ht._tag==="Left"?p.push(ht.left):W.push(ht.right)}return(0,g.separated)(p,W)};t.separate=ur;var y=function(v){return function(p){return p.filter(v)}};t.filter=y;var S=function(v){return(0,t.partitionWithIndex)(function(p,W){return v(W)})};t.partition=S;var U=function(v){return function(p){for(var W=[],q=[],lt=0;lt<p.length;lt++){var ht=p[lt];v(lt,ht)?q.push(ht):W.push(ht)}return(0,g.separated)(W,q)}};t.partitionWithIndex=U;var D=function(v){return(0,t.partitionMapWithIndex)(function(p,W){return v(W)})};t.partitionMap=D;var dt=function(v){return function(p){for(var W=[],q=[],lt=0;lt<p.length;lt++){var ht=v(lt,p[lt]);ht._tag==="Left"?W.push(ht.left):q.push(ht.right)}return(0,g.separated)(W,q)}};t.partitionMapWithIndex=dt;var Mt=function(v){return function(p){return p.concat(v())}};t.altW=Mt,t.alt=t.altW;var ln=function(v){return function(p){return p.filter(function(W,q){return v(q,W)})}};t.filterWithIndex=ln;var ae=function(v){return function(p){return p.map(function(W,q){return v(p.slice(q))})}};t.extend=ae,t.duplicate=(0,t.extend)(o.identity),t.foldMap=h.foldMap,t.foldMapWithIndex=h.foldMapWithIndex,t.reduce=h.reduce,t.reduceWithIndex=h.reduceWithIndex,t.reduceRight=h.reduceRight,t.reduceRightWithIndex=h.reduceRightWithIndex;var ar=function(v){var p=(0,t.traverseWithIndex)(v);return function(W){return p(function(q,lt){return W(lt)})}};t.traverse=ar;var kr=function(v){return function(p){return mt(p,v.of((0,t.zero)()),function(W,q){return v.ap(v.map(W,function(lt){return function(ht){return(0,o.pipe)(lt,(0,t.append)(ht))}}),q)})}};t.sequence=kr;var $l=function(v){return function(p){return(0,t.reduceWithIndex)(v.of((0,t.zero)()),function(W,q,lt){return v.ap(v.map(q,function(ht){return function(zr){return(0,o.pipe)(ht,(0,t.append)(zr))}}),p(W,lt))})}};t.traverseWithIndex=$l;var Nl=function(v){var p=yu(v);return function(W){return function(q){return p(q,W)}}};t.wither=Nl;var Cl=function(v){var p=_u(v);return function(W){return function(q){return p(q,W)}}};t.wilt=Cl;var Ll=function(v,p){for(var W=[],q=v;;){var lt=p(q);if(l.isSome(lt)){var ht=lt.value,zr=ht[0],Kl=ht[1];W.push(zr),q=Kl}else break}return W};t.unfold=Ll,t.URI="Array",t.getShow=h.getShow;var Fl=function(){return{concat:function(v,p){return v.concat(p)}}};t.getSemigroup=Fl;var Ul=function(){return{concat:(0,t.getSemigroup)().concat,empty:[]}};t.getMonoid=Ul,t.getEq=h.getEq,t.getOrd=h.getOrd;var Bl=function(v){var p=bn(v);return{concat:function(W,q){return p(q)(W)}}};t.getUnionSemigroup=Bl;var kl=function(v){return{concat:(0,t.getUnionSemigroup)(v).concat,empty:[]}};t.getUnionMonoid=kl;var zl=function(v){var p=yn(v);return{concat:function(W,q){return p(q)(W)}}};t.getIntersectionSemigroup=zl;var Pl=function(v){var p=Un(v);return{concat:function(W,q){return p(q)(W)}}};t.getDifferenceMagma=Pl,t.Functor={URI:t.URI,map:kt},t.flap=(0,c.flap)(t.Functor),t.Pointed={URI:t.URI,of:t.of},t.FunctorWithIndex={URI:t.URI,map:kt,mapWithIndex:C},t.Apply={URI:t.URI,map:kt,ap:$},t.apFirst=(0,i.apFirst)(t.Apply),t.apSecond=(0,i.apSecond)(t.Apply),t.Applicative={URI:t.URI,map:kt,ap:$,of:t.of},t.Chain={URI:t.URI,map:kt,ap:$,chain:t.flatMap},t.chainFirst=(0,u.chainFirst)(t.Chain),t.Monad={URI:t.URI,map:kt,ap:$,of:t.of,chain:t.flatMap},t.Unfoldable={URI:t.URI,unfold:t.unfold},t.Alt={URI:t.URI,map:kt,alt:Rt},t.Zero={URI:t.URI,zero:t.zero},t.guard=(0,A.guard)(t.Zero,t.Pointed),t.Alternative={URI:t.URI,map:kt,ap:$,of:t.of,alt:Rt,zero:t.zero},t.Extend={URI:t.URI,map:kt,extend:qe},t.Compactable={URI:t.URI,compact:t.compact,separate:t.separate},t.Filterable={URI:t.URI,map:kt,compact:t.compact,separate:t.separate,filter:P,filterMap:gt,partition:jt,partitionMap:L},t.FilterableWithIndex={URI:t.URI,map:kt,mapWithIndex:C,compact:t.compact,separate:t.separate,filter:P,filterMap:gt,partition:jt,partitionMap:L,partitionMapWithIndex:H,partitionWithIndex:z,filterMapWithIndex:ve,filterWithIndex:Te},t.Foldable={URI:t.URI,reduce:mt,foldMap:Sn,reduceRight:_n},t.FoldableWithIndex={URI:t.URI,reduce:mt,foldMap:Sn,reduceRight:_n,reduceWithIndex:re,foldMapWithIndex:ie,reduceRightWithIndex:ue},t.Traversable={URI:t.URI,map:kt,reduce:mt,foldMap:Sn,reduceRight:_n,traverse:b,sequence:t.sequence},t.TraversableWithIndex={URI:t.URI,map:kt,mapWithIndex:C,reduce:mt,foldMap:Sn,reduceRight:_n,reduceWithIndex:re,foldMapWithIndex:ie,reduceRightWithIndex:ue,traverse:b,sequence:t.sequence,traverseWithIndex:w};var yu=(0,I.witherDefault)(t.Traversable,t.Compactable),_u=(0,I.wiltDefault)(t.Traversable,t.Compactable);t.Witherable={URI:t.URI,map:kt,compact:t.compact,separate:t.separate,filter:P,filterMap:gt,partition:jt,partitionMap:L,reduce:mt,foldMap:Sn,reduceRight:_n,traverse:b,sequence:t.sequence,wither:yu,wilt:_u},t.chainRecDepthFirst=h.chainRecDepthFirst,t.ChainRecDepthFirst={URI:t.URI,map:kt,ap:$,chain:t.flatMap,chainRec:j},t.chainRecBreadthFirst=h.chainRecBreadthFirst,t.ChainRecBreadthFirst={URI:t.URI,map:kt,ap:$,chain:t.flatMap,chainRec:K},t.filterE=(0,I.filterE)(t.Witherable),t.FromEither={URI:t.URI,fromEither:t.fromEither},t.fromEitherK=(0,a.fromEitherK)(t.FromEither),t.unsafeInsertAt=f.unsafeInsertAt;var jl=function(v,p,W){return(0,t.isNonEmpty)(W)?f.unsafeUpdateAt(v,p,W):[]};t.unsafeUpdateAt=jl;var Tl=function(v,p){var W=p.slice();return W.splice(v,1),W};t.unsafeDeleteAt=Tl,t.every=h.every;var ql=function(v){return function(p){return p.some(v)}};t.some=ql,t.exists=t.some,t.intercalate=h.intercalate,t.Do=(0,t.of)(l.emptyRecord),t.bindTo=(0,c.bindTo)(t.Functor);var Dl=(0,c.let)(t.Functor);t.let=Dl,t.bind=(0,u.bind)(t.Chain),t.apS=(0,i.apS)(t.Apply),t.chain=t.flatMap,t.range=f.range,t.empty=[],t.cons=f.cons,t.snoc=f.snoc,t.prependToAll=t.prependAll,t.array={URI:t.URI,compact:t.compact,separate:t.separate,map:kt,ap:$,of:t.of,chain:t.flatMap,filter:P,filterMap:gt,partition:jt,partitionMap:L,mapWithIndex:C,partitionMapWithIndex:H,partitionWithIndex:z,filterMapWithIndex:ve,filterWithIndex:Te,alt:Rt,zero:t.zero,unfold:t.unfold,reduce:mt,foldMap:Sn,reduceRight:_n,traverse:b,sequence:t.sequence,reduceWithIndex:re,foldMapWithIndex:ie,reduceRightWithIndex:ue,traverseWithIndex:w,extend:qe,wither:yu,wilt:_u}}(Qh),Object.defineProperty(Ra,"__esModule",{value:!0}),Ra.rotate=void 0;const Kb=Qh,wc=yt,Vb=Oe,ed=dn,Gb=ye,Hb=be;function Jb(t){return function(e){if(t==0)return e;if(t<0)return(0,wc.pipe)(e,ed.toArray,(0,Kb.rotate)(t),ed.fromIterable);const r=(0,wc.pipe)(e,(0,Gb.dropLeft)(t)),i=(0,wc.pipe)(e,(0,Hb.take)(t));return(0,Vb.concat)(i)(r)}}Ra.rotate=Jb;var Aa={};Object.defineProperty(Aa,"__esModule",{value:!0}),Aa.scanLeft=void 0;function Zb(t,n){return function(r){return function*(){yield t;for(const u of r())t=n(t,u),yield t}}}Aa.scanLeft=Zb;var wa={};Object.defineProperty(wa,"__esModule",{value:!0}),wa.scanRight=void 0;const Xb=dn;function Yb(t,n){return function(r){return function*(){const u=t,a=(0,Xb.toArray)(r),o=new Array(a.length);for(let c=a.length-1;c>=0;--c){const l=a[c];t=n(t,l),o[c]=t}for(const c of o)yield c;yield u}}}wa.scanRight=Yb;var Ea={};Object.defineProperty(Ea,"__esModule",{value:!0}),Ea.size=void 0;function Qb(t){let n=0;for(const e of t())n++;return n}Ea.size=Qb;var li={};Object.defineProperty(li,"__esModule",{value:!0}),li.exists=li.some=void 0;function rd(t){return function(e){for(const r of e())if(t(r))return!0;return!1}}li.some=rd,li.exists=rd;var Wa={};Object.defineProperty(Wa,"__esModule",{value:!0}),Wa.splitAt=void 0;const id=yt,xb=le,t1=ye,n1=be;function e1(t){return function(e){return function*(){t<=0?(yield xb.empty,yield e):(yield(0,id.pipe)(e,(0,n1.takeLeft)(t)),yield(0,id.pipe)(e,(0,t1.dropLeft)(t)))}}}Wa.splitAt=e1;var Oa={};Object.defineProperty(Oa,"__esModule",{value:!0}),Oa.tail=void 0;const ud=kn;function r1(t){const n=t(),{done:e}=n.next();return e?ud.none:(0,ud.some)(function*(){yield*n})}Oa.tail=r1;var tu={};Object.defineProperty(tu,"__esModule",{value:!0}),tu.takeLeftWhile=void 0;function i1(t){return function(e){return function*(){for(const i of e())if(t(i))yield i;else break}}}tu.takeLeftWhile=i1;var $a={};Object.defineProperty($a,"__esModule",{value:!0}),$a.takeRightWhile=void 0;const u1=yt,a1=Yr,o1=tu;function c1(t){return function(e){return(0,u1.pipe)(e,a1.reverse,(0,o1.takeLeftWhile)(t))}}$a.takeRightWhile=c1;var Na={};Object.defineProperty(Na,"__esModule",{value:!0}),Na.takeRight=void 0;const l1=dn;function f1(t){return function(e){return function*(){if(t<=0)return;const i=(0,l1.toArray)(e);for(let u=i.length,a=Math.max(u-t,0);t>0&&a<u;++a,--t)yield i[a]}}}Na.takeRight=f1;var fi={};Object.defineProperty(fi,"__esModule",{value:!0}),fi.transposeArray=fi.transpose=void 0;const s1=yt,Ec=dn,ad=Mn;function h1(t){return(0,s1.pipe)(t,(0,ad.map)(Ec.toArray),od,(0,ad.map)(Ec.fromIterable))}fi.transpose=h1;function od(t){return function*(){const e=(0,Ec.toArray)(t);let r=0;for(;;){const i=[];for(const u of e)u.length<=r||i.push(u[r]);if(r++,i.length)yield i;else break}}}fi.transposeArray=od;var nu={};Object.defineProperty(nu,"__esModule",{value:!0}),nu.union=void 0;function d1(t){function n(e,r){return typeof r<"u"?function*(){const u=[];for(const a of r())yield a,u.push(a);for(const a of e())u.some(o=>t.equals(o,a))||(yield a,u.push(a))}:function(u){return n(e,u)}}return n}nu.union=d1;var Ca={};Object.defineProperty(Ca,"__esModule",{value:!0}),Ca.uniq=void 0;function v1(t){return function(e){return function*(){const i=[];t:for(const u of e()){for(let a=0,o=i.length;a<o;++a){const c=i[a];if(t.equals(u,c))continue t}yield u,i.push(u)}}}}Ca.uniq=v1;var La={};Object.defineProperty(La,"__esModule",{value:!0}),La.updateAt=void 0;const m1=xi;function p1(t,n){return(0,m1.modifyAt)(t,e=>n)}La.updateAt=p1;var _r={};Object.defineProperty(_r,"__esModule",{value:!0}),_r.unzipArray=_r.zipArray=void 0;const cd=yt,ld=Mn;function fd(t,n){return typeof n<"u"?function*(){const r=t(),i=n();for(;;){const u=r.next(),a=i.next();if(u.done||a.done)return;yield[u.value,a.value]}}:function(r){return fd(r,t)}}_r.zipArray=fd;function g1(t){return[(0,cd.pipe)(t,(0,ld.map)(n=>n[0])),(0,cd.pipe)(t,(0,ld.map)(n=>n[1]))]}_r.unzipArray=g1;var Fa={},Ir={};Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.unzip=Ir.zip=void 0;const y1=yt,_1=dn,I1=Mn,b1=_r;function sd(t,n){return typeof n<"u"?(0,y1.pipe)((0,b1.zipArray)(t,n),(0,I1.map)(_1.fromIterable)):function(r){return sd(r,t)}}Ir.zip=sd;function S1(t){return function*(){for(const e of t())yield*e()}}Ir.unzip=S1,Object.defineProperty(Fa,"__esModule",{value:!0}),Fa.zipWith=void 0;const M1=Ir;function R1(t,n,e){return function*(){for(const i of(0,M1.zip)(t,n)()){const u=i();let a=u.next();if(a.done)return;const o=a.value;if(a=u.next(),a.done)return;const c=a.value;yield e(o,c)}}}Fa.zipWith=R1;var Ua={};Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.getEq=void 0;function A1(t){return{equals(n,e){const r=n(),i=e();for(;;){const u=r.next(),a=i.next();if(u.done!==a.done)return!1;if(u.done)return!0;const o=u.value,c=a.value;if(!t.equals(o,c))return!1}}}}Ua.getEq=A1;var hd={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fromEitherK=t.FromEither=t.fromEither=void 0;const n=cr,e=xt,r=Bn,i=on,u=le;function a(o){return(0,n.isRight)(o)?(0,r.of)(o.right):u.empty}t.fromEither=a,t.FromEither={URI:i.URI,fromEither:a},t.fromEitherK=(0,e.fromEitherK)(t.FromEither)})(hd);var dd={},Se={};Object.defineProperty(Se,"__esModule",{value:!0}),Se.tapIO=Se.chainFirstIOK=Se.chainIOK=Se.fromIOK=void 0;var w1=On,Wc=yt;function E1(t){return function(n){return(0,Wc.flow)(n,t.fromIO)}}Se.fromIOK=E1;function W1(t,n){return function(e){var r=(0,Wc.flow)(e,t.fromIO);return function(i){return n.chain(i,r)}}}Se.chainIOK=W1;function O1(t,n){var e=vd(t,n);return function(r){return function(i){return e(i,r)}}}Se.chainFirstIOK=O1;function vd(t,n){var e=(0,w1.tap)(n);return function(r,i){return e(r,(0,Wc.flow)(i,t.fromIO))}}Se.tapIO=vd,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fromIOK=t.FromIO=t.fromIO=void 0;const n=Se,e=on;function r(i){return function*(){yield i()}}t.fromIO=r,t.FromIO={URI:e.URI,fromIO:r},t.fromIOK=(0,n.fromIOK)(t.FromIO)}(dd);var Ba={};Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.fromOption=void 0;const $1=kn,N1=Bn,C1=le;function L1(t){return(0,$1.isSome)(t)?(0,N1.of)(t.value):C1.empty}Ba.fromOption=L1;var ka={};Object.defineProperty(ka,"__esModule",{value:!0}),ka.fromPredicate=void 0;const F1=Bn,U1=le;function B1(t){return function(e){return t(e)?(0,F1.of)(e):U1.empty}}ka.fromPredicate=B1;var za={};Object.defineProperty(za,"__esModule",{value:!0}),za.getDifferenceMagma=void 0;const k1=Di;function z1(t){const n=(0,k1.difference)(t);return{concat(e,r){return n(r,e)}}}za.getDifferenceMagma=z1;var si={},Ce={};Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.getIntersectionSemigroup=Ce.getUnionSemigroup=Ce.getSemigroup=void 0;const P1=Qt,j1=ce,T1=Oe,q1=Zi,D1=nu;function K1(t){return typeof t=="object"&&typeof t.concat=="function"?(0,P1.getApplySemigroup)(j1.Applicative)(t):{concat:(n,e)=>(0,T1.concat)(e)(n)}}Ce.getSemigroup=K1;function V1(t){const n=(0,D1.union)(t);return{concat(e,r){return n(r,e)}}}Ce.getUnionSemigroup=V1;function G1(t){const n=(0,q1.intersection)(t);return{concat(e,r){return n(r,e)}}}Ce.getIntersectionSemigroup=G1,Object.defineProperty(si,"__esModule",{value:!0}),si.getUnionMonoid=si.getMonoid=void 0;const H1=Oe,md=le,J1=Ce;function Z1(){return{empty:md.empty,concat:(t,n)=>(0,H1.concat)(n)(t)}}si.getMonoid=Z1;function X1(t){return{empty:md.empty,concat:(0,J1.getUnionSemigroup)(t).concat}}si.getUnionMonoid=X1;var Pa={};Object.defineProperty(Pa,"__esModule",{value:!0}),Pa.getShow=void 0;function Y1(t){return{show(n){let e="{";const r=n();let i=r.next();if(i.done)return e+"}";for(e+=` ${t.show(i.value)}`,i=r.next();!i.done;)e+=`, ${t.show(i.value)}`,i=r.next();return e+" }"}}}Pa.getShow=Y1,function(t){var n=et&&et.__createBinding||(Object.create?function(r,i,u,a){a===void 0&&(a=u);var o=Object.getOwnPropertyDescriptor(i,u);(!o||("get"in o?!i.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return i[u]}}),Object.defineProperty(r,a,o)}:function(r,i,u,a){a===void 0&&(a=u),r[a]=i[u]}),e=et&&et.__exportStar||function(r,i){for(var u in r)u!=="default"&&!Object.prototype.hasOwnProperty.call(i,u)&&n(i,r,u)};Object.defineProperty(t,"__esModule",{value:!0}),e(De,t),e(ce,t),e(ef,t),e(So,t),e(ge,t),e(Oe,t),e(dn,t),e(sr,t),e(Mu,t),e(Ke,t),e(Mn,t),e(zu,t),e(Bn,t),e(Xr,t),e(Ie,t),e(Qr,t),e(xr,t),e(ni,t),e(on,t),e(uc,t),e(le,t),e(Pu,t),e(ju,t),e(Tu,t),e(He,t),e(qu,t),e(Du,t),e(Ku,t),e(Vu,t),e(Gu,t),e(Hu,t),e(Di,t),e(Ki,t),e(ye,t),e(Ju,t),e(Zu,t),e(Xu,t),e(Yu,t),e(Vi,t),e(Qu,t),e(xu,t),e(ei,t),e(ta,t),e(Gi,t),e(na,t),e(ea,t),e(ri,t),e(ra,t),e(ia,t),e(Zi,t),e(Ji,t),e(Je,t),e(Hi,t),e(ua,t),e(aa,t),e(oa,t),e(Ze,t),e(Xe,t),e(ii,t),e(ui,t),e(xi,t),e(_a,t),e(Ia,t),e(mr,t),e(ba,t),e(Sa,t),e(Yr,t),e(Ma,t),e(Ra,t),e(Aa,t),e(wa,t),e(Ea,t),e(li,t),e(Wa,t),e(Oa,t),e(tu,t),e(be,t),e($a,t),e(Na,t),e(fi,t),e(nu,t),e(Ca,t),e(La,t),e(_r,t),e(Fa,t),e(Ir,t),e(Ua,t),e(hd,t),e(dd,t),e(Ba,t),e(ka,t),e(za,t),e(si,t),e(Ce,t),e(Pa,t)}(We);var ja=Jl;function Q1(t){return{URI:gd,_E:void 0,map:x1,ap:function(n,e){return ja(t.concat(n,e))}}}function pd(t){var n=Q1(t);return{URI:gd,_E:void 0,map:n.map,ap:n.ap,of:function(){return ja(t.empty)}}}var x1=function(t,n){return Q(t,tS())},tS=function(){return Jl},gd="Const",nS=function(){return{concat:function(t,n){return Y(t,n)}}},eS=function(){return{concat:nS().concat,empty:Ht}},rS=function(t){return xp(t)(t.empty)};tg.concat;var iS={concat:ng.concat,empty:!0},uS={concat:eg.concat,empty:!1},ot=Q,aS=function(t){var n=Ta(t);return function(e,r){var i=n(e);return function(u){var a=i(u);if(_f(a)){var o=new Map(u);return o.set(e,r),o}else if(a.value[1]!==r){var o=new Map(u);return o.set(a.value[0],r),o}return u}}},oS=function(t){var n=Ta(t);return function(e){return function(r){var i=n(e,r);if(Tr(i)){var u=new Map(r);return u.delete(i.value[0]),u}return r}}};function Ta(t){return function(n,e){if(e===void 0){var r=Ta(t);return function(l){return r(n,l)}}for(var i=e.entries(),u;!(u=i.next()).done;){var a=u.value,o=a[0],c=a[1];if(t.equals(o,n))return $n([o,c])}return In}}function Oc(t){var n=Ta(t);return function(e,r){if(r===void 0){var i=Oc(t);return function(u){return i(e,u)}}return Q(n(e,r),$e(function(u){u[0];var a=u[1];return a}))}}var yd=aS;function cS(t){return function(n){for(var e=n.values(),r,i=new Set;!(r=e.next()).done;){var u=r.value;t(u)&&i.add(u)}return i}}function lS(t){var n=$c(t);return function(e){return function(r){if(n(e)(r))return r;var i=new Set(r);return i.add(e),i}}}var fS=function(t){return function(n){return function(e){return cS(function(r){return!t.equals(n,r)})(e)}}};function $c(t){return function(n,e){if(e===void 0){var r=$c(t);return function(o){return r(n,o)}}for(var i=e.values(),u,a=!1;!a&&!(u=i.next()).done;)a=t.equals(n,u.value);return a}}var sS=function(t,n){return function(e){if(Au.call(e,t)&&e[t]===n)return e;var r=Object.assign({},e);return r[t]=n,r}};function hS(t){return function(n){if(!Au.call(n,t))return n;var e=Object.assign({},n);return delete e[t],e}}function qa(t,n){return n===void 0?function(e){return qa(t,e)}:Au.call(n,t)?$n(n[t]):In}var _d=sS,dS=kp,vS=zp,mS=Ru,pS=function(t,n,e){if(e||arguments.length===2)for(var r=0,i=n.length,u;r<i;r++)(u||!(r in n))&&(u||(u=Array.prototype.slice.call(n,0,r)),u[r]=n[r]);return t.concat(u||Array.prototype.slice.call(n))},Id=function(t,n){return{get:t,reverseGet:n}},Da=function(t){return se(t.get,Y(t.reverseGet,pe))},Nc=function(t){return Fe(Y(t.get,Tt),t.reverseGet)},Ka=function(t){return xn(Y(t.get,Tt),Y(t.reverseGet,pe))},Cc=function(t){return Ye(function(n){return function(e){return function(r){return n.map(e(t.get(r)),function(i){return t.reverseGet(i)})}}})},se=function(t,n){return{get:t,set:n}},Le=function(t){return xn(Y(t.get,Tt),t.set)},br=function(t){return Ye(function(n){return function(e){return function(r){return n.map(e(t.get(r)),function(i){return t.set(i)(r)})}}})},eu=function(t){return function(n){return se(function(e){return t.get(n.get(e))},function(e){return function(r){return n.set(t.set(e)(n.get(r)))(r)}})}},Lc=function(t){return function(n){return Fe(Y(n.getOption,Rc(t.getOption)),Y(t.reverseGet,n.reverseGet))}},Fc=function(t){return function(n){return Hn(Me(t))(Le(n))}},he=function(){return se(Ht,pe)},hi=function(t){return function(n){return se(function(e){return n.get(e)[t]},function(e){return function(r){var i,u=n.get(r);return e===u[t]?r:n.set(Object.assign({},u,(i={},i[t]=e,i)))(r)}})}},di=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return function(e){return se(function(r){for(var i=e.get(r),u={},a=0,o=t;a<o.length;a++){var c=o[a];u[c]=i[c]}return u},function(r){return function(i){for(var u=e.get(i),a=0,o=t;a<o.length;a++){var c=o[a];if(r[c]!==u[c])return e.set(Object.assign({},u,r))(i)}return i}})}},vi=function(t){return function(n){return se(function(e){return n.get(e)[t]},function(e){return function(r){var i=n.get(r);if(e===i[t])return r;var u=i.slice();return u[t]=e,n.set(u)(r)}})}},Uc=function(t){return function(n){return ot(n,eu(Ar().at(t)))}},Fe=function(t,n){return{getOption:t,reverseGet:n}},Me=function(t){return xn(t.getOption,function(n){return Va(n)(t)})},Sr=function(t){return Ye(function(n){return function(e){return function(r){return ot(t.getOption(r),Gn(function(){return n.of(r)},function(i){return n.map(e(i),function(u){return Va(u)(t)(r)})}))}}})},Bc=function(t){return function(n){return function(e){return ot(n.getOption(e),$e(function(r){var i=t(r);return i===r?e:n.reverseGet(i)}))}}},kc=function(t){return function(n){var e=Bc(t)(n);return function(r){return ot(e(r),Sc(function(){return r}))}}},Va=function(t){return kc(function(){return t})},zc=function(t){return function(n){return Hn(Le(t))(Me(n))}},mi=function(){return Fe(yr,Ht)},Mr=function(t){return Fe(la(t),Ht)},Rr=function(){return Fe(Ht,Tt)},pi=function(){return Fe(Ic,vS)},gi=function(){return Fe(function(t){return mS(t)?Tt(t.left):zt},dS)},xn=function(t,n){return{getOption:t,set:n}},yi=function(t){return Ye(function(n){return function(e){return function(r){return ot(t.getOption(r),Gn(function(){return n.of(r)},function(i){return n.map(e(i),function(u){return t.set(u)(r)})}))}}})},Pc=function(t){return function(n){return function(e){return ot(n.getOption(e),$e(function(r){var i=t(r);return i===r?e:n.set(i)(e)}))}}},jc=function(t){return function(n){var e=Pc(t)(n);return function(r){return ot(e(r),Sc(function(){return r}))}}},Hn=function(t){return function(n){return xn(Y(n.getOption,Rc(t.getOption)),function(e){return jc(t.set(e))(n)})}},ru=function(t){return function(n){return ot(n,Hn(ou().index(t)))}},iu=function(t){return function(n){return ot(n,Hn(Ga().index(t)))}},uu=function(t){return function(n){return ot(n,Hn(cu().index(t)))}},_i=function(t){return xn(Bo(t),function(n){return function(e){return ot(Uo(t)(e),Gn(function(){return e},function(r){return es(r,n,e)}))}})},bd=function(t,n,e){if(e[t]===n)return e;var r=pS([e[0]],e.slice(1),!0);return r[t]=n,r},Ii=function(t){return xn(Bo(t),function(n){return function(e){return ot(Uo(t)(e),Gn(function(){return e},function(r){return bd(r,n,e)}))}})},Ye=function(t){return{modifyF:t}};function Re(t){return function(n){return Ye(function(e){return function(r){return n.modifyF(e)(t.modifyF(e)(r))}})}}var Sd={URI:"Identity",map:function(t,n){return n(t)},of:Ht,ap:function(t,n){return t(n)}},gS=function(t){return t.URI==="Identity"};function Tc(t){return function(){return Ye(function(n){var e=gS(n)?t.map:t.traverse(n);return function(r){return function(i){return e(i,r)}}})}}function bi(t){return Re(Tc(t)())}var au=function(t){return{index:t}},ou=function(){return au(function(t){return xn(function(n){return Kr(t,n)},function(n){return function(e){return ot(Kr(t,e),Gn(function(){return e},function(){return es(t,n,e)}))}})})},Ga=function(){return au(function(t){return xn(function(n){return Kr(t,n)},function(n){return function(e){return ot(Kr(t,e),Gn(function(){return e},function(){return bd(t,n,e)}))}})})},cu=function(){return au(function(t){return xn(function(n){return qa(t,n)},function(n){return function(e){return e[t]===n||Et(qa(t,e))?e:_d(t,n)(e)}})})},qc=function(t){return{at:t}};function Ar(){return qc(function(t){return se(function(n){return qa(t,n)},Gn(function(){return hS(t)},function(n){return _d(t,n)}))})}var Ha=Object.freeze({__proto__:null,ApplicativeIdentity:Sd,at:qc,atReadonlyRecord:Ar,fromTraversable:Tc,index:au,indexReadonlyArray:ou,indexReadonlyNonEmptyArray:Ga,indexReadonlyRecord:cu,iso:Id,isoAsLens:Da,isoAsOptional:Ka,isoAsPrism:Nc,isoAsTraversal:Cc,lens:se,lensAsOptional:Le,lensAsTraversal:br,lensAtKey:Uc,lensComponent:vi,lensComposeLens:eu,lensComposePrism:Fc,lensId:he,lensProp:hi,lensProps:di,optional:xn,optionalAsTraversal:yi,optionalComposeOptional:Hn,optionalFindFirst:_i,optionalFindFirstNonEmpty:Ii,optionalIndex:ru,optionalIndexNonEmpty:iu,optionalKey:uu,optionalModify:jc,optionalModifyOption:Pc,prism:Fe,prismAsOptional:Me,prismAsTraversal:Sr,prismComposeLens:zc,prismComposePrism:Lc,prismFromNullable:mi,prismFromPredicate:Mr,prismLeft:gi,prismModify:kc,prismModifyOption:Bc,prismRight:pi,prismSet:Va,prismSome:Rr,traversal:Ye,traversalComposeTraversal:Re,traversalTraverse:bi}),Ja=qc,Md=function(t){return function(n){return Ja(function(e){return ot(t,Da,eu(n.at(e)))})}},yS=Ar,_S=function(t){var n=Oc(t),e=oS(t),r=yd(t);return function(){return Ja(function(i){return se(function(u){return n(i,u)},Gn(function(){return e(i)},function(u){return r(i,u)}))})}},IS=function(t){var n=$c(t),e=lS(t),r=fS(t);return Ja(function(i){var u=e(i),a=r(i);return se(function(o){return n(i,o)},function(o){return function(c){return o?u(c):a(c)}})})},bS=Ar,SS=Object.freeze({__proto__:null,at:Ja,atReadonlyMap:_S,atReadonlyRecord:yS,atReadonlySet:IS,atRecord:bS,fromIso:Md}),lu=Id,Rd=function(){return lu(Ht,Ht)},Ue=Da,fu=Nc,Qe=Ka,Si=Cc,Za=function(t){return function(n){return lu(Y(n.get,t.get),Y(t.reverseGet,n.reverseGet))}},MS=Za,RS=function(t){return Y(Ue,eu(t))},Mi=function(t){return Y(fu,Lc(t))},Dc=function(t){return Y(Qe,Hn(t))},AS=function(t){return Y(Si,Re(t))},Ad=function(t){return lu(t.reverseGet,t.get)},wd=function(t){return function(n){return function(e){return n.reverseGet(t(n.get(e)))}}};function wS(t){return function(n){return function(e){return function(r){return ot(e.get(r),n,function(i){return t.map(i,e.reverseGet)})}}}}var ES=function(t){return Mi(mi())(t)};function WS(t){return Mi(Mr(t))}var OS=function(t){return Y(Ue,hi(t))},$S=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Y(Ue,di.apply(Ha,t))},NS=function(t){return Y(Ue,vi(t))},CS=function(t){return Y(Qe,ru(t))},LS=function(t){return Y(Qe,iu(t))},FS=function(t){return Y(Qe,uu(t))},US=function(t){return Y(Ue,Uc(t))},BS=Mi(Rr()),kS=Mi(pi()),zS=Mi(gi());function PS(t){return Y(Si,bi(t))}function jS(t){return Dc(_i(t))}function TS(t){return Dc(Ii(t))}var qS=function(t,n){return function(e){return Ed(e,t,n)}},Ed=function(t,n,e){return lu(Y(t.get,n),Y(e,t.reverseGet))},Xa="monocle-ts/Iso",DS={URI:Xa,imap:Ed},Wd={URI:Xa,compose:function(t,n){return Za(t)(n)}},KS={URI:Xa,compose:Wd.compose,id:Rd},VS=Object.freeze({__proto__:null,Category:KS,Invariant:DS,Semigroupoid:Wd,URI:Xa,asLens:Ue,asOptional:Qe,asPrism:fu,asTraversal:Si,atKey:US,component:NS,compose:Za,composeIso:MS,composeLens:RS,composeOptional:Dc,composePrism:Mi,composeTraversal:AS,filter:WS,findFirst:jS,findFirstNonEmpty:TS,fromNullable:ES,id:Rd,imap:qS,index:CS,indexNonEmpty:LS,iso:lu,key:FS,left:zS,modify:wd,modifyF:wS,prop:OS,props:$S,reverse:Ad,right:kS,some:BS,traverse:PS}),Ya=au,Od=function(t){return Ya(function(n){return Fc(Rr())(t.at(n))})},$d=function(t){return function(n){return Ya(function(e){return ot(t,Ka,Hn(n.index(e)))})}},GS=ou,HS=Ga,JS=cu,ZS=function(t){var n=Oc(t),e=yd(t);return function(){return Ya(function(r){return xn(function(i){return n(r,i)},function(i){var u=e(r,i);return function(a){return ot(n(r,a),Gn(function(){return a},function(o){return i===o?a:u(a)}))}})})}},XS=ou,YS=cu,QS=Object.freeze({__proto__:null,fromAt:Od,fromIso:$d,index:Ya,indexArray:XS,indexReadonlyArray:GS,indexReadonlyMap:ZS,indexReadonlyNonEmptyArray:HS,indexReadonlyRecord:JS,indexRecord:YS}),Nd=se,Qa=he,xe=Le,Ri=br,wr=eu,xS=wr,tM=Y(Da,wr),Er=Fc,Kc=function(t){return Y(xe,Hn(t))},nM=function(t){return Y(Ri,Re(t))},Cd=function(t){return function(n){return function(e){var r=n.get(e),i=t(r);return r===i?e:n.set(i)(e)}}};function eM(t){return function(n){return function(e){return function(r){return ot(e.get(r),n,function(i){return t.map(i,function(u){return e.set(u)(r)})})}}}}var rM=function(t){return Er(mi())(t)};function iM(t){return Er(Mr(t))}var Ld=hi,Fd=di,uM=vi,aM=function(t){return Y(xe,ru(t))},oM=function(t){return Y(xe,iu(t))},cM=function(t){return Y(xe,uu(t))},lM=Uc,fM=Er(Rr()),sM=Er(pi()),hM=Er(gi());function dM(t){return Y(Ri,bi(t))}function vM(t){return Kc(_i(t))}function mM(t){return Kc(Ii(t))}var pM=function(t,n){return function(e){return Ud(e,t,n)}},Ud=function(t,n,e){return Nd(Y(t.get,n),Y(e,t.set))},xa="monocle-ts/Lens",gM={URI:xa,imap:Ud},Bd={URI:xa,compose:function(t,n){return wr(t)(n)}},yM={URI:xa,compose:Bd.compose,id:Qa},kd=Object.freeze({__proto__:null,Category:yM,Invariant:gM,Semigroupoid:Bd,URI:xa,asOptional:xe,asTraversal:Ri,atKey:lM,component:uM,compose:wr,composeIso:tM,composeLens:xS,composeOptional:Kc,composePrism:Er,composeTraversal:nM,filter:iM,findFirst:vM,findFirstNonEmpty:mM,fromNullable:rM,id:Qa,imap:pM,index:aM,indexNonEmpty:oM,key:cM,left:hM,lens:Nd,modify:Cd,modifyF:eM,prop:Ld,props:Fd,right:sM,some:fM,traverse:dM}),Vc=xn,zd=function(){return Vc(Tt,pe)},su=yi,cn=Hn,_M=cn,IM=Y(Ka,cn),bM=Y(Le,Hn),SM=Y(Me,Hn),MM=function(t){return Y(su,Re(t))},Gc=Pc,RM=function(t){return Gc(function(){return t})},Pd=jc;function AM(t){return function(n){return function(e){return function(r){return ot(e.getOption(r),Gn(function(){return t.of(r)},function(i){return t.map(n(i),function(u){return e.set(u)(r)})}))}}}}var wM=cn(Me(mi()));function EM(t){return cn(Me(Mr(t)))}var WM=function(t){return cn(ot(he(),hi(t),Le))},OM=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return cn(ot(he(),di.apply(Ha,t),Le))},$M=function(t){return cn(ot(he(),vi(t),Le))},NM=ru,CM=iu,LM=uu,FM=function(t){return function(n){return ot(n,cn(Le(Ar().at(t))))}},UM=cn(Me(Rr())),BM=cn(Me(pi())),kM=cn(Me(gi()));function zM(t){return Y(su,bi(t))}function PM(t){return cn(_i(t))}function jM(t){return cn(Ii(t))}var TM=function(t,n){return function(e){return jd(e,t,n)}},jd=function(t,n,e){return Vc(Y(t.getOption,$e(n)),Y(e,t.set))},to="monocle-ts/Optional",qM={URI:to,imap:jd},Td={URI:to,compose:function(t,n){return cn(t)(n)}},DM={URI:to,compose:Td.compose,id:zd},KM=Object.freeze({__proto__:null,Category:DM,Invariant:qM,Semigroupoid:Td,URI:to,asTraversal:su,atKey:FM,component:$M,compose:cn,composeIso:IM,composeLens:bM,composeOptional:_M,composePrism:SM,composeTraversal:MM,filter:EM,findFirst:PM,findFirstNonEmpty:jM,fromNullable:wM,id:zd,imap:TM,index:NM,indexNonEmpty:CM,key:LM,left:kM,modify:Pd,modifyF:AM,modifyOption:Gc,optional:Vc,prop:WM,props:OM,right:BM,setOption:RM,some:UM,traverse:zM}),Hc=Fe,qd=function(){return Hc(Tt,Ht)},Dd=Mr,tr=Me,Ai=Sr,te=Lc,VM=te,GM=Y(Nc,te),hu=zc,Jc=function(t){return Y(tr,Hn(t))},HM=function(t){return Y(Ai,Re(t))},JM=Va,ZM=Bc,XM=kc;function YM(t){return function(n){return function(e){return function(r){return ot(e.getOption(r),Gn(function(){return t.of(r)},function(i){return t.map(n(i),e.reverseGet)}))}}}}var QM=te(mi());function xM(t){return te(Mr(t))}var tR=function(t){return hu(ot(he(),hi(t)))},nR=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return hu(ot(he(),di.apply(Ha,t)))},eR=function(t){return hu(ot(he(),vi(t)))},rR=function(t){return Y(tr,ru(t))},iR=function(t){return Y(tr,iu(t))},uR=function(t){return Y(tr,uu(t))},aR=function(t){return function(n){return zc(Ar().at(t))(n)}},oR=te(Rr()),cR=te(pi()),lR=te(gi());function fR(t){return Y(Ai,bi(t))}function sR(t){return Jc(_i(t))}function hR(t){return Jc(Ii(t))}var dR=function(t,n){return function(e){return Kd(e,t,n)}},Kd=function(t,n,e){return Hc(Y(t.getOption,$e(n)),Y(e,t.reverseGet))},no="monocle-ts/Prism",vR={URI:no,imap:Kd},Vd={URI:no,compose:function(t,n){return te(t)(n)}},mR={URI:no,compose:Vd.compose,id:qd},pR=Object.freeze({__proto__:null,Category:mR,Invariant:vR,Semigroupoid:Vd,URI:no,asOptional:tr,asTraversal:Ai,atKey:aR,component:eR,compose:te,composeIso:GM,composeLens:hu,composeOptional:Jc,composePrism:VM,composeTraversal:HM,filter:xM,findFirst:sR,findFirstNonEmpty:hR,fromNullable:QM,fromPredicate:Dd,id:qd,imap:dR,index:rR,indexNonEmpty:iR,key:uR,left:lR,modify:XM,modifyF:YM,modifyOption:ZM,prism:Hc,prop:tR,props:nR,right:cR,set:JM,some:oR,traverse:fR}),Gd=Ye,Hd=function(){return Gd(function(t){return function(n){return n}})},Jd=Tc,en=Re,gR=en,yR=Y(Cc,en),_R=Y(br,Re),Zd=Y(Sr,Re),Zc=Y(yi,Re),Xc=function(t){return function(n){return n.modifyF(Sd)(t)}},Xd=function(t){return Xc(function(){return t})},IR=function(t){return Zd(mi())(t)};function Yd(t){return en(Sr(Mr(t)))}var bR=function(t){return en(ot(he(),hi(t),br))},SR=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return en(ot(he(),di.apply(Ha,t),br))},MR=function(t){return en(ot(he(),vi(t),br))},RR=function(t){return function(n){return ot(n,en(yi(ou().index(t))))}},AR=function(t){return function(n){return ot(n,en(yi(Ga().index(t))))}},wR=function(t){return function(n){return ot(n,en(yi(cu().index(t))))}},ER=function(t){return function(n){return ot(n,en(br(Ar().at(t))))}},WR=en(Sr(Rr())),OR=en(Sr(pi())),$R=en(Sr(gi())),NR=bi;function CR(t){return Zc(_i(t))}function LR(t){return Zc(Ii(t))}var Yc=function(t){return function(n){return function(e){return e.modifyF(pd(t))(function(r){return ja(n(r))})}}},FR=function(t){return Yc(t)(Ht)},UR=function(t){return function(n){return Yc(xg())(Hg)(n)(t)}},Qc="monocle-ts/Traversal",Qd={URI:Qc,compose:function(t,n){return en(t)(n)}},BR={URI:Qc,compose:Qd.compose,id:Hd},kR=Object.freeze({__proto__:null,Category:BR,Semigroupoid:Qd,URI:Qc,atKey:ER,component:MR,compose:en,composeIso:yR,composeLens:_R,composeOptional:Zc,composePrism:Zd,composeTraversal:gR,filter:Yd,findFirst:CR,findFirstNonEmpty:LR,fold:FR,foldMap:Yc,fromNullable:IR,fromTraversable:Jd,getAll:UR,id:Hd,index:RR,indexNonEmpty:AR,key:wR,left:$R,modify:Xc,prop:bR,props:SR,right:OR,set:Xd,some:WR,traversal:Gd,traverse:NR}),xd=function(t){return new ev(t.get,t.reverseGet)},Wr=function(t){return new xc(t.get,t.set)},du=function(t){return new eo(t.getOption,t.reverseGet)},Jn=function(t){return new iv(t.getOption,t.set)},qn=function(t){return new uv(t.modifyF)},zR=function(t){return new av(function(n){return Wr(t.at(n))})},tv=function(t){return new ov(function(n){return Jn(t.index(n))})},nv=function(t,n,e){var r;return e===t[n]?t:Object.assign({},t,(r={},r[n]=e,r))},ev=function(){function t(n,e){this.get=n,this.reverseGet=e,this._tag="Iso",this.unwrap=this.get,this.to=this.get,this.wrap=this.reverseGet,this.from=this.reverseGet}return t.prototype.reverse=function(){return xd(Ad(this))},t.prototype.modify=function(n){return wd(n)(this)},t.prototype.asLens=function(){return Wr(Ue(this))},t.prototype.asPrism=function(){return du(fu(this))},t.prototype.asOptional=function(){return Jn(Qe(this))},t.prototype.asTraversal=function(){return qn(Si(this))},t.prototype.asFold=function(){var n=this;return new nr(function(){return function(e){return function(r){return e(n.get(r))}}})},t.prototype.asGetter=function(){var n=this;return new tl(function(e){return n.get(e)})},t.prototype.asSetter=function(){var n=this;return new wi(function(e){return n.modify(e)})},t.prototype.compose=function(n){return xd(Za(n)(this))},t.prototype.composeIso=function(n){return this.compose(n)},t.prototype.composeLens=function(n){return Wr(ot(this,Ue,wr(n)))},t.prototype.composePrism=function(n){return du(ot(this,fu,te(n)))},t.prototype.composeOptional=function(n){return Jn(ot(this,Qe,cn(n)))},t.prototype.composeTraversal=function(n){return qn(ot(this,Si,en(n)))},t.prototype.composeFold=function(n){return this.asFold().compose(n)},t.prototype.composeGetter=function(n){return this.asGetter().compose(n)},t.prototype.composeSetter=function(n){return this.asSetter().compose(n)},t}(),xc=function(){function t(n,e){this.get=n,this.set=e,this._tag="Lens"}return t.fromPath=function(){var n=t.fromProp();return function(e){var r=n(e[0]);return e.slice(1).reduce(function(i,u){return i.compose(n(u))},r)}},t.fromProp=function(){return function(n){return Wr(ot(Qa(),Ld(n)))}},t.fromProps=function(){return function(n){return Wr(ot(Qa(),Fd.apply(kd,n)))}},t.fromNullableProp=function(){return function(n,e){return new t(function(r){var i=yr(r[n]);return Et(i)?e:i.value},function(r){return function(i){return nv(i,n,r)}})}},t.prototype.modify=function(n){return Cd(n)(this)},t.prototype.asOptional=function(){return Jn(xe(this))},t.prototype.asTraversal=function(){return qn(Ri(this))},t.prototype.asSetter=function(){var n=this;return new wi(function(e){return n.modify(e)})},t.prototype.asGetter=function(){var n=this;return new tl(function(e){return n.get(e)})},t.prototype.asFold=function(){var n=this;return new nr(function(){return function(e){return function(r){return e(n.get(r))}}})},t.prototype.compose=function(n){return Wr(wr(n)(this))},t.prototype.composeLens=function(n){return this.compose(n)},t.prototype.composeGetter=function(n){return this.asGetter().compose(n)},t.prototype.composeFold=function(n){return this.asFold().compose(n)},t.prototype.composeOptional=function(n){return Jn(ot(this,xe,cn(n)))},t.prototype.composeTraversal=function(n){return qn(ot(this,Ri,en(n)))},t.prototype.composeSetter=function(n){return this.asSetter().compose(n)},t.prototype.composeIso=function(n){return Wr(ot(this,wr(ot(n,Ue))))},t.prototype.composePrism=function(n){return Jn(Er(n)(this))},t}(),eo=function(){function t(n,e){this.getOption=n,this.reverseGet=e,this._tag="Prism"}return t.fromPredicate=function(n){return du(Dd(n))},t.some=function(){return rv},t.prototype.modify=function(n){var e=this;return function(r){var i=e.modifyOption(n)(r);return Et(i)?r:i.value}},t.prototype.modifyOption=function(n){var e=this;return function(r){return Xh.map(e.getOption(r),function(i){var u=n(i);return u===i?r:e.reverseGet(u)})}},t.prototype.set=function(n){return this.modify(function(){return n})},t.prototype.asOptional=function(){return Jn(tr(this))},t.prototype.asTraversal=function(){return qn(Ai(this))},t.prototype.asSetter=function(){var n=this;return new wi(function(e){return n.modify(e)})},t.prototype.asFold=function(){var n=this;return new nr(function(e){return function(r){return function(i){var u=n.getOption(i);return Et(u)?e.empty:r(u.value)}}})},t.prototype.compose=function(n){return du(te(n)(this))},t.prototype.composePrism=function(n){return this.compose(n)},t.prototype.composeOptional=function(n){return Jn(ot(this,tr,cn(n)))},t.prototype.composeTraversal=function(n){return qn(ot(this,Ai,en(n)))},t.prototype.composeFold=function(n){return this.asFold().compose(n)},t.prototype.composeSetter=function(n){return this.asSetter().compose(n)},t.prototype.composeIso=function(n){return du(ot(this,te(ot(n,fu))))},t.prototype.composeLens=function(n){return Jn(hu(n)(this))},t.prototype.composeGetter=function(n){return this.asFold().compose(n.asFold())},t}(),rv=new eo(Ht,Tt),iv=function(){function t(n,e){this.getOption=n,this.set=e,this._tag="Optional"}return t.fromPath=function(){var n=t.fromNullableProp();return function(e){var r=n(e[0]);return e.slice(1).reduce(function(i,u){return i.compose(n(u))},r)}},t.fromNullableProp=function(){return function(n){return new t(function(e){return yr(e[n])},function(e){return function(r){return r[n]==null?r:nv(r,n,e)}})}},t.fromOptionProp=function(){var n=xc.fromProp();return function(e){return n(e).composePrism(rv)}},t.prototype.modify=function(n){return Pd(n)(this)},t.prototype.modifyOption=function(n){return Gc(n)(this)},t.prototype.asTraversal=function(){return qn(su(this))},t.prototype.asFold=function(){var n=this;return new nr(function(e){return function(r){return function(i){var u=n.getOption(i);return Et(u)?e.empty:r(u.value)}}})},t.prototype.asSetter=function(){var n=this;return new wi(function(e){return n.modify(e)})},t.prototype.compose=function(n){return Jn(cn(n)(this))},t.prototype.composeOptional=function(n){return this.compose(n)},t.prototype.composeTraversal=function(n){return qn(ot(this,su,en(n)))},t.prototype.composeFold=function(n){return this.asFold().compose(n)},t.prototype.composeSetter=function(n){return this.asSetter().compose(n)},t.prototype.composeLens=function(n){return Jn(ot(this,cn(ot(n,xe))))},t.prototype.composePrism=function(n){return Jn(ot(this,cn(ot(n,tr))))},t.prototype.composeIso=function(n){return Jn(ot(this,cn(ot(n,Qe))))},t.prototype.composeGetter=function(n){return this.asFold().compose(n.asFold())},t}(),uv=function(){function t(n){this.modifyF=n,this._tag="Traversal"}return t.prototype.modify=function(n){return Xc(n)(this)},t.prototype.set=function(n){return Xd(n)(this)},t.prototype.filter=function(n){return qn(Yd(n)(this))},t.prototype.asFold=function(){var n=this;return new nr(function(e){return function(r){return n.modifyF(pd(e))(function(i){return ja(r(i))})}})},t.prototype.asSetter=function(){var n=this;return new wi(function(e){return n.modify(e)})},t.prototype.compose=function(n){return qn(en(n)(this))},t.prototype.composeTraversal=function(n){return this.compose(n)},t.prototype.composeFold=function(n){return this.asFold().compose(n)},t.prototype.composeSetter=function(n){return this.asSetter().compose(n)},t.prototype.composeOptional=function(n){return this.compose(n.asTraversal())},t.prototype.composeLens=function(n){return qn(ot(this,en(ot(n,Ri))))},t.prototype.composePrism=function(n){return qn(ot(this,en(ot(n,Ai))))},t.prototype.composeIso=function(n){return qn(ot(this,en(ot(n,Si))))},t.prototype.composeGetter=function(n){return this.asFold().compose(n.asFold())},t}(),av=function(){function t(n){this.at=n,this._tag="At"}return t.prototype.fromIso=function(n){return zR(Md(n)(this))},t}(),ov=function(){function t(n){this.index=n,this._tag="Index"}return t.fromAt=function(n){return tv(Od(n))},t.prototype.fromIso=function(n){return tv($d(n)(this))},t}(),tl=function(){function t(n){this.get=n,this._tag="Getter"}return t.prototype.asFold=function(){var n=this;return new nr(function(){return function(e){return function(r){return e(n.get(r))}}})},t.prototype.compose=function(n){var e=this;return new t(function(r){return n.get(e.get(r))})},t.prototype.composeGetter=function(n){return this.compose(n)},t.prototype.composeFold=function(n){return this.asFold().compose(n)},t.prototype.composeLens=function(n){return this.compose(n.asGetter())},t.prototype.composeIso=function(n){return this.compose(n.asGetter())},t.prototype.composeTraversal=function(n){return this.asFold().compose(n.asFold())},t.prototype.composeOptional=function(n){return this.asFold().compose(n.asFold())},t.prototype.composePrism=function(n){return this.asFold().compose(n.asFold())},t}(),nr=function(){function t(n){this.foldMap=n,this._tag="Fold",this.getAll=n(js())(Ge),this.exist=n(uS),this.all=n(iS),this.foldMapFirst=n(Yh())}return t.prototype.compose=function(n){var e=this;return new t(function(r){return function(i){return e.foldMap(r)(n.foldMap(r)(i))}})},t.prototype.composeFold=function(n){return this.compose(n)},t.prototype.composeGetter=function(n){return this.compose(n.asFold())},t.prototype.composeTraversal=function(n){return this.compose(n.asFold())},t.prototype.composeOptional=function(n){return this.compose(n.asFold())},t.prototype.composeLens=function(n){return this.compose(n.asFold())},t.prototype.composePrism=function(n){return this.compose(n.asFold())},t.prototype.composeIso=function(n){return this.compose(n.asFold())},t.prototype.find=function(n){return this.foldMapFirst(la(n))},t.prototype.headOption=function(n){return this.find(function(){return!0})(n)},t}(),wi=function(){function t(n){this.modify=n,this._tag="Setter"}return t.prototype.set=function(n){return this.modify(pe(n))},t.prototype.compose=function(n){var e=this;return new t(function(r){return e.modify(n.modify(r))})},t.prototype.composeSetter=function(n){return this.compose(n)},t.prototype.composeTraversal=function(n){return this.compose(n.asSetter())},t.prototype.composeOptional=function(n){return this.compose(n.asSetter())},t.prototype.composeLens=function(n){return this.compose(n.asSetter())},t.prototype.composePrism=function(n){return this.compose(n.asSetter())},t.prototype.composeIso=function(n){return this.compose(n.asSetter())},t}();function PR(t){var n=Jd(t);return function(){return qn(n())}}function jR(t){return function(){return new nr(function(n){var e=t.foldMap(n);return function(r){return function(i){return e(i,r)}}})}}var TR=Object.freeze({__proto__:null,At:av,Fold:nr,Getter:tl,Index:ov,Iso:ev,Lens:xc,Optional:iv,Prism:eo,Setter:wi,Traversal:uv,at:SS,fromFoldable:jR,fromTraversable:PR,index:QS,iso:VS,lens:kd,optional:KM,prism:pR,traversal:kR});function Ae(t){return new eo(function(n){return t(n)?Tt(n):zt},Ht)}var Ei={},Cn={},qR=_o(TR);Object.defineProperty(Cn,"__esModule",{value:!0});var nl=yt,cv=kn,lv=qR;Cn.getEq=function(t){return t},Cn.getOrd=function(t){return t},Cn.getSemigroup=function(t){return t},Cn.getMonoid=function(t){return t},Cn.getSemiring=function(t){return t},Cn.getRing=function(t){return t},Cn.getField=function(t){return t};var DR=new lv.Iso(nl.unsafeCoerce,nl.unsafeCoerce);function KR(){return DR}Cn.iso=KR;function VR(t){return new lv.Prism(function(n){return t(n)?cv.some(n):cv.none},nl.identity)}Cn.prism=VR,function(t){Object.defineProperty(t,"__esModule",{value:!0});var n=Cn;t.isInteger=function(e){return Number.isInteger(e)},t.prismInteger=n.prism(t.isInteger)}(Ei);const GR=t=>n=>{if(Et(n))throw typeof t=="function"?t():new Error(t||"panic! getFromOption: None");return n.value},zn=t=>n=>e=>Q(e,t.getOption,GR(typeof n=="string"?n:n?n(e):`Invalid cast, value not in prism: ${e}`)),fv=Ei.prismInteger.compose(Ae(Y(Ei.prismInteger.reverseGet,()=>!0))),HR=zn(fv)(t=>`Invalid cast, prismSeed: ${t}`);var ne={},pn={},Be={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var n=Cn;t.isNonNegative=function(e){return e>=0},t.prismNonNegative=n.prism(t.isNonNegative)})(Be),function(t){Object.defineProperty(t,"__esModule",{value:!0});var n=Cn,e=Ei,r=Be;t.isNonNegativeInteger=function(i){return r.isNonNegative(i)&&e.isInteger(i)},t.prismNonNegativeInteger=n.prism(t.isNonNegativeInteger)}(pn);var el={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var n=Cn;t.isNonZero=function(e){return e!==0},t.prismNonZero=n.prism(t.isNonZero)})(el),function(t){Object.defineProperty(t,"__esModule",{value:!0});var n=Cn,e=pn,r=el;t.isPositiveInteger=function(i){return r.isNonZero(i)&&e.isNonNegativeInteger(i)},t.prismPositiveInteger=n.prism(t.isPositiveInteger)}(ne);const vu=zn(ne.prismPositiveInteger)(t=>`Invalid cast, integer not positive: ${t}`),we=zn(pn.prismNonNegativeInteger)(t=>`Invalid cast, integer is negative or invalid: ${t}`);var JR=function(t){return function(n){var e={};for(var r in n)Au.call(n,r)&&(e[r]=t[r](n[r]));return e}},sv=function(t){return function(n){return[t(n),n]}},ZR=function(t,n){return Q(t,ke(n))},XR=function(t,n){return Q(t,YR(n))},ke=function(t){return function(n){return function(e){var r=n(e),i=r[0],u=r[1];return[t(i),u]}}},YR=function(t){return function(n){return function(e){var r=n(e),i=r[0],u=r[1],a=t(u),o=a[0],c=a[1];return[i(o),c]}}},Or=function(t){return function(n){return[t,n]}},QR="State",hv={URI:QR,map:ZR,ap:XR,of:Or},xR=function(t){return function(n){return function(e){for(var r=t(0,wo(n))(e),i=r[0],u=r[1],a=[i],o=u,c=1;c<n.length;c++){var l=t(c,n[c])(o),f=l[0],h=l[1];a.push(f),o=h}return[a,o]}}},tA=function(t){var n=xR(t);return function(e){return Ao(e)?n(e):Or(Eo)}},nA=function(t){return tA(function(n,e){return t(e)})},eA=nA(Ht),rA=function(){return Ht},iA=Ht,uA=function(t){return function(n){return function(e){return n(t(e))}}},dv=function(t){return function(n){return function(e){return t(n(e))}}};const aA=ca(t=>t>1),oA=Y(Be.prismNonNegative.reverseGet,aA),ee=Q(Ae,oe(oA),Be.prismNonNegative.compose.bind(Be.prismNonNegative)),ro=zn(ee)(t=>`Invalid cast, prismDecimal01 is not in range 0-1: ${t}`),er=ee.compose(Ae(Y(ee.reverseGet,t=>t<1))),io=zn(er)(t=>`Invalid cast, prismRandom01 is not in range 0-1: ${t}`),vv=Y(er.reverseGet,ro),mv=Y(ee.reverseGet,io);var uo=Symbol("@ts-pattern/matcher"),pv="@ts-pattern/anonymous-select-key",gv=function(t){return!!(t&&typeof t=="object")},rl=function(t){return t&&!!t[uo]},cA=function t(n,e,r){if(gv(n)){if(rl(n)){var i=n[uo]().match(e),u=i.matched,a=i.selections;return u&&a&&Object.keys(a).forEach(function(c){return r(c,a[c])}),u}if(!gv(e))return!1;if(Array.isArray(n))return!!Array.isArray(e)&&n.length===e.length&&n.every(function(c,l){return t(c,e[l],r)});if(n instanceof Map)return e instanceof Map&&Array.from(n.keys()).every(function(c){return t(n.get(c),e.get(c),r)});if(n instanceof Set){if(!(e instanceof Set))return!1;if(n.size===0)return e.size===0;if(n.size===1){var o=Array.from(n.values())[0];return rl(o)?Array.from(e.values()).every(function(c){return t(o,c,r)}):e.has(o)}return Array.from(n.values()).every(function(c){return e.has(c)})}return Object.keys(n).every(function(c){var l,f=n[c];return(c in e||rl(l=f)&&l[uo]().matcherType==="optional")&&t(f,e[c],r)})}return Object.is(e,n)};function $r(t){var n;return(n={})[uo]=function(){return{match:function(e){return{matched:!!t(e)}}}},n}$r(function(t){return!0}),$r(function(t){return typeof t=="string"}),$r(function(t){return typeof t=="number"}),$r(function(t){return typeof t=="boolean"}),$r(function(t){return typeof t=="bigint"}),$r(function(t){return typeof t=="symbol"}),$r(function(t){return t==null});function yv(t){return new lA(t,[])}var lA=function(){function t(e,r){this.value=void 0,this.cases=void 0,this.value=e,this.cases=r}var n=t.prototype;return n.with=function(){var e=[].slice.call(arguments),r=e[e.length-1],i=[e[0]],u=[];return e.length===3&&typeof e[1]=="function"?(i.push(e[0]),u.push(e[1])):e.length>2&&i.push.apply(i,e.slice(1,e.length-1)),new t(this.value,this.cases.concat([{match:function(a){var o={},c=!!(i.some(function(l){return cA(l,a,function(f,h){o[f]=h})})&&u.every(function(l){return l(a)}));return{matched:c,value:c&&Object.keys(o).length?pv in o?o[pv]:o:a}},handler:r}]))},n.when=function(e,r){return new t(this.value,this.cases.concat([{match:function(i){return{matched:!!e(i),value:i}},handler:r}]))},n.otherwise=function(e){return new t(this.value,this.cases.concat([{match:function(r){return{matched:!0,value:r}},handler:e}])).run()},n.exhaustive=function(){return this.run()},n.run=function(){for(var e=this.value,r=void 0,i=0;i<this.cases.length;i++){var u=this.cases[i],a=u.match(this.value);if(a.matched){e=a.value,r=u.handler;break}}if(!r){var o;try{o=JSON.stringify(this.value)}catch{o=this.value}throw new Error("Pattern matching error: no pattern matches value "+o)}return r(e,this.value)},t}();const ao=Be.prismNonNegative,oo=zn(ao)(t=>`Invalid cast, prismDecimal0n is not in range 0+: ${t}`),Dn=pn.prismNonNegativeInteger.compose(Ae(Fi)),ze=zn(Dn)(t=>`Invalid cast, list length: ${t}`),Zn=pn.prismNonNegativeInteger.compose(Ae(Fi)),Pe=zn(Zn)(t=>`Invalid cast, index: ${t}`);var _v={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var n=Cn,e=Be,r=el;t.isPositive=function(i){return r.isNonZero(i)&&e.isNonNegative(i)},t.prismPositive=n.prism(t.isPositive)})(_v);const Iv=_v.prismPositive,bv=zn(Iv)(t=>`Invalid cast, prismDecimal1n is not in range 1+: ${t}`),fA=(t=>n=>{const e=ne.prismPositiveInteger.reverseGet(t),r=ee.reverseGet(n),i=1/e;return we(Math.floor(r/i))})(vu(13));function sA(t){return t[0]}var hA=sA;function Sv(t,n){for(var e=[],r=0;r!=n;++r)e.push(t.unsafeNext());return e}function dA(t,n){var e=t.clone(),r=Sv(e,n);return[r,e]}function Mv(t,n){for(var e=0;e!=n;++e)t.unsafeNext()}function vA(t,n){var e=t.clone();return Mv(e,n),e}var mA=214013,pA=2531011,gA=4294967295,yA=(1<<31)-1,il=function(t){return t*mA+pA&gA},ul=function(t){return(t&yA)>>16},Rv=function(){function t(n){this.seed=n}return t.prototype.clone=function(){return new t(this.seed)},t.prototype.next=function(){var n=new t(this.seed),e=n.unsafeNext();return[e,n]},t.prototype.unsafeNext=function(){var n=il(this.seed),e=ul(n),r=il(n),i=ul(r);this.seed=il(r);var u=ul(this.seed),a=u+(i+(e<<15)<<15);return a|0},t.prototype.getState=function(){return[this.seed]},t}();function _A(t){var n=t.length===1;if(!n)throw new Error("The state must have been produced by a congruential32 RandomGenerator");return new Rv(t[0])}var IA=Object.assign(function(t){return new Rv(t)},{fromState:_A}),bA=function(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),i,u=[],a;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)u.push(i.value)}catch(o){a={error:o}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return u},SA=function(t,n,e){if(e||arguments.length===2)for(var r=0,i=n.length,u;r<i;r++)(u||!(r in n))&&(u||(u=Array.prototype.slice.call(n,0,r)),u[r]=n[r]);return t.concat(u||Array.prototype.slice.call(n))},Av=function(){function t(n,e){this.states=n,this.index=e}return t.twist=function(n){for(var e=n.slice(),r=0;r!==t.N-t.M;++r){var i=(e[r]&t.MASK_UPPER)+(e[r+1]&t.MASK_LOWER);e[r]=e[r+t.M]^i>>>1^-(i&1)&t.A}for(var r=t.N-t.M;r!==t.N-1;++r){var u=(e[r]&t.MASK_UPPER)+(e[r+1]&t.MASK_LOWER);e[r]=e[r+t.M-t.N]^u>>>1^-(u&1)&t.A}var a=(e[t.N-1]&t.MASK_UPPER)+(e[0]&t.MASK_LOWER);return e[t.N-1]=e[t.M-1]^a>>>1^-(a&1)&t.A,e},t.seeded=function(n){var e=Array(t.N);e[0]=n;for(var r=1;r!==t.N;++r){var i=e[r-1]^e[r-1]>>>30;e[r]=Math.imul(t.F,i)+r|0}return e},t.from=function(n){return new t(t.twist(t.seeded(n)),0)},t.prototype.clone=function(){return new t(this.states,this.index)},t.prototype.next=function(){var n=new t(this.states,this.index),e=n.unsafeNext();return[e,n]},t.prototype.unsafeNext=function(){var n=this.states[this.index];return n^=this.states[this.index]>>>t.U,n^=n<<t.S&t.B,n^=n<<t.T&t.C,n^=n>>>t.L,++this.index>=t.N&&(this.states=t.twist(this.states),this.index=0),n},t.prototype.getState=function(){return SA([this.index],bA(this.states),!1)},t.fromState=function(n){var e=n.length===t.N+1&&n[0]>=0&&n[0]<t.N;if(!e)throw new Error("The state must have been produced by a mersenne RandomGenerator");return new t(n.slice(1),n[0])},t.N=624,t.M=397,t.R=31,t.A=2567483615,t.F=1812433253,t.U=11,t.S=7,t.B=2636928640,t.T=15,t.C=4022730752,t.L=18,t.MASK_LOWER=Math.pow(2,t.R)-1,t.MASK_UPPER=Math.pow(2,t.R),t}();function MA(t){return Av.fromState(t)}var RA=Object.assign(function(t){return Av.from(t)},{fromState:MA}),wv=function(){function t(n,e,r,i){this.s01=n,this.s00=e,this.s11=r,this.s10=i}return t.prototype.clone=function(){return new t(this.s01,this.s00,this.s11,this.s10)},t.prototype.next=function(){var n=new t(this.s01,this.s00,this.s11,this.s10),e=n.unsafeNext();return[e,n]},t.prototype.unsafeNext=function(){var n=this.s00^this.s00<<23,e=this.s01^(this.s01<<23|this.s00>>>9),r=n^this.s10^(n>>>18|e<<14)^(this.s10>>>5|this.s11<<27),i=e^this.s11^e>>>18^this.s11>>>5,u=this.s00+this.s10|0;return this.s01=this.s11,this.s00=this.s10,this.s11=i,this.s10=r,u},t.prototype.jump=function(){var n=new t(this.s01,this.s00,this.s11,this.s10);return n.unsafeJump(),n},t.prototype.unsafeJump=function(){for(var n=0,e=0,r=0,i=0,u=[1667051007,2321340297,1548169110,304075285],a=0;a!==4;++a)for(var o=1;o;o<<=1)u[a]&o&&(n^=this.s01,e^=this.s00,r^=this.s11,i^=this.s10),this.unsafeNext();this.s01=n,this.s00=e,this.s11=r,this.s10=i},t.prototype.getState=function(){return[this.s01,this.s00,this.s11,this.s10]},t}();function AA(t){var n=t.length===4;if(!n)throw new Error("The state must have been produced by a xorshift128plus RandomGenerator");return new wv(t[0],t[1],t[2],t[3])}var wA=Object.assign(function(t){return new wv(-1,~t,t|0,0)},{fromState:AA}),Ev=function(){function t(n,e,r,i){this.s01=n,this.s00=e,this.s11=r,this.s10=i}return t.prototype.clone=function(){return new t(this.s01,this.s00,this.s11,this.s10)},t.prototype.next=function(){var n=new t(this.s01,this.s00,this.s11,this.s10),e=n.unsafeNext();return[e,n]},t.prototype.unsafeNext=function(){var n=this.s00+this.s10|0,e=this.s10^this.s00,r=this.s11^this.s01,i=this.s00,u=this.s01;return this.s00=i<<24^u>>>8^e^e<<16,this.s01=u<<24^i>>>8^r^(r<<16|e>>>16),this.s10=r<<5^e>>>27,this.s11=e<<5^r>>>27,n},t.prototype.jump=function(){var n=new t(this.s01,this.s00,this.s11,this.s10);return n.unsafeJump(),n},t.prototype.unsafeJump=function(){for(var n=0,e=0,r=0,i=0,u=[3639956645,3750757012,1261568508,386426335],a=0;a!==4;++a)for(var o=1;o;o<<=1)u[a]&o&&(n^=this.s01,e^=this.s00,r^=this.s11,i^=this.s10),this.unsafeNext();this.s01=n,this.s00=e,this.s11=r,this.s10=i},t.prototype.getState=function(){return[this.s01,this.s00,this.s11,this.s10]},t}();function EA(t){var n=t.length===4;if(!n)throw new Error("The state must have been produced by a xoroshiro128plus RandomGenerator");return new Ev(t[0],t[1],t[2],t[3])}var WA=Object.assign(function(t){return new Ev(-1,~t,t|0,0)},{fromState:EA});function Wv(t,n){if(t.sign!==n.sign)return al(t,{sign:-n.sign,data:n.data});for(var e=[],r=0,i=t.data,u=n.data,a=i.length-1,o=u.length-1;a>=0||o>=0;--a,--o){var c=a>=0?i[a]:0,l=o>=0?u[o]:0,f=c+l+r;e.push(f>>>0),r=~~(f/4294967296)}return r!==0&&e.push(r),{sign:t.sign,data:e.reverse()}}function OA(t){t.sign=1;for(var n=t.data,e=n.length-1;e>=0;--e)if(n[e]===4294967295)n[e]=0;else return n[e]+=1,t;return n.unshift(1),t}function $A(t,n){for(var e=Math.max(t.length,n.length),r=0;r<e;++r){var i=r+t.length-e,u=r+n.length-e,a=i>=0?t[i]:0,o=u>=0?n[u]:0;if(a<o)return!0;if(a>o)return!1}return!1}function al(t,n){if(t.sign!==n.sign)return Wv(t,{sign:-n.sign,data:n.data});var e=t.data,r=n.data;if($A(e,r)){var i=al(n,t);return i.sign=-i.sign,i}for(var u=[],a=0,o=e.length-1,c=r.length-1;o>=0||c>=0;--o,--c){var l=o>=0?e[o]:0,f=c>=0?r[c]:0,h=l-f-a;u.push(h>>>0),a=h<0?1:0}return{sign:t.sign,data:u.reverse()}}function Ov(t){for(var n=t.data,e=0;e!==n.length&&n[e]===0;++e);return e===n.length?(t.sign=1,t.data=[0],t):(n.splice(0,e),t)}function ol(t,n){if(n<0){var e=-n;t.sign=-1,t.data[0]=~~(e/4294967296),t.data[1]=e>>>0}else t.sign=1,t.data[0]=~~(n/4294967296),t.data[1]=n>>>0;return t}function NA(t,n,e){var r=n.data[1],i=n.data[0],u=n.sign,a=e.data[1],o=e.data[0],c=e.sign;if(t.sign=1,u===1&&c===-1){var l=r+a,f=i+o+(l>4294967295?1:0);return t.data[0]=f>>>0,t.data[1]=l>>>0,t}var h=r,g=i,I=a,A=o;u===-1&&(h=a,g=o,I=r,A=i);var _=0,M=h-I;return M<0&&(_=1,M=M>>>0),t.data[0]=g-A-_,t.data[1]=M,t}function $v(t,n){for(var e=t>2?~~(4294967296/t)*t:4294967296,r=n.unsafeNext()+2147483648;r>=e;)r=n.unsafeNext()+2147483648;return r%t}function Nv(t,n,e){for(var r=n.length;;){for(var i=0;i!==r;++i){var u=i===0?n[0]+1:4294967296,a=$v(u,e);t[i]=a}for(var i=0;i!==r;++i){var o=t[i],c=n[i];if(o<c)return t;if(o>c)break}}}function cl(t,n,e){var r=Ov(OA(al(n,t))),i=r.data.slice(0),u=Nv(i,r.data,e);return Ov(Wv({sign:1,data:u},t))}function CA(t,n,e){if(e!=null){var r=e.clone();return[cl(t,n,r),r]}return function(i){var u=i.clone();return[cl(t,n,u),u]}}var mu=typeof BigInt<"u"?BigInt:void 0;function ll(t,n,e){for(var r=n-t+mu(1),i=mu(-2147483648),u=mu(4294967296),a=u,o=1;a<r;)a*=u,++o;for(var c=a-a%r;;){for(var l=mu(0),f=0;f!==o;++f){var h=e.unsafeNext();l=u*l+(mu(h)-i)}if(l<c){var g=l%r;return g+t}}}function LA(t,n,e){if(e!=null){var r=e.clone();return[ll(t,n,r),r]}return function(i){var u=i.clone();return[ll(t,n,u),u]}}var FA=Number.MAX_SAFE_INTEGER,UA={sign:1,data:[0,0]},BA={sign:1,data:[0,0]},Cv={sign:1,data:[0,0]},fl=[0,0];function kA(t,n,e,r){var i=e<=FA?ol(Cv,e):NA(Cv,ol(UA,n),ol(BA,t));return i.data[1]===4294967295?(i.data[0]+=1,i.data[1]=0):i.data[1]+=1,Nv(fl,i.data,r),fl[0]*4294967296+fl[1]+t}function sl(t,n,e){var r=n-t;if(r<=4294967295){var i=$v(r+1,e);return i+t}return kA(t,n,r,e)}function zA(t,n,e){if(e!=null){var r=e.clone();return[sl(t,n,r),r]}return function(i){var u=i.clone();return[sl(t,n,u),u]}}var PA="module",jA="6.1.0",TA="a413dd2b721516be2ef29adffb515c5ae67bfbad",Lv=Object.freeze({__proto__:null,__commitHash:TA,__type:PA,__version:jA,congruential32:IA,generateN:dA,mersenne:RA,skipN:vA,uniformArrayIntDistribution:CA,uniformBigIntDistribution:LA,uniformIntDistribution:zA,unsafeGenerateN:Sv,unsafeSkipN:Mv,unsafeUniformArrayIntDistribution:cl,unsafeUniformBigIntDistribution:ll,unsafeUniformIntDistribution:sl,xoroshiro128plus:WA,xorshift128plus:wA});function qA(t){return t==null}var DA=qA,KA=Am(DA);const co=(t,n)=>{if(VA(t))throw new Error(n||"Expected value to be defined");return t},VA=t=>!GA(t),GA=t=>!KA(t),HA=t=>(Ei.prismInteger.reverseGet(t)>>>0)/4294967296,JA=zn(Ei.prismInteger)(t=>`Invalid cast, prismInteger is not in range: ${t}`),hl=Y(sv(t=>Lv.xoroshiro128plus.fromState(t)),hA,t=>{const[n,e]=t.next();return[io(HA(JA(n))),co(e.getState,"xoroshiro supposed to have getState()").bind(e)()]}),Fv=Y(t=>n=>t(...n),t=>n=>e=>t([n,e]));rS(eS());const dl=ee.compose(Ae(Y(ee.reverseGet,t=>t!==.5))),ZA=zn(dl)(t=>`Invalid cast, prismTornDecimal01 can't have 0.5 value: ${t}`),Uv=1-Number.EPSILON,XA=t=>n=>e=>{const r=dl.reverseGet(t),i=r<.5?"disadvantage":r>.5?"advantage":(()=>{throw new Error(`panic! unreachable K ${r}`)})(),u=l=>(f,h)=>io(l(er.reverseGet(f),er.reverseGet(h))),[a,o]=Q(yv(i).with("advantage",pe([Math.max,0])).with("disadvantage",pe([Math.min,Uv])).exhaustive(),([l,f])=>[u(l),io(f)]),c=fA(ro(Math.abs(dl.reverseGet(t)-.5)*2));return Q(c,pn.prismNonNegativeInteger.reverseGet,l=>Array.from({length:l}),Jg(()=>e),Ug(Or(mv(n))),eA,ke(Yf(o,a)))},YA={concat:(t,n)=>vu(ne.prismPositiveInteger.reverseGet(t)+ne.prismPositiveInteger.reverseGet(n))},QA=(t,n)=>we(pn.prismNonNegativeInteger.reverseGet(t)+pn.prismNonNegativeInteger.reverseGet(n)),xA=t=>we(ne.prismPositiveInteger.reverseGet(t)),tw={equals:(t,n)=>pn.prismNonNegativeInteger.reverseGet(t)===pn.prismNonNegativeInteger.reverseGet(n)},nw={equals:(t,n)=>ne.prismPositiveInteger.reverseGet(t)===ne.prismPositiveInteger.reverseGet(n)},ew=(t,n,e)=>{if(Q(tw.equals,Fv,oe(xA(t)),ca,oe(QA(n,e))))throw new Error(`panic! denormalizedProbabilitiesTotal_ !== sumOfDegrees_ + totalNodesFairnessModificator: ${ne.prismPositiveInteger.reverseGet(t)} !== ${pn.prismNonNegativeInteger.reverseGet(n)} + ${e}`)},rw=(t=oo(1))=>({totalNodes:n,getDegree:e,totalEdges:r})=>i=>u=>{const a=we(1),o=pn.prismNonNegativeInteger.reverseGet(a),c=ne.prismPositiveInteger.reverseGet(n),l=we(c*o);pn.prismNonNegativeInteger.reverseGet(r);const f=Q(jf(0,pn.prismNonNegativeInteger.reverseGet(we(c-1))),Ag(Y(Pe,e,pn.prismNonNegativeInteger.reverseGet,V=>V+o,vu))),h=vu(f.length),g=Q(f,Wg(YA)),I=ne.prismPositiveInteger.reverseGet(g);if(ew(g,r,l),Q(nw.equals,Fv,oe(h),ca,oe(n)))throw new Error(`panic! denormalizedProbabilities.length !== totalNodes_: ${f.length} !== ${c}`);const[A,_]=i(u),M=er.reverseGet(A),E=bv(M*I+1),O=bv(Iv.reverseGet(E)**ao.reverseGet(t));let B=oo(0);for(let V=0;V<c;V++)if(B=oo(ao.reverseGet(B)+Math.pow(ne.prismPositiveInteger.reverseGet(f[V]),Be.prismNonNegative.reverseGet(t))),Be.prismNonNegative.reverseGet(O)<=ao.reverseGet(B))return[Pe(V),_];return[Pe(c-1),_]},iw=t=>n=>e=>{const r=ee.reverseGet(t),i=ee.reverseGet(n),u=Q(r===0?0:r===1?Uv:r===.5?i:null,yr,$e(ro));return Q(u,Gn(()=>Q(XA(ZA(r))(n)(e),ke(vv)),Or))},uw=t=>n=>iw(t)(n)(hl),aw=(t,n)=>{for(const e of n)t.addEdge(e[0],e[1])},ow=(t,n)=>{for(const e of n)t.addEdge(e[1],e[0]);return t};class lo{constructor(n){this.adjacency=[],this.indegree=[],this.numE=0,this.numV=0,n&&aw(this,n)}numEdges(){return this.numE}numVertices(){return this.numV}*vertices(){const{adjacency:n}=this;for(let e=0,r=n.length;e<r;e++)n[e]&&(yield e)}*edges(){const{adjacency:n}=this;for(let e=0,r=n.length;e<r;e++){const i=n[e];if(i)for(const u of i)yield[e,u]}}addVertex(n){this.ensureVertexData(n)}addEdge(n,e){const r=this.ensureVertexData(n);return this.ensureVertexData(e),r.push(e),this.indegree[e]++,this.numE++,!0}removeEdge(n,e){const r=this.adjacency[n];if(r){const i=r.indexOf(e);if(i>=0)return r.splice(i,1),this.numE--,this.indegree[e]--,!0}return!1}hasEdge(n,e){const r=this.adjacency[n];return r?r.includes(e):!1}degree(n,e="out"){let r=0;const i=this.adjacency[n];return i&&(e!=="in"&&(r+=i.length),e!=="out"&&(r+=this.indegree[n])),r}neighbors(n){return[...this.adjacency[n]||[]]}invert(){return ow(new lo,this.edges())}toString(){const{adjacency:n}=this,e=[];for(let r=0,i=n.length;r<i;r++)n[r]&&e.push(`${r}: [${[...n[r]].sort((u,a)=>u-a).join(", ")}]`);return e.join(`
`)}ensureVertexData(n){const e=this.adjacency[n];return e||(this.numV++,this.indegree[n]=0,this.adjacency[n]=[])}}const vl=ee.compose(Ae(Fi)),cw=zn(vl)(t=>`Invalid cast, heterogeneity is not in range 0-1: ${t}`),Bv=ee.compose(Ae(Fi)),lw=zn(Bv)(t=>`Invalid cast, density is not in range 0-1: ${t}`),fw=t=>oo(2*vl.reverseGet(t)),sw=t=>([n,e])=>([r,i])=>{if(n===e)throw new Error("Invalid input range: the lower and upper bounds of the input range must be different.");return(t-n)*(i-r)/(e-n)+r};we(0);const hw=t=>n=>{const e=pn.prismNonNegativeInteger.reverseGet(t);return n.length<=e?zt:Tt(n[e])},dw=(t,n)=>(e,r)=>{const i=pn.prismNonNegativeInteger.reverseGet(t),u=hw(t)(e);if(Et(u))throw new Error(r||n||`getIth expects ${i} elements, got ${e.length}`);return e[i]},vw=(t,n)=>e=>r=>dw(t,n)(r,e),kv=(t,n)=>mw(n)(t),mw=t=>n=>{if(n.length===0)throw new Error(t||"castNonEmptyArray expects non-empty array");return n},pw="barabasi-albert",gw="dnd",yw={},_w={heterogeneity:cw(.3),density:lw(.5),nodes:ze(30),branchingModel:pw},zv=ee.compose(Ae(Fi)),Iw=zn(zv)(t=>`Invalid cast, gravity is not in range 0-1: ${t}`),bw=Y(zv.reverseGet,ro),Sw=t=>Iw(vl.reverseGet(t)),Mw=Y(bw,uw,t=>n=>e=>{const[r,i]=n(e);return Q(t(vv(r)),ke(mv),oe(i))}),Rw=Q(Y(iA(t=>Q(Mw,dv(dv(ke(t)))))),uA(Y(Dn.reverseGet,t=>n=>Pe(Math.floor(er.reverseGet(n)*t))))),Pv=Y(Dn.reverseGet,t=>Math.pow(t+1,2)-3*(t+1)+2,ze),Aw=t=>{const{heterogeneity:n,density:e,nodes:r,branchingModel:i}=Q(t,JR({heterogeneity:f=>f,density:Bv.reverseGet,nodes:Dn.reverseGet,branchingModel:f=>f})),u=Math.max(4e3,r-1),a=Math.min(u,Q(t.nodes,Pv,Dn.reverseGet)),o=Q(Math.max(0,Q(e,sw,oe([0,1]),oe([r-1,a]))),Math.ceil,ze),c=fw(n),l=i===gw?Y(f=>f.numVertices(),ze,Rw,oe(Sw(n))):Y(f=>({totalEdges:we(f.numEdges()),totalNodes:vu(f.numVertices()),getDegree:Y(Zn.reverseGet,f.degree.bind(f),we)}),rw(c));return{edgeCount:o,nodeCount:t.nodes,gravitate:l}},ww=t=>n=>Pe(Math.floor(er.reverseGet(t)*Dn.reverseGet(n))),Ew=t=>n=>{const e=Zn.reverseGet(n);t.addVertex(e)},Ww=t=>(n,e)=>{const r=Zn.reverseGet(n),i=Zn.reverseGet(e);t.addEdge(r,i)},jv=t=>n=>Q([...n.vertices()],Uu(e=>la(()=>n.degree(e,t)<n.numVertices()-1)(Pe(e)))),Tv=t=>Y(ww,oe(ze(t.length)),Zn.reverseGet,we,n=>vw(n,`out of bounds of candidates.length: ${t.length}: ${n}`)()(t)),Ow=t=>n=>e=>r=>{const{nextVertexId:i,graph:u}=t,a=Zn.reverseGet(i),[o,c]=n(u)(e)(r),l=Pe(a),f=Zn.reverseGet(o),h=Zn.reverseGet(l);if(f===h)throw new Error("panic! assumption is i1 !== i2");return[Tt([{op:"addNode",id:l},{op:"addEdge",from:o,to:l}]),c]},$w=t=>n=>e=>{const r=kv(jv("in")(t),"incomingCandidates assumed to be non empty"),i=jv("out")(t),u=Tv(r),[a,o]=n(e),c=u(a),l=i.filter(A=>{const _=Zn.reverseGet(A),M=Zn.reverseGet(c);return _!==M&&!t.hasEdge(_,M)}),f=Tv(kv(l,"outgoingCandidates assumed to be non empty")),[h,g]=n(o),I=f(h);return[Tt([{op:"addEdge",from:I,to:c}]),g]},Nw=t=>n=>e=>r=>{const{graph:i,nextVertexId:u}=t,{targetNodeCount:a,targetEdgeCount:o}=n,c=ze(i.numVertices()),l=Dn.reverseGet(c),f=ze(i.numEdges()),h=Dn.reverseGet(f),g=Dn.reverseGet(a),I=Dn.reverseGet(o);return l===0&&g>0?Or(Tt([{op:"addNode",id:u}])):I===0||i.numEdges()===I?Or(zt):g>l?Ow(t)(e)(r):I>h?(()=>{const A=Pv(ze(i.numVertices()));if(i.numEdges()>=Dn.reverseGet(A))throw new Error(`panic! assumption is graph.numVertices < maxEdgesNow ${i.numVertices()} < ${Dn.reverseGet(A)}`);return $w(i)(r)})():Or(zt)},Cw=t=>n=>e=>Nw(t)(n)(e)(hl),Lw=t=>Q(t,n=>n||yw,n=>({..._w,...n}),Aw,({edgeCount:n,gravitate:e,nodeCount:r})=>{const i=n,u=Dn.reverseGet(n);return a=>function*(){let o=a;const c=new lo,l={graph:c,nextVertexId:Pe(0)},f=()=>ze(u-c.numEdges());for(;Dn.reverseGet(f())>=0;){const[h,g]=Cw(l)({targetNodeCount:r,targetEdgeCount:n})(e)(o);if(o=g,Et(h))return;const I=h.value;for(const A of I)switch(A.op){case"addNode":Ew(c)(A.id),l.nextVertexId=Pe(Zn.reverseGet(A.id)+1),yield[A,{edgesLeft:f(),totalEdges:i},o];break;case"addEdge":Ww(c)(A.from,A.to),yield[A,{edgesLeft:f(),totalEdges:i},o];break;default:Zl()}}throw new Error("unreachable")}}),qv=t=>{const n=Lv.xoroshiro128plus(fv.reverseGet(t));return co(n.getState,"getState expected on xoroshiro128plus").bind(n)()};let fo;const Fw=new Uint8Array(16);function Uw(){if(!fo&&(fo=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!fo))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return fo(Fw)}const An=[];for(let t=0;t<256;++t)An.push((t+256).toString(16).slice(1));function Bw(t,n=0){return(An[t[n+0]]+An[t[n+1]]+An[t[n+2]]+An[t[n+3]]+"-"+An[t[n+4]]+An[t[n+5]]+"-"+An[t[n+6]]+An[t[n+7]]+"-"+An[t[n+8]]+An[t[n+9]]+"-"+An[t[n+10]]+An[t[n+11]]+An[t[n+12]]+An[t[n+13]]+An[t[n+14]]+An[t[n+15]]).toLowerCase()}var Dv={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function kw(t,n,e){if(Dv.randomUUID&&!n&&!t)return Dv.randomUUID();t=t||{};const r=t.random||(t.rng||Uw)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,n){e=e||0;for(let i=0;i<16;++i)n[e+i]=r[i];return n}return Bw(r)}const Kv=pn.prismNonNegativeInteger.compose(Ae(Y(pn.prismNonNegativeInteger.reverseGet,t=>t>=0&&t<=255))),zw=zn(Kv)(t=>`Invalid cast, castRandom0255 is not in range 0-255: ${t}`),Pw=Q(hl,ke(Y(er.reverseGet,t=>Math.floor(t*256),zw))),jw=t=>Y(sv(({identityMap:n,rng:e})=>{const r=n[t];if(r)return[r,{identityMap:n,rng:e}];const[i,u]=Q(Array.from({length:16}),qi(()=>Pw),vr(hv),oe(e)),a=kw({random:i.map(Kv.reverseGet)});return[a,{identityMap:{...n,[t]:a},rng:u}]}),([[n,e],r])=>[n,{...r,...e}]);var Wi;(function(t){t.Skip=Symbol("Skip")})(Wi||(Wi={}));var so;(function(t){const n=tn("FLAT"),e=tn("SHALLOW"),r=tn("DEEP");function i(){return r}t.defaultComp=i;const u={isComparable(x){return typeof x=="number"},compare(x,X){return Number.isFinite(x)&&Number.isFinite(X)?x-X:Number.isNaN(x)?Number.isNaN(X)?0:X===Number.POSITIVE_INFINITY?1:(X===Number.NEGATIVE_INFINITY,-1):x===Number.POSITIVE_INFINITY?X===Number.POSITIVE_INFINITY?0:1:X===Number.NEGATIVE_INFINITY?0:-1}};function a(){return u}t.numberComp=a;const o={isComparable(x){return typeof x=="boolean"},compare(x,X){return x===X?0:x?1:-1}};function c(){return o}t.booleanComp=c;const l={isComparable(x){return typeof x=="bigint"},compare(x,X){const at=x-X;return at>0?1:at<0?-1:0}};function f(){return l}t.bigIntComp=f;const h=Intl.Collator("und"),g={isComparable(x){return typeof x=="string"},compare:h.compare},I={isComparable(x){return!0},compare(x,X){return h.compare(JSON.stringify(x),JSON.stringify(X))}};function A(){return I}t.anyStringJSONComp=A;function _(...x){if(x.length===0)return g;const X=Intl.Collator(...x);return{isComparable(at){return typeof at=="string"},compare:X.compare}}t.stringComp=_;function M(){return _("und",{sensitivity:"accent"})}t.stringCaseInsensitiveComp=M;const E={isComparable(x){return typeof x=="string"},compare(x,X){const at=Math.min(x.length,X.length);let St=-1;for(;++St<at;){const bt=x.charCodeAt(St)-X.charCodeAt(St);if(bt!==0)return bt}return x.length-X.length}};function O(){return E}t.stringCharCodeComp=O;const B={isComparable(x){return!0},compare(x,X){return h.compare(Kn.convertAnyToString(x),Kn.convertAnyToString(X))}};function V(){return B}t.anyToStringComp=V;function rt(x,X=hn()){return{isComparable(at){return at instanceof x},compare(at,St){return X.compare(at.valueOf(),St.valueOf())}}}t.createValueOfComp=rt;const J=rt(Date,u);function R(){return J}t.dateComp=R;function N(x){return{isComparable(X){return typeof X=="object"&&X!==null&&Symbol.iterator in X},compare(X,at){const St=X[Symbol.iterator](),bt=at[Symbol.iterator]();for(;;){const Ut=St.next(),nn=bt.next();if(Ut.done)return nn.done?0:-1;if(nn.done)return 1;const Dt=x.compare(Ut.value,nn.value);if(Dt!==0)return Dt}}}}const G=N(t.defaultComp());function T(x){return x===void 0?G:N(x)}t.iterableComp=T;const ut=rt(Boolean,o),pt=rt(Number,u),Ft=rt(String,g),Nt=[ut,J,pt,Ft];function ct(x,X){let at=-1;const St=Nt.length;for(;++at<St;){const bt=Nt[at];if(bt.isComparable(x)&&bt.isComparable(X))return bt.compare(x,X)}}function st(x=qt(),X=i()){return{isComparable(at){return!0},compare(at,St){const bt=Object.keys(at),Ut=Object.keys(St);if(bt.length===0)return Ut.length===0?0:-1;if(Ut.length===0)return bt.length===0?0:1;bt.sort(x.compare),Ut.sort(x.compare);const nn=Math.min(bt.length,Ut.length);for(let Ct=0;Ct<nn;Ct++){const Xt=bt[Ct],un=Ut[Ct],gn=x.compare(Xt,un);if(gn!==0)return gn;const tt=at[Xt],vt=St[un],it=X.compare(tt,vt);if(it!==0)return it}return bt.length-Ut.length}}}const ft=st();function It(x){return x===void 0?ft:st(x.keyComp,x.valueComp)}t.objectComp=It;function tn(x){return{isComparable(X){return!0},compare(X,at){if(Object.is(X,at))return 0;const St=typeof X;if(St!==typeof at)return B.compare(X,at);switch(St){case"bigint":return l.compare(X,at);case"boolean":return o.compare(X,at);case"number":return u.compare(X,at);case"string":return g.compare(X,at);case"object":{if(X===null)return at===null?0:-1;if(at===null)return 1;const Ut=ct(X,at);if(Ut!==void 0)return Ut;if(x!=="FLAT")return G.isComparable(X)&&G.isComparable(at)?x==="SHALLOW"?T(n).compare(X,at):T(this).compare(X,at):x==="SHALLOW"?st(n,n).compare(X,at):ft.compare(X,at)}}return B.compare(X,at)}}}function qt(){return n}t.anyFlatComp=qt;function hn(){return e}t.anyShallowComp=hn;function En(){return r}t.anyDeepComp=En;function Wn(x){return{isComparable(X){return X===void 0||x.isComparable(X)},compare(X,at){return X===void 0?at===void 0?0:-1:at===void 0?1:x.compare(X,at)}}}t.withUndefined=Wn;function Pn(x){return{isComparable(X){return X===null||x.isComparable(X)},compare(X,at){return X===null?at===null?0:-1:at===null?1:x.compare(X,at)}}}t.withNull=Pn;function jn(x){return{compare(X,at){return x.compare(at,X)},isComparable:x.isComparable}}t.invert=jn;function Fn(x){return(X,at)=>x.compare(X,at)===0}t.toEq=Fn})(so||(so={}));var Kn;(function(t){function n(ct){return typeof ct!="object"||ct===null||!("toString"in ct)||typeof ct.toString!="function"||ct.toString!==Object.prototype.toString?String(ct):JSON.stringify(ct)}t.convertAnyToString=n;const e=_("FLAT"),r=_("SHALLOW"),i=_("DEEP");function u(){return i}t.defaultEq=u,t.objectIs=Object.is;const a=(ct,st)=>Object.is(ct.valueOf(),st.valueOf());function o(){return a}t.valueOfEq=o;function c(){return a}t.dateEq=c;function l(ct){return(st,ft)=>{if(Object.is(st,ft))return!0;const It=st[Symbol.iterator](),tn=ft[Symbol.iterator]();for(;;){const qt=It.next(),hn=tn.next();if(qt.done||hn.done)return qt.done===hn.done;if(!ct(qt.value,hn.value))return!1}}}const f=l(u());function h(ct){return ct===void 0?f:l(ct)}t.iterableEq=h;function g(ct){return(st,ft)=>{if(Object.is(st,ft))return!0;if(st.constructor!==ft.constructor)return!1;for(const It in st)if(!(It in ft))return!1;for(const It in ft)if(!(It in st))return!1;for(const It in st){const tn=st[It],qt=ft[It];if(!ct(tn,qt))return!1}return!0}}const I=g(u());function A(ct){return ct===void 0?I:g(ct)}t.objectEq=A;function _(ct){const st=(ft,It)=>{if(Object.is(ft,It))return!0;const tn=typeof ft;if(tn!==typeof It)return!1;switch(tn){case"undefined":case"bigint":case"boolean":case"number":case"string":case"symbol":case"function":return Object.is(ft,It);case"object":return ft===null||It===null||ft.constructor!==It.constructor?!1:ft instanceof Boolean||ft instanceof Date||ft instanceof Number||ft instanceof String?a(ft,It):ct!=="FLAT"?Symbol.iterator in ft&&Symbol.iterator in It?ct==="SHALLOW"?l(e)(ft,It):l(st)(ft,It):ct==="SHALLOW"?g(e)(ft,It):I(ft,It):!1}};return st}function M(){return e}t.anyFlatEq=M;function E(){return r}t.anyShallowEq=E;function O(){return i}t.anyDeepEq=O;const B=Intl.Collator("und"),V=(ct,st)=>B.compare(ct,st)===0;function rt(...ct){if(ct.length===0)return V;const st=Intl.Collator(...ct);return(ft,It)=>st.compare(ft,It)===0}t.createStringCollatorEq=rt;const J=rt("und",{sensitivity:"accent"});function R(){return J}t.stringCaseInsentitiveEq=R;const N=(ct,st)=>{const ft=ct.length;if(ft!==st.length)return!1;let It=-1;for(;++It<ft;)if(ct.charCodeAt(It)!==st.charCodeAt(It))return!1;return!0};function G(){return N}t.stringCharCodeEq=G;const T=(ct,st)=>n(ct)===n(st);function ut(){return T}t.anyToStringEq=ut;const pt=(ct,st)=>JSON.stringify(ct)===JSON.stringify(st);function Ft(){return pt}t.anyJsonEq=Ft;function Nt(ct=u()){return(st,ft)=>ct(st[0],ft[0])&&ct(st[1],ft[1])||ct(st[0],ft[1])&&ct(st[1],ft[0])}t.tupleSymmetric=Nt})(Kn||(Kn={}));var Nr;(function(t){class n{constructor(u){this.message=u}get name(){return this.constructor.name}}t.CustomError=n;class e extends n{}t.ForcedError=e;function r(i){return function(){throw new t.ForcedError(i)}}t.msg=r})(Nr||(Nr={}));var de;(function(t){function n(r){var i;if(r.amount!==void 0){if(r.start===void 0)return[0,r.amount-1];if(Array.isArray(r.start)){const[o,c]=r.start;return c?[o,o+r.amount-1]:[o+1,o+1+r.amount-1]}return[r.start,r.start+r.amount-1]}let u=0,a;return"start"in r&&(Array.isArray(r.start)?r.start[1]?u=r.start[0]:u=r.start[0]+1:u=(i=r.start)!==null&&i!==void 0?i:0),"end"in r&&(Array.isArray(r.end)?r.end[1]?a=r.end[0]:a=r.end[0]-1:a=r.end),[u,a]}t.getIndexRangeIndices=n;function e(r,i){if(i<=0)return"empty";let u=0,a=i-1;if(r.start!==void 0){if(Array.isArray(r.start)?(u=r.start[0],r.start[1]||u++):u=r.start,u>=i||-u>i)return"empty";u<0&&(u=i+u)}if(r.amount!==void 0){if(r.amount<=0)return"empty";if(r.start===void 0)return r.amount>=i?"all":[0,Math.min(a,r.amount-1)];a=u+r.amount-1}else if(r.end!==void 0){if(Array.isArray(r.end)){if(a=r.end[0],!r.end[1]){if(a===0)return"empty";a--}}else a=r.end;a<0&&(a=i+a)}return a<u?"empty":(a=Math.min(i-1,a),u===0&&a===i-1?"all":[u,a])}t.getIndicesFor=e})(de||(de={}));function k(t){return t instanceof Function?t():t}function Cr(t,n){return t instanceof Function?t(n):t}var ml;(function(t){function n(e){let r,i;return"start"in e&&e.start!==void 0&&(Array.isArray(e.start)&&e.start.length===2&&typeof e.start[1]=="boolean"?r=e.start:r=[e.start,!0]),"end"in e&&e.end!==void 0&&(Array.isArray(e.end)&&e.end.length===2&&typeof e.end[1]=="boolean"?i=e.end:i=[e.end,!0]),{start:r,end:i}}t.getNormalizedRange=n})(ml||(ml={}));function ho(t){return t}var rr;(function(t){class n{constructor(M,E,O){this.init=M,this.next=E,this.stateToResult=O}filterInput(M){return e(()=>({nextIndex:0,state:k(this.init)}),(E,O,B,V)=>(M(O,B,V)&&(E.state=this.next(E.state,O,E.nextIndex++,V)),E),E=>this.stateToResult(E.state))}mapInput(M){return e(this.init,(E,O,B,V)=>this.next(E,M(O,B),B,V),this.stateToResult)}collectInput(M){return e(()=>({nextIndex:0,state:k(this.init)}),(E,O,B,V)=>{const rt=M(O,B,Wi.Skip,V);return Wi.Skip!==rt&&(E.state=this.next(E.state,rt,E.nextIndex++,V)),E},E=>this.stateToResult(E.state))}mapOutput(M){return e(this.init,this.next,E=>M(this.stateToResult(E)))}takeInput(M){return M<=0?e(this.init,ho,this.stateToResult):this.filterInput((E,O,B)=>{const V=O<M;return V||B(),V})}dropInput(M){return M<=0?this:this.filterInput((E,O)=>O>=M)}sliceInput(M=0,E){return E===void 0?this.dropInput(M):E<=0?e(this.init,ho,this.stateToResult):M<=0?this.takeInput(E):this.takeInput(E).dropInput(M)}}t.Base=n;function e(_,M,E){return new t.Base(_,M,E)}t.create=e;function r(_,M,E){return e(_,M,E??ho)}t.createMono=r;function i(_,M,E){return e(_,M,E??ho)}t.createOutput=i,t.sum=r(0,(_,M)=>_+M),t.product=r(1,(_,M,E,O)=>(M===0&&O(),_*M)),t.average=r(0,(_,M,E)=>_+(M-_)/(E+1)),t.minBy=(_,M)=>{const E=Symbol();return e(E,(O,B)=>E===O?B:_(O,B)<0?O:B,O=>E===O?k(M):O)},t.min=_=>e(void 0,(M,E)=>M!==void 0&&M<E?M:E,M=>M??k(_)),t.maxBy=(_,M)=>{const E=Symbol();return e(E,(O,B)=>E===O?B:_(O,B)>0?O:B,O=>E===O?k(M):O)},t.max=_=>e(void 0,(M,E)=>M!==void 0&&M>E?M:E,M=>M??k(_));function u({sep:_="",start:M="",end:E="",valueToString:O=String}={}){let B="",V=M;return e("",(rt,J)=>{const R=V.concat(rt,B,O(J));return B=_,V="",R},rt=>rt.concat(E))}t.join=u,t.count=_=>_===void 0?i(0,(M,E,O)=>O+1):i(0,(M,E,O)=>_?.(E,O)?M+1:M),t.firstWhere=(_,M)=>{const E=Symbol();return e(E,(O,B,V,rt)=>E===O&&_(B,V)?(rt(),B):O,O=>E===O?k(M):O)},t.first=_=>{const M=Symbol();return e(M,(E,O,B,V)=>(V(),M===E?O:E),E=>M===E?k(_):E)},t.lastWhere=(_,M)=>{const E=Symbol();return e(E,(O,B,V)=>_(B,V)?B:O,O=>E===O?k(M):O)},t.last=_=>{const M=Symbol();return e(()=>M,(E,O)=>O,E=>M===E?k(_):E)};function a(_){return i(!1,(M,E,O,B)=>{if(M)return M;const V=_(E,O);return V&&B(),V})}t.some=a;function o(_){return i(!0,(M,E,O,B)=>{if(!M)return M;const V=_(E,O);return V||B(),V})}t.every=o;function c(_,M=Object.is){return i(!1,(E,O,B,V)=>{if(E)return E;const rt=M(O,_);return rt&&V(),rt})}t.contains=c,t.and=r(!0,(_,M,E,O)=>_&&(M||O(),M)),t.or=r(!1,(_,M,E,O)=>_||(M&&O(),M)),t.isEmpty=i(!0,(_,M,E,O)=>(O(),!1)),t.nonEmpty=i(!1,(_,M,E,O)=>(O(),!0));function l(){return e(()=>[],(_,M)=>(_.push(M),_),_=>_.slice())}t.toArray=l;function f(){return e(()=>new Map,(_,M)=>(_.set(M[0],M[1]),_),_=>new Map(_))}t.toJSMap=f;function h(){return e(()=>new Set,(_,M)=>(_.add(M),_),_=>new Set(_))}t.toJSSet=h;function g(){return e(()=>({}),(_,M)=>(_[M[0]]=M[1],_),_=>Object.assign({},_))}t.toJSObject=g;function I(..._){return e(()=>_.map(E=>{const O={reducer:E,halted:!1,halt(){O.halted=!0},state:k(E.init)};return O}),(E,O,B,V)=>{let rt=!1,J=-1;const R=E.length;for(;++J<R;){const N=E[J];N.halted||(N.state=N.reducer.next(N.state,O,B,N.halt),N.halted||(rt=!0))}return rt||V(),E},E=>E.map(O=>O.reducer.stateToResult(O.state)))}t.combineArr=I;function A(_){return e(()=>{const E={};for(const O in _){const B=_[O],V={reducer:B,halted:!1,halt(){V.halted=!0},state:k(B.init)};E[O]=V}return E},(E,O,B,V)=>{let rt=!1;for(const J in E){const R=E[J];R.halted||(R.state=R.reducer.next(R.state,O,B,R.halt),R.halted||(rt=!0))}return rt||V(),E},E=>{const O={};for(const B in E){const V=E[B];O[B]=V.reducer.stateToResult(V.state)}return O})}t.combineObj=A})(rr||(rr={}));class Tw{constructor(n){this.startIndex=n,this.halted=!1,this.halt=()=>{this.halted=!0},this.currentIndex=n}nextIndex(){return this.currentIndex++}reset(){this.currentIndex=this.startIndex,this.halted=!1}}function rn(t=0){return new Tw(t)}function Lr(t,n){return typeof n=="function"?n(t):n}function Vv(t,n){const e=t.slice();return e.push(n),e}function pu(t,n){return t.length===0?n:n.length===0?t:t.concat(n)}function Fr(t,n=0,e=t.length-1){const r=e-n+1,i=[];let u=n-1,a=r-1;for(;++u<=e;)i[a--]=t[u];return i}function Gv(t,n,e=rn(),r=!1){if(e.halted)return;const{halt:i}=e;if(r){let u=t.length;for(;!e.halted&&--u>=0;)n(t[u],e.nextIndex(),i)}else{const u=t.length;let a=-1;for(;!e.halted&&++a<u;)n(t[a],e.nextIndex(),i)}}function vo(t,n,e=0){const r=[];let i=e,u=-1;const a=t.length;for(;++u<a;)r[u]=n(t[u],i++);return r}function gu(t,n,e=0){const r=[];let i=e,u=t.length,a=0;for(;--u>=0;)r[a++]=n(t[u],i++);return r}function Hv(t,n){const e=t.slice();return e.unshift(n),e}function Oi(t){return t[t.length-1]}function Jv(t,n,e){if(n<0||n>=t.length)return t;const r=t[n],i=Lr(r,e);if(Object.is(i,r))return t;const u=t.slice();return u[n]=i,u}function qw(t){return t.slice(1)}function Dw(t){return t.slice(0,t.length-1)}function ir(t,n,e,...r){const i=t.slice();return i.splice(n,e,...r),i}function Ln(t){const n=[];for(const e in t)n[e]=t[e];return n}function $i(t,n){const e=Array(t.length);for(const r in t)e[r]=n(t[r],r);return e}function Kw(t){return t[0]}function Vw(t){return t[1]}class Gw extends Nr.CustomError{constructor(){super("empty collection was assumbed to be non-empty")}}class Hw extends Nr.CustomError{constructor(){super("an attempt was made to modify a builder while looping over it")}}class Jw extends Nr.CustomError{constructor(){super("something happend that shouldn't happen, please consider creating an issue")}}class Zw extends Nr.CustomError{}function Zv(){throw new Gw}function pl(){throw new Hw}function Pt(){throw new Jw}function Xw(t){throw new Zw(t)}const Zt=Symbol("Token"),Xv=Object.freeze({done:!0,value:void 0}),Yw=Object.freeze({fastNext(t){return k(t)},next(){return Xv}});function Qw(t){return"fastNext"in t}class Wt{next(){const n=Symbol("Done"),e=this.fastNext(n);return n===e?Xv:{value:e,done:!1}}}class xw extends Wt{constructor(n,e,r){super(),this.source=n,this.flatMapFun=e,this.streamSourceHelpers=r,this.state=rn(),this.done=!1,this.currentIterator=null,this.iterator=this.source[Symbol.iterator]()}fastNext(n){const e=this.state;if(e.halted||this.done)return k(n);const r=Symbol("Done");let i;for(;this.currentIterator===null||r===(i=this.currentIterator.fastNext(r));){const u=this.iterator.fastNext(r);if(r===u)return this.done=!0,k(n);const a=this.flatMapFun(u,e.nextIndex(),e.halt);this.currentIterator=this.streamSourceHelpers.fromStreamSource(a)[Symbol.iterator]()}return i}}class tE extends Wt{constructor(n,e,r){super(),this.source=n,this.otherSources=e,this.streamSourceHelpers=r,this.sourceIndex=0,this.iterator=n[Symbol.iterator]()}fastNext(n){const e=Symbol("Done");let r;const i=this.otherSources.length,{streamSourceHelpers:u}=this;for(;e===(r=this.iterator.fastNext(e));){if(this.sourceIndex>=i)return k(n);let a=this.otherSources[this.sourceIndex++];for(;u.isEmptyStreamSourceInstance(a);){if(this.sourceIndex>=i)return k(n);a=this.otherSources[this.sourceIndex++]}this.iterator=u.fromStreamSource(a)[Symbol.iterator]()}return r}}class nE extends Wt{constructor(n,e,r){super(),this.source=n,this.pred=e,this.invert=r,this.state=rn()}fastNext(n){const e=this.state;if(e.halted)return k(n);const r=Symbol("Done");let i;const u=this.source,a=this.pred,o=e.halt;if(this.invert){for(;!e.halted&&r!==(i=u.fastNext(r));)if(!a(i,e.nextIndex(),o))return i}else for(;!e.halted&&r!==(i=u.fastNext(r));)if(a(i,e.nextIndex(),o))return i;return k(n)}}class eE extends Wt{constructor(n,e,r,i){super(),this.source=n,this.pred=e,this.args=r,this.invert=i}fastNext(n){const e=Symbol("Done");let r;const i=this.source,u=this.pred,a=this.args;if(this.invert){for(;e!==(r=i.fastNext(e));)if(!u(r,...a))return r}else for(;e!==(r=i.fastNext(e));)if(u(r,...a))return r;return k(n)}}class rE extends Wt{constructor(n,e){super(),this.source=n,this.collectFun=e,this.state=rn()}fastNext(n){const e=this.state;if(e.halted)return k(n);const{halt:r}=e,i=Symbol("Done");let u;const a=this.source,o=this.collectFun;for(;!e.halted&&i!==(u=a.fastNext(i));){const c=o(u,e.nextIndex(),Wi.Skip,r);if(Wi.Skip!==c)return c}return k(n)}}class iE extends Wt{constructor(n,e){super(),this.source=n,this.pred=e,this.index=0}fastNext(n){const e=Symbol("Done");let r;const i=this.source,u=this.pred;for(;e!==(r=i.fastNext(e));){if(u(r))return this.index++;this.index++}return k(n)}}class uE extends Wt{constructor(n,e,r){super(),this.source=n,this.searchValue=e,this.eq=r,this.index=0}fastNext(n){const e=Symbol("Done");let r;const i=this.source,u=this.searchValue,a=this.eq;for(;e!==(r=i.fastNext(e));){if(a(u,r))return this.index++;this.index++}return k(n)}}class aE extends Wt{constructor(n,e){super(),this.source=n,this.pred=e,this.isDone=!1,this.index=0}fastNext(n){const e=Symbol("Done");if(this.isDone)return k(n);const r=this.source.fastNext(e);return e===r?(this.isDone=!0,k(n)):this.pred(r,this.index++)?r:(this.isDone=!0,k(n))}}class oE extends Wt{constructor(n,e){super(),this.source=n,this.pred=e,this.pass=!1,this.index=0}fastNext(n){const e=this.source;if(this.pass)return e.fastNext(n);const r=Symbol("Done");let i;for(;r!==(i=e.fastNext(r));)if(this.pass=!this.pred(i,this.index++),this.pass)return i;return k(n)}}class cE extends Wt{constructor(n,e){super(),this.source=n,this.amount=e,this.i=0}fastNext(n){return this.i++>=this.amount?k(n):this.source.fastNext(n)}}class lE extends Wt{constructor(n,e){super(),this.source=n,this.amount=e,this.remain=e}fastNext(n){const e=this.source;if(this.remain<=0)return e.fastNext(n);const r=Symbol("Done");let i;for(;r!==(i=e.fastNext(r));)if(this.remain--<=0)return i;return k(n)}}class fE extends Wt{constructor(n,e){super(),this.source=n,this.amount=e,this.isEmpty=!0,this.iterator=n[Symbol.iterator](),this.remain=e}fastNext(n){const e=Symbol("Done");let r=this.iterator.fastNext(e);return e!==r?(this.isEmpty=!1,r):this.isEmpty||this.remain!==void 0&&(this.remain--,this.remain<=0)||(this.iterator=this.source[Symbol.iterator](),r=this.iterator.fastNext(e),e===r)?k(n):r}}class sE extends Wt{constructor(n,e){super(),this.source=n,this.sepStream=e,this.isInitialized=!1}fastNext(n){const e=Symbol("Done");if(this.sepIterator!==void 0){const u=this.sepIterator.fastNext(e);if(e!==u)return u;this.sepIterator=void 0}if(this.isInitialized){const u=this.source.fastNext(e);if(e===u)return this.isInitialized=!1,this.nextValue;const a=this.nextValue;return this.nextValue=u,this.sepIterator=this.sepStream[Symbol.iterator](),a}const r=this.source.fastNext(e);if(e===r)return k(n);const i=this.source.fastNext(e);return e===i||(this.nextValue=i,this.isInitialized=!0,this.sepIterator=this.sepStream[Symbol.iterator]()),r}}class hE extends Wt{constructor(n,e){super(),this.source=n,this.pred=e,this.index=0}fastNext(n){const e=[],r=this.source,i=Symbol("Done");let u;const a=this.pred,o=this.index;for(;i!==(u=r.fastNext(i));){if(a(u,this.index++))return e;e.push(u)}return o===this.index?k(n):e}}class dE extends Wt{constructor(n,e,r){super(),this.source=n,this.sepElem=e,this.eq=r}fastNext(n){const e=[],r=this.source,i=Symbol("Done");let u,a=!1;const o=this.eq,c=this.sepElem;for(;i!==(u=r.fastNext(i));){if(a=!0,o(u,c))return e;e.push(u)}return a?e:k(n)}}class vE extends Wt{constructor(n,e){super(),this.source=n,this.reducer=e,this.halted=!1,this.index=0,this.halt=()=>{this.halted=!0},this.state=k(e.init)}fastNext(n){if(this.halted)return k(n);const e=Symbol("Done"),r=this.source.fastNext(e);if(e===r)return k(n);const i=this.reducer;return this.state=i.next(this.state,r,this.index++,this.halt),i.stateToResult(this.state)}}class mE extends Wt{constructor(n,e){super(),this.source=n,this.reducers=e,this.halted=!1,this.index=0,this.isDone=!1,this.state=e.map(r=>k(r.init)),this.done=this.state.map((r,i)=>()=>{this.done[i]=null})}fastNext(n){if(this.halted||this.isDone)return k(n);const e=Symbol("Done"),r=this.source.fastNext(e);if(e===r)return k(n);const i=this.reducers,u=i.length;let a=-1,o=!1;for(;++a<u;){const c=this.done[a];if(c!==null){o=!0;const l=i[a];this.state[a]=l.next(this.state[a],r,this.index,c)}}return this.isDone=!o,o?(this.index++,this.state.map((c,l)=>i[l].stateToResult(c))):k(n)}}class pE extends Wt{constructor(n,e,r){super(),this.array=n,this.startIndex=e,this.endIndex=r,this.i=e}fastNext(n){return this.i>this.endIndex?k(n):this.array[this.i++]}}class gE extends Wt{constructor(n,e,r){super(),this.array=n,this.startIndex=e,this.i=r}fastNext(n){return this.i<this.startIndex?k(n):this.array[this.i--]}}class yE extends Wt{constructor(n){super(),this.value=n}fastNext(){return this.value}}class _E extends Wt{constructor(n,e,r,i){super(),this.f=e,this.args=r,this.iter=i.fromStreamSource(n)[Symbol.iterator]()}fastNext(n){const e=Symbol(),r=this.iter.fastNext(e),i=this.args;return e===r?k(n):this.f(...r,...i)}}class IE extends Wt{constructor(n,e,r,i,u){super(),this.pred=e,this.args=r,this.invert=i,this.iter=u.fromStreamSource(n)[Symbol.iterator]()}fastNext(n){const e=Symbol();let r;const i=this.pred,u=this.iter,a=this.args;if(this.invert){for(;e!==(r=u.fastNext(e));)if(!i(...r,...a))return r}else for(;e!==(r=u.fastNext(e));)if(i(...r,...a))return r;return k(n)}}class bE extends Wt{constructor(n=0,e,r){super(),this.start=n,this.end=e,this.delta=r,this.state=n}fastNext(n){if(this.end!==void 0&&this.state>this.end)return k(n);const e=this.state;return this.state+=this.delta,e}}class SE extends Wt{constructor(n=0,e,r){super(),this.start=n,this.end=e,this.delta=r,this.state=n}fastNext(n){if(this.end!==void 0&&this.state<this.end)return k(n);const e=this.state;return this.state+=this.delta,e}}class ME extends Wt{fastNext(){return Math.random()}}class RE extends Wt{constructor(n,e){super(),this.min=n,this.max=e,this.width=e-n}fastNext(){return this.min+Math.round(Math.random()*this.width)}}class AE extends Wt{constructor(n,e){super(),this.getNext=e,this.index=0,this.current=n}fastNext(n){const e=this.current;if(Zt===e)return k(n);if(this.index===0)return this.index++,e;const r=this.getNext(e,this.index++,Zt);return this.current=r,Zt===r?k(n):r}}class wE extends Wt{constructor(n,e,r){super(),this.iterables=n,this.zipFun=e,this.sources=n.map(i=>r.fromStreamSource(i)[Symbol.iterator]())}fastNext(n){const e=[];let r=-1;const i=this.sources,u=Symbol("Done");for(;++r<i.length;){const a=i[r].fastNext(u);if(u===a)return k(n);e.push(a)}return this.zipFun(...e)}}class EE extends Wt{constructor(n,e,r,i){super(),this.fillValue=n,this.iters=e,this.zipFun=r,this.allDone=!1,this.sources=e.map(u=>i.fromStreamSource(u)[Symbol.iterator]())}fastNext(n){if(this.allDone)return k(n);const e=[];let r=-1;const i=this.sources,u=Symbol("Done");let a=!1;const o=this.fillValue;for(;++r<i.length;){const c=i[r].fastNext(u);u===c?e.push(k(o)):(a=!0,e.push(c))}return a?this.zipFun(...e):(this.allDone=!0,k(n))}}class WE extends Wt{constructor(n,e){super(),this.source=n,this.item=e,this.prependDone=!1}fastNext(n){return this.prependDone?this.source.fastNext(n):(this.prependDone=!0,k(this.item))}}class OE extends Wt{constructor(n,e){super(),this.source=n,this.item=e,this.appendDone=!1}fastNext(n){if(this.appendDone)return k(n);const e=Symbol("Done"),r=this.source.fastNext(e);return e!==r?r:(this.appendDone=!0,k(this.item))}}class $E extends Wt{constructor(n,e=0){super(),this.source=n,this.startIndex=e,this.index=e}fastNext(n){const e=Symbol("Done"),r=this.source.fastNext(e);return e===r?k(n):[this.index++,r]}}class NE extends Wt{constructor(n,e){super(),this.source=n,this.mapFun=e,this.state=rn()}fastNext(n){const e=this.state;if(e.halted)return k(n);const r=Symbol("Done"),i=this.source.fastNext(r);return r===i?k(n):this.mapFun(i,e.nextIndex())}}class CE extends Wt{constructor(n,e,r){super(),this.source=n,this.mapFun=e,this.args=r}fastNext(n){const e=Symbol("Done"),r=this.source.fastNext(e);return e===r?k(n):this.mapFun(r,...this.args)}}class LE extends Wt{constructor(n,e){super(),this.source=n,this.eq=e,this.previous=[]}fastNext(n){const e=Symbol("Done");let r;const i=this.source,u=this.previous;for(;e!==(r=i.fastNext(e));){if(u.push(r),u.length===1)return r;const a=u.shift();if(!this.eq(a,r))return r}return k(n)}}class FE extends Wt{constructor(n,e,r,i){super(),this.source=n,this.windowSize=e,this.skipAmount=r,this.collector=i,this.state=new Set,this.index=0}fastNext(n){const e=this.source,r=this.collector,i=this.windowSize,u=this.skipAmount,a=Symbol("Done"),o=this.state;let c,l=a;for(;a!==(c=e.fastNext(a));){for(const f of o)f.result=r.next(f.result,c,f.size,f.halt),f.size++,(f.size>=i||f.halted)&&(l=r.stateToResult(f.result),o.delete(f));if(this.index%u===0){const f={result:k(r.init),size:1,halted:!1,halt(){this.halted=!0}};f.result=r.next(k(r.init),c,0,f.halt),o.add(f)}if(this.index++,a!==l)return l}return k(n)}}var Yv;function*UE(t){for(const n in t)yield n}function*BE(t){for(const n in t)yield t[n]}function*kE(t){for(const n in t)yield[n,t[n]]}class Lt{stream(){return this}equals(n,e=Kn.objectIs){const r=this[Symbol.iterator](),i=wn(n)[Symbol.iterator](),u=Symbol("Done");for(;;){const a=r.fastNext(u),o=i.fastNext(u);if(u===a||u===o)return Object.is(a,o);if(!e(a,o))return!1}}assumeNonEmpty(){return this}asNormal(){return this}prepend(n){return new zE(this,n).assumeNonEmpty()}append(n){return new PE(this,n).assumeNonEmpty()}forEach(n,e=rn()){if(e.halted)return;const r=Symbol("Done");let i;const u=this[Symbol.iterator](),{halt:a}=e;for(;!e.halted&&r!==(i=u.fastNext(r));)n(i,e.nextIndex(),a)}forEachPure(n,...e){const r=Symbol("Done");let i;const u=this[Symbol.iterator]();for(;r!==(i=u.fastNext(r));)n(i,...e)}indexed(n=0){return new jE(this,n)}map(n){return new gl(this,n)}mapPure(n,...e){return new TE(this,n,e)}flatMap(n){return new qE(this,n)}flatZip(n){return this.flatMap((e,r,i)=>wn(n(e,r,i)).map(u=>[e,u]))}transform(n){return Xn.flatten(this.reduceStream(n))}filter(n){return new mo(this,n)}filterNot(n){return new mo(this,n,!0)}filterPure(n,...e){return new Qv(this,n,e)}filterNotPure(n,...e){return new Qv(this,n,e,!0)}collect(n){return new DE(this,n)}first(n){return this[Symbol.iterator]().fastNext(n)}last(n){const e=Symbol("Done");let r,i=e;const u=this[Symbol.iterator]();for(;e!==(r=u.fastNext(e));)i=r;return e===i?k(n):i}single(n){const e=this[Symbol.iterator](),r=Symbol("Done"),i=e.fastNext(r);return r!==i&&r===e.fastNext(r)?i:k(n)}count(){let n=0;const e=Symbol("Done"),r=this[Symbol.iterator]();for(;e!==r.fastNext(e);)n++;return n}countElement(n,e=Kn.objectIs){let r=0;const i=Symbol("Done"),u=this[Symbol.iterator]();let a;for(;i!==(a=u.fastNext(i));)e(n,a)&&r++;return r}countNotElement(n,e=Kn.objectIs){let r=0;const i=Symbol("Done"),u=this[Symbol.iterator]();let a;for(;i!==(a=u.fastNext(i));)e(n,a)||r++;return r}find(n,e=1,r){if(e<=0)return k(r);const i=Symbol("Done"),u=this[Symbol.iterator]();let a,o=e,c=0;for(;i!==(a=u.fastNext(i));)if(n(a,c++)&&--o<=0)return a;return k(r)}elementAt(n,e){if(n<0)return k(e);const r=Symbol("Done"),i=this[Symbol.iterator]();let u,a=0;for(;a<=n&&r!==(u=i.fastNext(r));){if(a===n)return u;a++}return k(e)}indicesWhere(n){return new KE(this,n)}indicesOf(n,e=Kn.objectIs){return new VE(this,n,e)}indexWhere(n,e=1){if(e<=0)return;const r=Symbol("Done");let i;const u=this[Symbol.iterator]();let a=0,o=0;for(;r!==(i=u.fastNext(r));){const c=a++;if(n(i,c)&&(o++,o>=e))return c}}indexOf(n,e=1,r=Kn.objectIs){if(e<=0)return;const i=Symbol("Done");let u;const a=this[Symbol.iterator]();let o=0,c=0;for(;i!==(u=a.fastNext(i));){const l=o++;if(r(u,n)&&(c++,c>=e))return l}}some(n){return this.indexWhere(n)!==void 0}every(n){const e=this[Symbol.iterator](),r=Symbol("Done");let i,u=0;for(;r!==(i=e.fastNext(r));)if(!n(i,u++))return!1;return!0}contains(n,e=1,r){return e<=0?!0:this.indexOf(n,e,r)!==void 0}containsSlice(n,e=Kn.objectIs){const r=this[Symbol.iterator](),i=wn(n);let u=i[Symbol.iterator]();const a=Symbol("Done");for(;;){const o=u.fastNext(a);if(a===o)return!0;const c=r.fastNext(a);if(a===c)return!1;e(o,c)||(u=i[Symbol.iterator]())}}takeWhile(n){return new GE(this,n)}dropWhile(n){return new HE(this,n)}take(n){return n<=0?sn:new JE(this,n)}drop(n){return n<=0?this:new ZE(this,n)}repeat(n){return n!==void 0&&n<=1?this:new Ni(()=>new fE(this,n))}concat(...n){return n.every(Vt)?this.assumeNonEmpty():new yl(this,n).assumeNonEmpty()}min(n){return this.minBy(so.defaultComp().compare,n)}minBy(n,e){const r=Symbol("Done"),i=this[Symbol.iterator]();let u=i.fastNext(r);if(r===u)return k(e);let a;for(;r!==(a=i.fastNext(r));)n(a,u)<0&&(u=a);return u}max(n){return this.maxBy(so.defaultComp().compare,n)}maxBy(n,e){const r=Symbol("Done"),i=this[Symbol.iterator]();let u=i.fastNext(r);if(r===u)return k(e);let a;for(;r!==(a=i.fastNext(r));)n(a,u)>0&&(u=a);return u}intersperse(n){if(Vt(n))return this;const e=wn(n);return new XE(this,e)}join({sep:n="",start:e="",end:r="",valueToString:i=String,ifEmpty:u=void 0}={}){const a=Symbol("Done"),o=this[Symbol.iterator]();let c=o.fastNext(a);if(a===c)return u!==void 0?u:e.concat(r);let l=e.concat(i(c));for(;a!==(c=o.fastNext(a));)l=l.concat(n,i(c));return l.concat(r)}mkGroup({sep:n=sn,start:e=sn,end:r=sn}={}){return wn(e).concat(this.intersperse(n),r)}splitWhere(n){return new YE(this,n)}splitOn(n,e=Kn.objectIs){return new QE(this,n,e)}distinctPrevious(n=Kn.objectIs){return new oW(this,n)}window(n,e=n,r=rr.toArray()){return new cW(this,n,e,r)}fold(n,e){return this.reduce(rr.createOutput(n,e))}foldStream(n,e){return this.reduceStream(rr.createOutput(n,e))}reduce(n){let e=!1;function r(){e=!0}let i=0;const u=n.next;let a=k(n.init);const o=Symbol("Done");let c;const l=this[Symbol.iterator]();for(;!e&&o!==(c=l.fastNext(o));)a=u(a,c,i++,r);return n.stateToResult(a)}reduceStream(n){return new xE(this,n)}reduceAll(...n){const e=n.map(l=>k(l.init)),r=e.map((l,f)=>()=>{r[f]=null}),i=this[Symbol.iterator](),u=n.length,a=Symbol("Done");let o,c=0;for(;a!==(o=i.fastNext(a));){let l=-1,f=!1;for(;++l<u;){const h=r[l];h!==null&&(f=!0,e[l]=n[l].next(e[l],o,c,h))}if(!f)break;c++}return e.map((l,f)=>n[f].stateToResult(l))}reduceAllStream(...n){return new tW(this,n)}toArray(){const n=this[Symbol.iterator](),e=[],r=Symbol("Done");let i;for(;r!==(i=n.fastNext(r));)e.push(i);return e}toString(){return"Stream(...<potentially empty>)"}toJSON(){return{dataType:"Stream",value:this.toArray()}}}class Ni extends Lt{constructor(n){super(),this[Yv]=void 0,this[Symbol.iterator]=n}}Yv=Symbol.iterator;class zE extends Lt{constructor(n,e){super(),this.source=n,this.item=e}[Symbol.iterator](){return new WE(this.source[Symbol.iterator](),this.item)}first(){return k(this.item)}last(){return this.source.last(this.item)}count(){return this.source.count()+1}forEach(n,e=rn()){e.halted||(n(k(this.item),e.nextIndex(),e.halt),!e.halted&&this.source.forEach(n,e))}}class PE extends Lt{constructor(n,e){super(),this.source=n,this.item=e}[Symbol.iterator](){return new OE(this.source[Symbol.iterator](),this.item)}first(){return this.source.first(this.item)}last(){return k(this.item)}count(){return this.source.count()+1}forEach(n,e=rn()){e.halted||(this.source.forEach(n,e),!e.halted&&n(k(this.item),e.nextIndex(),e.halt))}}class jE extends Lt{constructor(n,e){super(),this.source=n,this.startIndex=e}[Symbol.iterator](){return new $E(this.source[Symbol.iterator](),this.startIndex)}count(){return this.source.count()}}class gl extends Lt{constructor(n,e){super(),this.source=n,this.mapFun=e}[Symbol.iterator](){return new NE(this.source[Symbol.iterator](),this.mapFun)}first(n){const e=Symbol("Done"),r=this.source.first(e);return e===r?k(n):this.mapFun(r,0)}last(n){const e=Symbol("Done"),r=this.source.last(e);return e===r?k(n):this.mapFun(r,0)}count(){return this.source.count()}elementAt(n,e){const r=Symbol("Done"),i=this.source.elementAt(n,r);return r===i?k(e):this.mapFun(i,n)}map(n){return new gl(this.source,(e,r)=>n(this.mapFun(e,r),r))}}class TE extends Lt{constructor(n,e,r){super(),this.source=n,this.mapFun=e,this.args=r}[Symbol.iterator](){return new CE(this.source[Symbol.iterator](),this.mapFun,this.args)}first(n){const e=Symbol("Done"),r=this.source.first(e);return e===r?k(n):this.mapFun(r,...this.args)}last(n){const e=Symbol("Done"),r=this.source.last(e);return e===r?k(n):this.mapFun(r,...this.args)}count(){return this.source.count()}elementAt(n,e){const r=Symbol("Done"),i=this.source.elementAt(n,r);return r===i?k(e):this.mapFun(i,...this.args)}}class qE extends Lt{constructor(n,e){super(),this.source=n,this.flatmapFun=e}[Symbol.iterator](){return new xw(this.source,this.flatmapFun,Ci)}}class yl extends Lt{constructor(n,e){super(),this.source=n,this.otherSources=e}[Symbol.iterator](){return new tE(this.source,this.otherSources,Ci)}forEach(n,e=rn()){if(e.halted)return;this.source.forEach(n,e);let r=-1;const i=this.otherSources,u=i.length;for(;!e.halted&&++r<u;){const a=i[r];Vt(a)||wn(a).forEach(n,e)}}last(n){const e=this.otherSources;let r=e.length;for(;--r>=0;){const i=e[r];if(!Vt(i)){const u=Symbol("Done"),a=wn(i).last(u);if(u!==a)return a}}return this.source.last(n)}count(){let n=this.source.count();const e=this.otherSources,r=e.length;let i=-1;for(;++i<r;){const u=e[i];Vt(u)||(n+=wn(u).count())}return n}concat(...n){return new yl(this.source,this.otherSources.concat(n))}toArray(){let n=this.source.toArray(),e=-1;const r=this.otherSources,i=r.length;for(;++e<i;){const u=r[e];Vt(u)||(n=n.concat(wn(u).toArray()))}return n}}class mo extends Lt{constructor(n,e,r=!1){super(),this.source=n,this.pred=e,this.invert=r}[Symbol.iterator](){return new nE(this.source[Symbol.iterator](),this.pred,this.invert)}filter(n){return new mo(this.source,(e,r,i)=>this.pred(e,r,i)&&n(e,r,i))}}class Qv extends Lt{constructor(n,e,r,i=!1){super(),this.source=n,this.pred=e,this.args=r,this.invert=i}[Symbol.iterator](){return new eE(this.source[Symbol.iterator](),this.pred,this.args,this.invert)}}class DE extends Lt{constructor(n,e){super(),this.source=n,this.collectFun=e}[Symbol.iterator](){return new rE(this.source[Symbol.iterator](),this.collectFun)}}class KE extends Lt{constructor(n,e){super(),this.source=n,this.pred=e}[Symbol.iterator](){return new iE(this.source[Symbol.iterator](),this.pred)}}class VE extends Lt{constructor(n,e,r){super(),this.source=n,this.searchValue=e,this.eq=r}[Symbol.iterator](){return new uE(this.source[Symbol.iterator](),this.searchValue,this.eq)}}class GE extends Lt{constructor(n,e){super(),this.source=n,this.pred=e}[Symbol.iterator](){return new aE(this.source[Symbol.iterator](),this.pred)}}class HE extends Lt{constructor(n,e){super(),this.source=n,this.pred=e}[Symbol.iterator](){return new oE(this.source[Symbol.iterator](),this.pred)}}class JE extends Lt{constructor(n,e){super(),this.source=n,this.amount=e}[Symbol.iterator](){return new cE(this.source[Symbol.iterator](),this.amount)}take(n){return n===this.amount?this:this.source.take(n)}}class ZE extends Lt{constructor(n,e){super(),this.source=n,this.amount=e}[Symbol.iterator](){return new lE(this.source[Symbol.iterator](),this.amount)}drop(n){return n<=0?this:this.source.drop(this.amount+n)}}class XE extends Lt{constructor(n,e){super(),this.source=n,this.sepStream=e}[Symbol.iterator](){return new sE(this.source[Symbol.iterator](),this.sepStream)}}class YE extends Lt{constructor(n,e){super(),this.source=n,this.pred=e}[Symbol.iterator](){return new hE(this.source[Symbol.iterator](),this.pred)}}class QE extends Lt{constructor(n,e,r){super(),this.source=n,this.sepElem=e,this.eq=r}[Symbol.iterator](){return new dE(this.source[Symbol.iterator](),this.sepElem,this.eq)}}class xE extends Lt{constructor(n,e){super(),this.source=n,this.reducerDef=e}[Symbol.iterator](){return new vE(this.source[Symbol.iterator](),this.reducerDef)}}class tW extends Lt{constructor(n,e){super(),this.source=n,this.reducers=e}[Symbol.iterator](){return new mE(this.source[Symbol.iterator](),this.reducers)}}class nW{constructor(n){this.source=n}next(){return this.source.next()}fastNext(n){const e=this.source.next();return e.done?k(n):e.value}}class eW extends Lt{constructor(n){super(),this.iterable=n}[Symbol.iterator](){const n=this.iterable[Symbol.iterator]();return Qw(n)?n:new nW(n)}}class rW extends Lt{[Symbol.iterator](){return Yw}stream(){return this}assumeNonEmpty(){Zv()}equals(n){const e=Symbol("Done");return e===wn(n)[Symbol.iterator]().fastNext(e)}prepend(n){return Xn.of(k(n))}append(n){return Xn.of(k(n))}forEach(){}forEachPure(){}indexed(){return this}map(){return this}mapPure(){return this}flatMap(){return this}flatZip(){return this}transform(n){return Xn.from(n.stateToResult(k(n.init)))}filter(){return this}filterNot(){return this}filterPure(){return this}filterNotPure(){return this}collect(){return this}first(n){return k(n)}last(n){return k(n)}single(n){return k(n)}count(){return 0}countElement(){return 0}countNotElement(){return 0}find(n,e,r){return k(r)}elementAt(n,e){return k(e)}indicesWhere(){return this}indicesOf(){return this}indexWhere(){}indexOf(){}some(){return!1}every(){return!0}contains(){return!1}containsSlice(){return!1}takeWhile(){return this}dropWhile(){return this}take(){return this}drop(){return this}repeat(){return this}concat(...n){if(n.every(Vt))return this;const[e,r,...i]=n;return r===void 0?e:wn(e).concat(r,...i)}min(n){return k(n)}minBy(n,e){return k(e)}max(n){return k(n)}maxBy(n,e){return k(e)}intersperse(){return this}join({start:n="",end:e="",ifEmpty:r=void 0}={}){return r!==void 0?r:n.concat(e)}mkGroup({start:n=sn,end:e=sn}={}){return wn(n).concat(e)}splitOn(){return this}splitWhere(){return this}distinctPrevious(){return this}window(){return this}fold(n){return k(n)}foldStream(){return this}reduce(n){return n.stateToResult(k(n.init))}reduceStream(){return this}reduceAll(...n){return n.map(e=>e.stateToResult(k(e.init)))}reduceAllStream(){return this}toArray(){return[]}toString(){return"Stream(<empty>)"}toJSON(){return{dataType:"Stream",value:[]}}}class je extends Lt{constructor(n,e=0,r=n.length-1,i=!1){super(),this.array=n,this.startIndex=e,this.endIndex=r,this.reversed=i,this.length=r-e+1}[Symbol.iterator](){return this.reversed?new gE(this.array,this.startIndex,this.endIndex):new pE(this.array,this.startIndex,this.endIndex)}forEach(n,e=rn()){const r=this.startIndex,i=this.endIndex,u=this.array,{halt:a}=e;if(this.reversed){let o=i+1;for(;!e.halted&&--o>=r;)n(u[o],e.nextIndex(),a)}else{let o=this.startIndex-1;for(;!e.halted&&++o<=i;)n(u[o],e.nextIndex(),a)}}first(n){return this.length<=0?k(n):this.reversed?this.array[this.endIndex]:this.array[this.startIndex]}last(n){return this.length<=0?k(n):this.reversed?this.array[this.startIndex]:this.array[this.endIndex]}count(){return this.endIndex-this.startIndex+1}find(n,e=1,r){const i=this.startIndex,u=this.endIndex,a=this.array;let o=e,c=0;if(this.reversed){let l=u+1;for(;--l>=i;){const f=a[l];if(n(f,c++)&&--o<=0)return f}}else{let l=i-1;for(;++l<=u;){const f=a[l];if(n(f,c++)&&--o<=0)return f}}return k(r)}elementAt(n,e){return n<0||n>=this.length?k(e):this.reversed?this.array[this.endIndex-n]:this.array[n+this.startIndex]}some(n){const e=this.startIndex,r=this.endIndex,i=this.array;let u=0;if(this.reversed){let a=this.endIndex+1;for(;--a>=e;){const o=i[a];if(n(o,u++))return!0}}else{let a=this.startIndex-1;for(;++a<=r;){const o=i[a];if(n(o,u++))return!0}}return!1}every(n){const e=this.startIndex,r=this.endIndex,i=this.array;let u=0;if(this.reversed){let a=r+1;for(;--a>=e;){const o=i[a];if(!n(o,u++))return!1}}else{let a=e-1;for(;++a<=r;){const o=i[a];if(!n(o,u++))return!1}}return!0}indexOf(n,e=1,r=Object.is){if(e<=0)return;let i=e;const u=this.startIndex,a=this.endIndex,o=this.array;if(this.reversed){let c=a+1;for(;--c>=u;)if(r(o[c],n)&&--i<=0)return a-c}else{let c=u-1;for(;++c<=a;)if(r(o[c],n)&&--i<=0)return c-u}}contains(n,e=1,r=Object.is){return e<=0?!0:this.indexOf(n,e,r)!==void 0}take(n){return n<=0?sn:n>=this.length?this:this.reversed?new je(this.array,this.endIndex-(n-1),this.endIndex,this.reversed):new je(this.array,this.startIndex,this.startIndex+n-1,this.reversed)}drop(n){return n<=0?this:n>=this.length?sn:this.reversed?new je(this.array,this.startIndex,this.endIndex-n,this.reversed):new je(this.array,this.startIndex+n,this.endIndex,this.reversed)}toArray(){const n=this.array;return typeof n=="string"?super.toArray():this.reversed?super.toArray():n.slice(this.startIndex,this.endIndex+1)}}class iW extends Lt{constructor(n){super(),this.value=n}[Symbol.iterator](){return new yE(this.value)}first(){return this.value}append(){return this}forEach(n,e){const r=e??rn(),i=this.value;for(;!r.halted;)n(i,r.nextIndex(),r.halt)}last(){return this.value}elementAt(){return this.value}repeat(){return this}concat(){return this.assumeNonEmpty()}min(){return this.value}minBy(){return this.value}max(){return this.value}maxBy(){return this.value}}class uW extends Lt{constructor(n,e,r){super(),this.source=n,this.f=e,this.args=r}[Symbol.iterator](){return new _E(this.source,this.f,this.args,Ci)}}class aW extends Lt{constructor(n,e,r,i=!1){super(),this.source=n,this.pred=e,this.args=r,this.invert=i}[Symbol.iterator](){return new IE(this.source,this.pred,this.args,this.invert,Ci)}}class xv extends Lt{constructor(n,e,r=1){super(),this.start=n,this.end=e,this.delta=r}[Symbol.iterator](){return this.delta>=0?new bE(this.start,this.end,this.delta):new SE(this.start,this.end,this.delta)}}class oW extends Lt{constructor(n,e){super(),this.source=n,this.eq=e}[Symbol.iterator](){return new LE(this.source[Symbol.iterator](),this.eq)}}class cW extends Lt{constructor(n,e,r,i){super(),this.source=n,this.windowSize=e,this.skipAmount=r,this.collector=i}[Symbol.iterator](){return new FE(this.source[Symbol.iterator](),this.windowSize,this.skipAmount,this.collector)}}const sn=Object.freeze(new rW);function lW(t){return t instanceof Lt}const wn=t=>t===void 0||Vt(t)?sn:lW(t)?t:typeof t=="object"&&"stream"in t?t.stream():Array.isArray(t)?t.length<=0?sn:new je(t):new eW(t);function Vt(t){return t===""||typeof t=="object"&&(t===sn||"length"in t&&t.length===0||"size"in t&&t.size===0||"isEmpty"in t&&t.isEmpty===!0)}const Ci={fromStreamSource:wn,isEmptyStreamSourceInstance:Vt},Xn=Object.freeze({empty(){return sn},of(...t){return wn(t)},from(...t){const[n,...e]=t;if(e.length<=0)return wn(n);const[r,...i]=e;return wn(n).concat(r,...i)},fromArray(t,n,e=!1){if(t.length===0)return sn;if(n===void 0)return new je(t,void 0,void 0,e);const r=de.getIndicesFor(n,t.length);return r==="empty"?sn:r==="all"?new je(t,void 0,void 0,e):new je(t,r[0],r[1],e)},fromObjectKeys(t){return Xn.from(UE(t))},fromObjectValues(t){return Xn.from(BE(t))},fromObject(t){return Xn.from(kE(t))},fromString(t,n,e=!1){return Xn.fromArray(t,n,e)},always(t){return new iW(t)},applyForEach(t,n,...e){const r=Xn.from(t)[Symbol.iterator](),i=Symbol();let u;for(;i!==(u=r.fastNext(i));)n(...u,...e)},applyMap(t,n,...e){return new uW(t,n,e)},applyFilter(t,n,...e){return new aW(t,n,e)},range(t,n=1){if(t.amount!==void 0){if(t.amount<=0)return sn;let a=0;t.start!==void 0&&(Array.isArray(t.start)?(a=t.start[0],t.start[1]||a++):a=t.start);const o=a+t.amount-1;return new xv(a,o,n)}const{start:e,end:r}=ml.getNormalizedRange(t);let i=0,u;if(e!==void 0&&(i=e[0],e[1]||i++),r!==void 0&&(u=r[0],r[1]||u--),u!==void 0){if(n>0&&u<i)return sn;if(n<0&&i<=u)return sn}return new xv(i,u,n)},random(){return new Ni(()=>new ME)},randomInt(t,n){return t>=n&&Nr.msg("min should be smaller than max"),new Ni(()=>new RE(t,n))},unfold(t,n){return new Ni(()=>new AE(t,n))},zipWith(...t){return n=>t.some(Vt)?sn:new Ni(()=>new wE(t,n,Ci))},zip(...t){return Xn.zipWith(...t)(Array)},zipAllWith(...t){return(n,e)=>t.every(Vt)?sn:new Ni(()=>new EE(n,t,e,Ci))},zipAll(t,...n){return Xn.zipAllWith(...n)(t,Array)},flatten(t){return wn(t).flatMap(n=>n)},unzip(t,n){if(Vt(t))return Xn.of(sn).repeat(n).toArray();const e=[];let r=-1;for(;++r<n;){const i=r;e[r]=t.map(u=>u[i])}return e}}),Ot=Xn;class tm{constructor(n,e){this.context=n,this.source=e,this._lock=0,this.getValue=(r,i)=>this.source!==void 0?this.source.getValue(r,i):this.keyValueMap.get(r,i),this.hasKey=r=>{const i=Symbol();return i!==this.getValue(r,i)},this.getKey=(r,i)=>this.source!==void 0?this.source.getKey(r,i):this.valueKeyMap.get(r,i),this.hasValue=r=>{const i=Symbol();return i!==this.getKey(r,i)},this.set=(r,i)=>this.addEntry([r,i]),this.addEntry=r=>{this.checkLock();const[i,u]=r,a=Symbol(),o=this.keyValueMap.get(i,a),c=this.valueKeyMap.get(u,a);if(a!==c&&a!==o){if(Object.is(c,i)&&Object.is(o,u))return!1;this.keyValueMap.removeKey(c),this.keyValueMap.addEntry(r),this.valueKeyMap.removeKey(o),this.valueKeyMap.set(u,i)}else a!==o?(Object.is(o,u)||(this.valueKeyMap.removeKey(o),this.valueKeyMap.set(u,i)),this.keyValueMap.addEntry(r)):a!==c?(Object.is(c,i)||(this.keyValueMap.removeKey(c),this.keyValueMap.addEntry(r)),this.valueKeyMap.set(u,i)):(this.keyValueMap.addEntry(r),this.valueKeyMap.set(u,i));return this.source=void 0,!0},this.addEntries=r=>(this.checkLock(),Ot.from(r).filterPure(this.addEntry).count()>0),this.removeKey=(r,i)=>{if(this.checkLock(),!this.context.keyValueContext.isValidKey(r))return k(i);const u=Symbol(),a=this.keyValueMap.removeKey(r,u);return u===a?k(i):(this.valueKeyMap.removeKey(a),this.source=void 0,a)},this.removeKeys=r=>{if(this.checkLock(),Vt(r))return!1;const i=Symbol();return Ot.from(r).mapPure(this.removeKey,i).countNotElement(i)>0},this.removeValue=(r,i)=>{if(this.checkLock(),!this.context.valueKeyContext.isValidKey(r))return k(i);const u=Symbol(),a=this.valueKeyMap.removeKey(r,u);return u===a?k(i):(this.keyValueMap.removeKey(a),this.source=void 0,a)},this.removeValues=r=>{if(this.checkLock(),Vt(r))return!1;const i=Symbol();return Ot.from(r).mapPure(this.removeValue,i).countNotElement(i)>0},this.forEach=(r,i=rn())=>{this._lock++,!this.isEmpty&&!i.halted&&(this.source!==void 0?this.source.forEach(r,i):this.keyValueMap.forEach(r,i)),this._lock--},this.build=()=>this.source!==void 0?this.source:this.size===0?this.context.empty():this.context.createNonEmptyImpl(this.keyValueMap.build().assumeNonEmpty(),this.valueKeyMap.build().assumeNonEmpty())}checkLock(){this._lock&&pl()}get keyValueMap(){return this._keyValueMap===void 0&&(this.source===void 0?(this._keyValueMap=this.context.keyValueContext.builder(),this._valueKeyMap=this.context.valueKeyContext.builder()):(this._keyValueMap=this.source.keyValueMap.toBuilder(),this._valueKeyMap=this.source.valueKeyMap.toBuilder())),this._keyValueMap}get valueKeyMap(){return this._valueKeyMap===void 0&&(this.source===void 0?(this._keyValueMap=this.context.keyValueContext.builder(),this._valueKeyMap=this.context.valueKeyContext.builder()):(this._keyValueMap=this.source.keyValueMap.toBuilder(),this._valueKeyMap=this.source.valueKeyMap.toBuilder())),this._valueKeyMap}get size(){var n,e;return(e=(n=this.source)===null||n===void 0?void 0:n.size)!==null&&e!==void 0?e:this.keyValueMap.size}get isEmpty(){return this.size===0}}class _l{[Symbol.iterator](){return Ot.empty()[Symbol.iterator]()}assumeNonEmpty(){Zv()}stream(){return Ot.empty()}get size(){return 0}get length(){return 0}get isEmpty(){return!0}nonEmpty(){return!1}forEach(){}filter(){return this}remove(){return this}toArray(){return[]}}class Il{[Symbol.iterator](){return this.stream()[Symbol.iterator]()}get isEmpty(){return!1}nonEmpty(){return!0}assumeNonEmpty(){return this}asNormal(){return this}}var bl;(function(t){class n{constructor(){this.empty=()=>this._empty,this.from=(...r)=>{let i=this.builder(),u=-1;const a=r.length;for(;++u<a;){const o=r[u];if(!Vt(o)){if(i.isEmpty&&this.isNonEmptyInstance(o)&&o.context===this){if(u===a-1)return o;i=o.toBuilder();continue}i.addEntries(o)}}return i.build()},this.of=(...r)=>this.from(r),this.reducer=r=>rr.create(()=>r===void 0?this.builder():this.from(r).toBuilder(),(i,u)=>(i.addEntry(u),i),i=>i.build()),this.mergeAllWith=(...r)=>(i,u)=>{const a=this.builder();let o=-1;const c=r.length;for(;++o<r.length;){let l;const f=Ot.from(r[o])[Symbol.iterator]();for(;(l=f.fastNext())!==void 0;){const h=l[0],g=l[1],I=o;a.modifyAt(h,{ifNew(){const A=Array(c).fill(i);return A[I]=g,A},ifExists(A){return A[I]=g,A}})}}return a.buildMapValues((l,f)=>u(f,...l))},this.mergeAll=(r,...i)=>this.mergeAllWith(...i)(r,(u,...a)=>a),this.mergeWith=(...r)=>i=>{if(Ot.from(r).some(Vt))return this.empty();const u=this.builder();let a=-1;const o=r.length;for(;++a<r.length;){let h;const g=Ot.from(r[a])[Symbol.iterator]();for(;(h=g.fastNext())!==void 0;){const I=h[0],A=h[1],_=a;u.modifyAt(I,{ifNew(M){return _>0?M:[A]},ifExists(M,E){return M.length!==_?E:(M.push(A),M)}})}}const c=r[0];let l;const f=Ot.from(c)[Symbol.iterator]();for(;(l=f.fastNext())!==void 0;){const h=l[0];u.modifyAt(h,{ifExists(g,I){return g.length!==o?I:g}})}return u.buildMapValues((h,g)=>i(g,...h))},this.merge=(...r)=>this.mergeWith(...r)((i,...u)=>u)}get _types(){}}t.ContextBase=n})(bl||(bl={}));class fW extends _l{constructor(n){super(),this.context=n}get size(){return 0}get keyValueMap(){return this.context.keyValueContext.empty()}get valueKeyMap(){return this.context.valueKeyContext.empty()}hasKey(){return!1}hasValue(){return!1}getValue(n,e){return k(e)}getKey(n,e){return k(e)}set(n,e){return this.addEntry([n,e])}addEntry(n){return new Ur(this.context,this.context.keyValueContext.of(n),this.context.valueKeyContext.of([n[1],n[0]]))}addEntries(n){return this.context.from(n)}removeKey(){return this}removeKeyAndGet(){}removeKeys(){return this}removeValue(){return this}removeValueAndGet(){}removeValues(){return this}updateKeyAtValue(){return this}updateValueAtKey(){return this}streamKeys(){return Ot.empty()}streamValues(){return Ot.empty()}toBuilder(){return this.context.builder()}toString(){return"BiMap()"}toJSON(){return{dataType:this.context.typeTag,value:[]}}}class Ur extends Il{constructor(n,e,r){super(),this.context=n,this.keyValueMap=e,this.valueKeyMap=r}copy(n=this.keyValueMap,e=this.valueKeyMap){return n===this.keyValueMap&&e===this.valueKeyMap?this:new Ur(this.context,n,e)}copyE(n=this.keyValueMap,e=this.valueKeyMap){return n.nonEmpty()&&e.nonEmpty()?new Ur(this.context,n,e):this.context.empty()}get size(){return this.keyValueMap.size}asNormal(){return this}stream(){return this.keyValueMap.stream()}streamKeys(){return this.keyValueMap.streamKeys()}streamValues(){return this.valueKeyMap.streamKeys()}hasKey(n){const e=Symbol();return e!==this.getValue(n,e)}hasValue(n){const e=Symbol();return e!==this.getKey(n,e)}getValue(n,e){return this.keyValueMap.get(n,e)}getKey(n,e){return this.valueKeyMap.get(n,e)}set(n,e){return this.addEntry([n,e])}addEntry(n){const[e,r]=n,i=this.keyValueMap.removeKeyAndGet(e),u=this.valueKeyMap.removeKeyAndGet(r);if(i===void 0&&u===void 0)return this.copy(this.keyValueMap.addEntry(n),this.valueKeyMap.set(r,e));if(i!==void 0&&u!==void 0){const[c,l]=i,[f,h]=u;if(Object.is(h,e)&&Object.is(l,r))return this;const g=c.removeKey(h).addEntry(n),I=f.removeKey(l).set(r,e);return this.copy(g,I)}const a=(u===void 0?this.keyValueMap:this.keyValueMap.removeKey(u[1])).addEntry(n),o=(i===void 0?this.valueKeyMap:this.valueKeyMap.removeKey(i[1])).set(r,e);return this.copy(a,o)}addEntries(n){if(Vt(n))return this;const e=this.toBuilder();return e.addEntries(n),e.build()}removeKey(n){const e=this.keyValueMap.removeKeyAndGet(n);if(e===void 0)return this;const[r,i]=e;if(this.size===1)return this.context.empty();const u=this.valueKeyMap.removeKey(i);return this.copy(r.assumeNonEmpty(),u.assumeNonEmpty())}removeKeyAndGet(n){const e=this.keyValueMap.removeKeyAndGet(n);if(e===void 0)return;const[r,i]=e;if(this.size===1)return[this.context.empty(),i];const u=this.valueKeyMap.removeKey(i);return[this.copy(r.assumeNonEmpty(),u.assumeNonEmpty()),i]}removeKeys(n){if(Vt(n))return this;const e=this.toBuilder();return e.removeKeys(n),e.build()}removeValue(n){const e=this.valueKeyMap.removeKeyAndGet(n);if(e===void 0)return this;const[r,i]=e;if(this.size===1)return this.context.empty();const u=this.keyValueMap.removeKey(i);return this.copy(u.assumeNonEmpty(),r.assumeNonEmpty())}removeValueAndGet(n){const e=this.valueKeyMap.removeKeyAndGet(n);if(e===void 0)return;const[r,i]=e;if(this.size===1)return[this.context.empty(),i];const u=this.keyValueMap.removeKey(i);return[this.copy(u.assumeNonEmpty(),r.assumeNonEmpty()),i]}removeValues(n){if(Vt(n))return this;const e=this.toBuilder();return e.removeValues(n),e.build()}updateValueAtKey(n,e){const r=Symbol(),i=this.getValue(n,r);if(r===i)return this;const u=Lr(i,e);return Object.is(u,i)?this:this.set(n,u)}updateKeyAtValue(n,e){const r=Symbol(),i=this.getKey(e,r);if(r===i)return this;const u=Lr(i,n);return Object.is(u,i)?this:this.set(u,e)}forEach(n,e=rn()){e.halted||this.keyValueMap.forEach(n,e)}filter(n){const e=this.context.builder();return e.addEntries(this.stream().filter(n)),e.size===this.size?this:e.build()}toBuilder(){return this.context.createBuilder(this)}toArray(){return this.keyValueMap.toArray()}toString(){return this.stream().join({start:"BiMap(",sep:", ",end:")",valueToString:n=>`${n[0]} <-> ${n[1]}`})}toJSON(){return{dataType:this.context.typeTag,value:this.toArray()}}}class sW{constructor(n,e){this.keyValueContext=n,this.valueKeyContext=e,this._empty=Object.freeze(new fW(this)),this.empty=()=>this._empty,this.of=(...r)=>this.from(r),this.from=(...r)=>{if(r.length===1){const o=r[0];if(o instanceof Ur&&o.context===this)return o}let i=this.builder(),u=-1;const a=r.length;for(;++u<a;){const o=r[u];if(!Vt(o)){if(i.isEmpty&&o instanceof Ur&&o.context===this){if(u===a-1)return o;i=o.toBuilder();continue}i.addEntries(o)}}return i.build()},this.builder=()=>new tm(this),this.reducer=r=>rr.create(()=>r===void 0?this.builder():this.from(r).toBuilder(),(i,u)=>(i.addEntry(u),i),i=>i.build())}get typeTag(){return"BiMap"}get _types(){}createNonEmptyImpl(n,e){return new Ur(this,n,e)}createBuilder(n){return new tm(this,n)}}var Sl;(function(t){const c=Dt("FLAT"),l=Dt("SHALLOW"),f=Dt("DEEP");function h(){return l}t.defaultHasher=h;function g(tt){const vt=1<<tt;return Object.freeze({isValid(it){return typeof it=="string"},hash(it){const At=Math.min(it.length,vt),Kt=Math.max(1,it.length>>>tt);let Bt=21;for(let $t=0;$t<At;$t+=Kt)Bt=(Bt<<5)-Bt+it.charCodeAt($t)|0;return Bt}})}const I=g(6);function A(){return I}t.stringHasher=A;const _=Object.freeze({isValid(tt){return!0},hash(tt){return I.hash(Kn.convertAnyToString(tt))}});function M(tt){return tt===void 0?_:g(tt)}t.anyToStringHasher=M;const E=Object.freeze({isValid(tt){return!0},hash(tt){return I.hash(JSON.stringify(tt))}});function O(){return E}t.anyJsonStringHasher=O;function B(tt){const vt=1<<tt;return Object.freeze({isValid(it){return typeof it=="string"},hash(it){const At=Math.min(it.length,vt),Kt=Math.max(1,it.length>>>tt);let Bt=21;for(let $t=0;$t<At;$t+=Kt){const an=it.charAt($t).toUpperCase();Bt=(Bt<<5)-Bt+an.charCodeAt(0)|0}return Bt}})}const V=B(6);function rt(){return V}t.stringCaseInsensitiveHasher=rt;function J(tt,vt){const it=1<<vt;return Object.freeze({isValid(At){return Array.isArray(At)},hash(At){const Kt=Math.min(At.length,it),Bt=Math.max(1,At.length>>>vt);let $t=At.length|0;for(let an=0;an<Kt;an+=Bt)$t=($t<<5)-$t+(an+1)*tt.hash(At[an])|0;return $t}})}const R=J(h(),6);function N(tt){var vt,it;return tt===void 0?R:J((vt=tt.itemHasher)!==null&&vt!==void 0?vt:Ct(),(it=tt.maxStepBits)!==null&&it!==void 0?it:6)}t.arrayHasher=N;function G(tt=h(),vt=6){const it=1<<vt;return Object.freeze({isValid(At){return typeof At=="object"&&At!==null&&Symbol.iterator in At},hash(At){const Kt=Ot.from(At)[Symbol.iterator]();let Bt=[];const $t=[];let an=1,bn=0;const yn=Symbol("done");let Un,kt=0;for(;yn!==(Un=Kt.fastNext(yn));)if(kt++,bn++,bn>=an&&($t.push(Un),bn=0),$t.length>=it){Bt=$t.slice();const $=it>>>1;for(let P=0;P<$;P+=1)$t[P]=$t[P*2];$t.length=$,an*=2}Bt.length===0&&(Bt=$t);const C=J(tt,vt).hash(Bt);return(C<<5)-C+kt|0}})}const T=G(h(),6);function ut(tt){return tt===void 0?T:G(tt.itemHasher,tt.maxStepBits)}t.streamSourceHasher=ut;const pt=-Math.pow(2,31),Ft=Math.pow(2,31)-1,Nt=Object.freeze({isValid(tt){return typeof tt=="number"},hash(tt){return Number.isInteger(tt)?tt|0:Number.isNaN(tt)?Ft-1:tt===Number.POSITIVE_INFINITY?Ft:tt===Number.NEGATIVE_INFINITY?pt:_.hash(tt)}});function ct(){return Nt}t.numberHasher=ct;const st=Object.freeze({isValid(tt){return typeof tt=="boolean"},hash(tt){return tt?-37:-73}});function ft(){return st}t.booleanHasher=ft;const It=Object.freeze({isValid(tt){return typeof tt=="bigint"},hash:_.hash});function tn(){return It}t.bigintHasher=tn;function qt(tt,vt=Ct()){return Object.freeze({isValid(it){return it instanceof tt},hash(it){return vt.hash(it.valueOf())}})}t.createValueOfHasher=qt;const hn=qt(Boolean,st),En=qt(Date,Nt);function Wn(){return En}t.dateHasher=Wn;const Pn=qt(Number,Nt),jn=qt(String,I),Fn=[hn,En,Pn,jn];function x(tt){let vt=-1;const it=Fn.length;for(;++vt<it;){const At=Fn[vt];if(At.isValid(tt))return At.hash(tt)}}function X(tt,vt){return Object.freeze({isValid(it){return typeof it=="object"},hash(it){if(it===null)return-41;let At=91;for(const Kt in it){const Bt=it[Kt],$t=tt.hash(Kt),an=vt.hash(Bt);At=At^$t+an}return At}})}const at=X(Ct(),Ct()),St=X(Ct(),un());function bt(tt){return tt===void 0?at:X(tt.keyHasher,tt.valueHasher)}t.objectHasher=bt;function Ut(){return at}t.objectShallowHasher=Ut;function nn(){return St}t.objectDeepHasher=nn;function Dt(tt,vt=6){return Object.freeze({isValid(it){return!0},hash(it){switch(typeof it){case"undefined":return-31;case"bigint":return It.hash(it);case"boolean":return st.hash(it);case"number":return Nt.hash(it);case"string":return I.hash(it);case"function":case"symbol":return _.hash(it);case"object":{if(it===null)return-41;const Kt=x(it);if(Kt!==void 0)return Kt;if(tt!=="FLAT"){if(Array.isArray(it))return tt==="SHALLOW"?J(c,6).hash(it):J(this,vt).hash(it);if(T.isValid(it))return tt==="SHALLOW"?G(c,vt).hash(it):G(this,vt).hash(it);if(at.isValid(it))return tt==="SHALLOW"?at.hash(it):X(c,this).hash(it)}return _.hash(it)}}}})}function Ct(){return c}t.anyFlatHasher=Ct;function Xt(){return l}t.anyShallowHasher=Xt;function un(){return f}t.anyDeepHasher=un;function gn(tt=Xt()){return Object.freeze({isValid(vt){return Array.isArray(vt)&&vt.length===2&&tt.isValid(vt[0])&&tt.isValid(vt[1])},hash(vt){return tt.hash(vt[0])+tt.hash(vt[1])|0}})}t.tupleSymmetric=gn})(Sl||(Sl={}));class hW extends _l{constructor(n){super(),this.context=n}streamKeys(){return Ot.empty()}streamValues(){return Ot.empty()}get(n,e){return k(e)}hasKey(){return!1}set(n,e){return this.context.emptyBlock().set(n,e)}addEntry(n){return this.context.emptyBlock().addEntry(n)}addEntries(n){return this.context.from(n)}removeKeyAndGet(){}removeKey(){return this}removeKeys(){return this}modifyAt(n,e){if(e.ifNew!==void 0){const r=Cr(e.ifNew,Zt);return Zt===r?this:this.set(n,r)}return this}mapValues(){return this}updateAt(){return this}toBuilder(){return this.context.builder()}toString(){return"HashMap()"}toJSON(){return{dataType:this.context.typeTag,value:[]}}}class Ml extends Il{asNormal(){return this}streamKeys(){return this.stream().map(Kw)}streamValues(){return this.stream().map(Vw)}hasKey(n){const e=Symbol();return e!==this.get(n,e)}set(n,e){return this.addEntry([n,e])}addEntries(n){if(Vt(n))return this;const e=this.toBuilder();return e.addEntries(n),e.build().assumeNonEmpty()}removeKeys(n){if(Vt(n))return this;const e=this.toBuilder();return e.removeKeys(n),e.build()}updateAt(n,e){return this.context.isValidKey(n)?this.modifyAt(n,{ifExists:r=>Lr(r,e)}):this}removeKey(n){return this.context.hasher.isValid(n)?this.modifyAt(n,{ifExists:(e,r)=>r}):this}removeKeyAndGet(n){if(!this.context.hasher.isValid(n))return;const e=Symbol();let r=e;const i=this.modifyAt(n,{ifExists:(u,a)=>(r=u,a)});if(e!==r)return[i,r]}filter(n){const e=this.context.builder();return e.addEntries(this.stream().filter(n)),e.size===this.size?this:e.build()}toBuilder(){return this.context.createBuilder(this)}toString(){return this.stream().join({start:"HashMap(",sep:", ",end:")",valueToString:n=>`${n[0]} -> ${n[1]}`})}toJSON(){return{dataType:this.context.typeTag,value:this.toArray()}}}class Li extends Ml{constructor(n,e,r,i,u){super(),this.context=n,this.entries=e,this.entrySets=r,this.size=i,this.level=u}copy(n=this.entries,e=this.entrySets,r=this.size){return n===this.entries&&e===this.entrySets&&r===this.size?this:new Li(this.context,n,e,r,this.level)}stream(){return this.entries!==null?this.entrySets===null?Ot.fromObjectValues(this.entries):Ot.fromObjectValues(this.entries).concat(Ot.fromObjectValues(this.entrySets).flatMap(n=>n.stream())):(this.entrySets===null&&Pt(),Ot.fromObjectValues(this.entrySets).flatMap(n=>n.stream()))}get(n,e,r){if(!this.context.hasher.isValid(n))return k(e);const i=r??this.context.hash(n),u=this.context.getKeyIndex(this.level,i);if(this.entries!==null&&u in this.entries){const a=this.entries[u];return this.context.eq(a[0],n)?a[1]:k(e)}return this.entrySets!==null&&u in this.entrySets?this.entrySets[u].get(n,e,i):k(e)}addEntry(n,e=this.context.hash(n[0])){const r=this.context.getKeyIndex(this.level,e);if(this.entries!==null&&r in this.entries){const u=this.entries[r];if(this.context.eq(n[0],u[0])){if(Object.is(n[1],u[1]))return this;const f=Ln(this.entries);return f[r]=n,this.copy(f)}let a=Ln(this.entries);delete a[r];let o=!0;for(const f in a){o=!1;break}if(o&&(a=null),this.level<this.context.maxDepth){const f=this.context.block(null,null,0,this.level+1).addEntry(u).addEntry(n,e),h=this.entrySets===null?[]:Ln(this.entrySets);return h[r]=f,this.copy(a,h,this.size+1)}const c=this.context.collision(this.context.listContext.of(u,n)),l=this.entrySets===null?[]:Ln(this.entrySets);return l[r]=c,this.copy(a,l,this.size+1)}if(this.entrySets!==null&&r in this.entrySets){const u=this.entrySets[r],a=u.addEntry(n,e);if(a===u)return this;const o=Ln(this.entrySets);return o[r]=a,this.copy(void 0,o,this.size+a.size-u.size)}const i=this.entries===null?[]:Ln(this.entries);return i[r]=n,this.copy(i,void 0,this.size+1)}modifyAt(n,e,r=this.context.hash(n)){const i=this.context.getKeyIndex(this.level,r);if(this.entries!==null&&i in this.entries){const c=this.entries[i];if(this.context.eq(n,c[0])){if(e.ifExists===void 0)return this;const _=c[1],M=e.ifExists(_,Zt);if(Object.is(M,_))return this;const E=Ln(this.entries);if(Zt===M){delete E[i];for(const O in E)return this.copy(E,void 0,this.size-1);return this.size===1?this.context.empty():this.copy(null,void 0,this.size-1)}return E[i]=[n,M],this.copy(E)}if(e.ifNew===void 0)return this;const l=Cr(e.ifNew,Zt);if(Zt===l)return this;let f=Ln(this.entries);delete f[i];let h=!0;for(const _ in f){h=!1;break}if(h&&(f=null),this.level<this.context.maxDepth){const _=this.context.block(null,null,0,this.level+1).addEntry(c).set(n,l),M=this.entrySets===null?[]:Ln(this.entrySets);return M[i]=_,this.copy(f,M,this.size+1)}const g=[n,l],I=this.context.collision(this.context.listContext.of(c,g)),A=this.entrySets===null?[]:Ln(this.entrySets);return A[i]=I,this.copy(f,A,this.size+1)}if(this.entrySets!==null&&i in this.entrySets){const c=this.entrySets[i],l=c.modifyAt(n,e,r);if(l===c)return this;if(l.size===1){let h;if(this.context.isHashMapBlock(l))for(const A in l.entries){h=l.entries[A];break}else h=l.entries.first();const g=this.entries===null?[]:Ln(this.entries);g[i]=h;const I=Ln(this.entrySets);return delete I[i],this.copy(g,I,this.size-1)}const f=Ln(this.entrySets);return f[i]=l,this.copy(void 0,f,this.size+l.size-c.size)}if(e.ifNew===void 0)return this;const u=Cr(e.ifNew,Zt);if(Zt===u)return this;const a=[n,u],o=this.entries===null?[]:Ln(this.entries);return o[i]=a,this.copy(o,void 0,this.size+1)}forEach(n,e=rn()){if(e.halted)return;const{halt:r}=e;if(this.entries!==null){for(const i in this.entries)if(n(this.entries[i],e.nextIndex(),r),e.halted)return}if(this.entrySets!==null){for(const i in this.entrySets)if(this.entrySets[i].forEach(n,e),e.halted)return}}mapValues(n){const e=this.entries===null?null:$i(this.entries,i=>[i[0],n(i[1],i[0])]),r=this.entrySets===null?null:$i(this.entrySets,i=>i.mapValues(n));return new Li(this.context,e,r,this.size,this.level)}toArray(){let n=[];return this.entries!==null&&(n=Ot.fromObjectValues(this.entries).toArray()),this.entrySets!==null&&Ot.fromObjectValues(this.entrySets).forEach(e=>{n=n.concat(e.toArray())}),n}}class po extends Ml{constructor(n,e){super(),this.context=n,this.entries=e}get size(){return this.entries.length}copy(n=this.entries){return n===this.entries?this:new po(this.context,n)}stream(){return this.entries.stream()}get(n,e,r){if(!this.context.hasher.isValid(n))return k(e);const i=Symbol(),a=this.stream().find(o=>o[0]===n,void 0,i);return i===a?k(e):a[1]}addEntry(n,e){const r=this.stream().indexWhere(i=>i[0]===n[0]);return r===void 0?this.copy(this.entries.append(n)):this.copy(this.entries.updateAt(r,i=>i[1]===n[1]?i:n))}modifyAt(n,e,r){const i=this.stream().indexWhere(f=>f[0]===n);if(i===void 0){if(e.ifNew===void 0)return this;const f=Cr(e.ifNew,Zt);if(Zt===f)return this;const h=this.entries.append([n,f]);return this.copy(h)}if(e.ifExists===void 0)return this;const a=this.entries.get(i,Pt)[1],o=e.ifExists(a,Zt);if(Zt===o){const f=this.entries.remove(i,1).assumeNonEmpty();return this.copy(f)}if(Object.is(o,a))return this;const c=[n,o],l=this.entries.updateAt(i,c);return this.copy(l)}forEach(n,e){e.halted||this.entries.forEach(n,e)}mapValues(n){const e=this.entries.map(r=>[r[0],n(r[1],r[0])]);return new po(this.context,e)}toArray(){return this.entries.toArray()}}class dW{constructor(){this.map=new Map}get(n){return this.map.get(n)}setAndReturn(n,e){return this.map.set(n,e),e}}class vW extends _l{constructor(n){super(),this.context=n}streamRange(){return Ot.empty()}first(n){return k(n)}last(n){return k(n)}get(n,e){return k(e)}prepend(n){return this.context.leafBlock([n])}append(n){return this.context.leafBlock([n])}take(){return this}drop(){return this}slice(){return this}sort(){return this}splice(n){return n.insert===void 0?this:this.context.from(n.insert)}insert(n,e){return this.splice({insert:e})}remove(){return this}concat(...n){return this.context.from(...n)}repeat(){return this}rotate(){return this}padTo(n,e){return n<=0?this:this.append(e).repeat(n)}updateAt(){return this}filter(){return this}collect(){return this}map(){return this}mapPure(){return this}flatMap(){return this}reversed(){return this}toArray(){return[]}toBuilder(){return this.context.builder()}structure(){return"<empty>"}toString(){return"List()"}toJSON(){return{dataType:this.context.typeTag,value:[]}}}function mW(t){return Object.freeze(new vW(t))}class nm{constructor(n,e,r,i){this.context=n,this._length=e,this.children=r,this.level=i}get length(){return this._length}set length(n){this._length=n}get nrChildren(){return this.children.length}get mutateChildren(){return this.children}get childrenInMax(){return this.children.length<=this.context.maxBlockSize}get childrenInMin(){return this.children.length>=this.context.minBlockSize}get canAddChild(){return this.children.length<this.context.maxBlockSize}copy(n,e=this.length){return n===this.children&&e===this.length?this:this.context.nonLeafBlock(e,n,this.level)}copy2(n,e=this.length){return this.context.nonLeafBlock(e,n,this.level)}stream(n=!1){return Ot.fromArray(this.children,void 0,n).flatMap(e=>e.stream(n))}streamRange(n,e=!1){const r=de.getIndicesFor(n,this.length);if(r==="all")return Ot.fromArray(this.children,void 0,e).flatMap(I=>I.stream(e));if(r==="empty")return Ot.empty();const[i,u]=r,[a,o]=this.getCoordinates(i,!1,!0),[c,l]=this.getCoordinates(u,!1,!0);if(a===c)return this.children[a].streamRange({start:o,end:l},e);const f=this.children[a],h=this.children[c];return Ot.fromArray(this.children,{start:a,end:c},e).flatMap(I=>I===f?I.streamRange({start:o},e):I===h?I.streamRange({end:l},e):I.stream(e))}get(n){const[e,r]=this.getCoordinates(n,!1,!1);return this.getChild(e).get(r,Pt)}prepend(n){return this.canAddChild?this.prependInternal(n):this.context.nonLeafTree(this.copy([n],n.length),this,null,this.level)}append(n){return this.canAddChild?this.appendInternal(n):this.context.nonLeafTree(this,this.copy([n],n.length),null,this.level)}dropFirst(){const n=this.children[0];if(this.nrChildren===1)return[null,n];const e=qw(this.children),r=this.length-n.length;return[this.copy(e,r),n]}dropLast(){const n=Oi(this.children);if(this.nrChildren===1)return[null,n];const e=Dw(this.children),r=this.length-n.length;return[this.copy(e,r),n]}concat(n){if(n.context.isNonLeafBlock(n))return n===this&&this.children.length>this.context.minBlockSize?this.context.nonLeafTree(this,this,null,this.level):this.concatBlock(n);if(this.context.isNonLeafTree(n))return this.concatTree(n);Pt()}concatBlock(n){return this.concatChildren(n)._mutateNormalize()}concatTree(n){if(this.nrChildren+n.left.nrChildren<=this.context.maxBlockSize){const u=this.concatChildren(n.left)._mutateRebalance();return n.copy(u)}if(n.left.childrenInMin){const u=n.prependMiddle(n.left);return n.copy(this,void 0,u)}const e=this.concatChildren(n.left)._mutateRebalance();if(e.childrenInMax)return n.copy(e);const r=e._mutateSplitRight(e.nrChildren-this.context.maxBlockSize),i=n.prependMiddle(r);return n.copy(e,void 0,i)}prependInternal(n){const e=Hv(this.children,n);return this.copy(e,this.length+n.length)}appendInternal(n){const e=Vv(this.children,n);return this.copy(e,this.length+n.length)}takeChildren(n){if(n<=0)return null;if(n>=this.nrChildren)return this;const e=ir(this.children,n,this.context.maxBlockSize),r=e.reduce((i,u)=>i+u.length,0);return this.copy(e,r)}dropChildren(n){if(n<=0)return this;if(n>=this.nrChildren)return null;const e=ir(this.children,0,n),r=e.reduce((i,u)=>i+u.length,0);return this.copy(e,r)}concatChildren(n){const e=pu(this.children,n.children);return this.copy(e,this.length+n.length)}takeInternal(n){const[e,r]=this.getCoordinates(n,!0,!1);e>=this.nrChildren&&Pt();const i=this.getChild(e);return[this.takeChildren(e),i,r]}dropInternal(n){const[e,r]=this.getCoordinates(n,!1,!1);e>=this.nrChildren&&Pt();const i=this.getChild(e);return[this.dropChildren(e+1),i,r]}getChild(n){return this.children[n]}updateAt(n,e){const[r,i]=this.getCoordinates(n,!1,!1),u=Jv(this.children,r,a=>a.updateAt(i,e));return this.copy(u)}forEach(n,e){if(e.halted)return;const r=this.children.length;let i=-1;const u=this.children;for(;!e.halted&&++i<r;)u[i].forEach(n,e)}mapPure(n,e=!1,r=this.context.createCacheMap()){const i=r.get(this);if(i)return i;const a=(e?gu:vo)(this.children,o=>o.mapPure(n,e,r));return r.setAndReturn(this,this.copy2(a))}map(n,e=!1,r=0){let i=r;const u=this.children;if(e){const a=[];let o=u.length;for(;--o>=0;){const c=u[o];a.push(c.map(n,!0,i)),i+=c.length}return this.copy2(a)}else{const a=[];let o=-1;const c=u.length;for(;++o<c;){const l=u[o];a.push(l.map(n,!1,i)),i+=l.length}return this.copy2(a)}}reversed(n=this.context.createCacheMap()){const e=n.get(this);if(e!==void 0)return e;const r=gu(this.children,u=>u.reversed(n)),i=this.copy(r,this.length);return n.setAndReturn(this,i)}toArray(n,e=!1){let r=0,i=this.length-1;if(n!==void 0){const I=de.getIndicesFor(n,this.length);if(I==="empty")return[];I!=="all"&&(r=I[0],i=I[1])}const[u,a]=this.getCoordinates(r,!1,!0),[o,c]=this.getCoordinates(i,!1,!0),l=this.children;if(u===o)return l[u].toArray({start:a,end:c},e);const f=l[u].toArray({start:a},e),h=l[o].toArray({end:c},e);if(e){let I=h;for(let A=o-1;A>u;A--)I=pu(I,l[A].toArray(void 0,!0));return pu(I,f)}let g=f;for(let I=u+1;I<o;I++)g=pu(g,l[I].toArray());return pu(g,h)}getCoordinates(n,e,r){const i=e?1:0;let u=n-i;const a=this.nrChildren,o=this.length,c=this.children;if(u>=o)return r?[a-1,Oi(c).length-1]:[a,0];const l=this.context.blockSizeBits<<this.level-1,f=1<<l,h=a*f;if(o===h){const g=u>>>l,I=f-1,A=u&I;return[g,A+i]}if(u<=o>>>1)for(let g=0;g<a;g++){const I=c[g].length;if(u<I)return[g,u+i];u-=I}else{let g=o-u;for(let I=a-1;I>=0;I--){const A=c[I].length;if(g<=A)return[I,A-g+i];g-=A}}Pt()}_mutateRebalance(){let n=0;const e=this.children;for(;n<e.length-1;){const r=e[n],i=e[n+1];if(r.children.length+i.children.length<=this.context.maxBlockSize){const u=r.concatChildren(i);this.mutateChildren.splice(n,2,u)}else n++}return this}_mutateNormalize(){if(this.childrenInMax)return this;const n=this._mutateSplitRight();return this.context.nonLeafTree(this,n,null,this.level)}_mutateSplitRight(n=this.children.length>>>1){const e=this.mutateChildren.splice(n);let r=0;for(let i=0;i<e.length;i++)r+=e[i].length;return this.length-=r,this.copy(e,r)}structure(){return`
${" ".padEnd(this.level*2)}<NLBlock(${this.level}) len:${this.length} c:${this.nrChildren} ${this.children.map(e=>e.structure()).join(" ")}>`}createBlockBuilder(){return this.context.nonLeafBlockBuilderSource(this)}createNonLeafBuilder(){return this.context.nonLeafBlockBuilderSource(this)}}class go{constructor(n,e){this.context=n,this.builder=e,this._lock=0,this.get=(r,i)=>this.builder===void 0||r>=this.length||-r>this.length?k(i):r<0?this.get(this.length+r,i):this.builder.get(r,i),this.updateAt=(r,i,u)=>(this.checkLock(),this.builder===void 0||r>=this.length||-r>this.length?k(u):r<0?this.updateAt(this.length+r,i):this.builder.updateAt(r,i)),this.set=(r,i,u)=>this.updateAt(r,i,u),this.prepend=r=>{if(this.checkLock(),this.builder===void 0){this.builder=this.context.leafBlockBuilder([r]);return}this.builder.prepend(r),this.builder=this.builder.normalized()},this.append=r=>{if(this.checkLock(),this.builder===void 0){this.builder=this.context.leafBlockBuilder([r]);return}this.builder.append(r),this.builder=this.builder.normalized()},this.appendAll=r=>{if(this.checkLock(),Array.isArray(r)){this.appendArray(r);return}Ot.from(r).forEachPure(this.append)},this.insert=(r,i)=>{if(this.checkLock(),this.builder===void 0)this.builder=this.context.leafBlockBuilder([i]);else{if(r===0)return this.prepend(i);if(r>this.length||-r>this.length+1)return this.append(i);if(r<0)return this.insert(this.length+r,i);this.builder.insert(r,i),this.builder=this.builder.normalized()}},this.remove=(r,i)=>{if(this.checkLock(),this.builder===void 0||r>=this.length||-r>this.length)return k(i);if(r<0)return this.remove(this.length+r);const u=this.builder.remove(r);return this.builder=this.builder.normalized(),u},this.forEach=(r,i=rn())=>{if(this.builder!==void 0){if(i.halted)return;this._lock++;try{this.builder.forEach(r,i)}finally{this._lock--}}},this.build=()=>this.builder===void 0?this.context.empty():this.builder.build(),this.buildMap=r=>this.builder===void 0?this.context.empty():this.builder.buildMap(r)}checkLock(){this._lock&&pl()}get length(){var n,e;return(e=(n=this.builder)===null||n===void 0?void 0:n.length)!==null&&e!==void 0?e:0}get isEmpty(){return this.length===0}appendFullOrLastWindow(n){const e=this.context.leafBlockBuilder(n);if(this.builder===void 0){this.builder=e;return}if(this.context.isLeafBlockBuilder(this.builder)){this.builder=this.context.leafTreeBuilder(this.builder,e,void 0,this.builder.length+e.length);return}if(this.context.isLeafTreeBuilder(this.builder)){this.builder.appendMiddle(this.builder.right),this.builder.right=e,this.builder.length+=e.length;return}Pt()}appendArray(n){let e=0;const r=this.context.maxBlockSize;if(this.builder!==void 0){if(this.context.isLeafBlockBuilder(this.builder)){if(e=r-this.builder.length,e>0){const i=n.slice(0,e);this.builder.children=this.builder.children.concat(i)}}else if(this.context.isLeafTreeBuilder(this.builder)){const i=this.builder.left;if(e=r-i.length,e>0){const u=n.slice(0,e);i.children=i.children.concat(u)}}}for(;e<n.length;){const i=e+r,u=n.slice(e,i);this.appendFullOrLastWindow(u),e=i}}}class Rl{constructor(n,e,r){this.context=n,this.source=e,this._children=r}get level(){return 0}get children(){return this._children===void 0&&this.source!==void 0&&(this.context.isReversedLeafBlock(this.source)?this._children=Fr(this.source.children):this._children=this.source.children.slice()),this._children}set children(n){this.source=void 0,this._children=n}get length(){var n,e;return(e=(n=this.source)===null||n===void 0?void 0:n.length)!==null&&e!==void 0?e:this.children.length}get nrChildren(){return this.length}copy(n){return this.context.leafBlockBuilder(n)}normalized(){if(this.nrChildren<=0)return;if(this.nrChildren<=this.context.maxBlockSize)return this;const n=this.length,e=this.splitRight();return this.context.leafTreeBuilder(this,e,void 0,n)}get(n,e){return this.source!==void 0?this.source.get(n,e):this.children[n]}updateAt(n,e){const r=this.children[n],i=Lr(r,e);return Object.is(r,i)||(this.children[n]=i,this.source=void 0),r}prepend(n){this.children.unshift(n),this.source=void 0}append(n){this.children.push(n),this.source=void 0}insert(n,e){this.children.splice(n,0,e),this.source=void 0}remove(n){const[e]=this.children.splice(n,1);return this.source=void 0,e}dropFirst(){const n=this.children.shift();return this.source=void 0,n}dropLast(){const n=this.children.pop();return this.source=void 0,n}build(){var n;return(n=this.source)!==null&&n!==void 0?n:this.context.leafBlock(this.children.slice())}buildMap(n){var e,r;return(r=(e=this.source)===null||e===void 0?void 0:e.map(n))!==null&&r!==void 0?r:this.context.leafBlock(this.children.map(n))}splitRight(n=this.nrChildren>>>1){const e=this.children.splice(n);return this.source=void 0,this.copy(e)}concat(n,e=!1){this.children=e?n.children.concat(this.children):this.children.concat(n.children)}forEach(n,e=rn()){Gv(this.children,n,e)}}class Al{constructor(n,e,r,i,u){var a;u===void 0&&(u=(a=r?.length)!==null&&a!==void 0?a:0),this.context=n,this.level=e,this.source=r,this._children=i,this.length=u}get children(){return this.source!==void 0&&(this._children=this.source.children.map(n=>n.createBlockBuilder()),this.source=void 0),this._children}set children(n){this.source!==void 0&&(this._children=this.source.children.map(e=>e.createBlockBuilder()),this.source=void 0),this._children=n}get nrChildren(){var n,e;return(e=(n=this.source)===null||n===void 0?void 0:n.nrChildren)!==null&&e!==void 0?e:this.children.length}copy(n,e){return this.context.nonLeafBlockBuilder(this.level,n,e)}getCoordinates(n){const e=this.nrChildren,r=this.length;if(n>=r){const c=Oi(this.children);return[e-1,c.length]}const i=this.context.blockSizeBits<<this.level-1,u=1<<i,a=e*u;if(r===a){const c=n>>>i,l=u-1,f=n&l;return[c,f]}const o=this.children;if(n<=r>>>1){let c=n;for(let l=0;l<e;l++){const f=o[l].length;if(c<f)return[l,c];c-=f}}else{let c=r-n;for(let l=e-1;l>=0;l--){const f=o[l].length;if(c<=f)return[l,f-c];c-=f}}Pt()}normalized(){if(this.nrChildren===0)return;const n=this.context,e=n.maxBlockSize;if(this.nrChildren>e){const r=this.length;return n.nonLeafTreeBuilder(this.level,this,this.splitRight(),void 0,r)}return this}get(n){if(this.source!==void 0)return this.source.get(n);const[e,r]=this.getCoordinates(n);return this.children[e].get(r,Pt)}updateAt(n,e,r){const[i,u]=this.getCoordinates(n);return this.children[i].updateAt(u,e,r)}prepend(n){this.length+=n.length,this.children.unshift(n)}append(n){this.length+=n.length,this.children.push(n)}insert(n,e){const[r,i]=this.getCoordinates(n);this.length++;const u=this.children[r];if(u.insert(i,e),u.nrChildren<=this.context.maxBlockSize)return;const a=this.children[r-1];if(a!==void 0&&a.nrChildren<this.context.maxBlockSize){const l=u.dropFirst();a.append(l);return}const o=this.children[r+1];if(o!==void 0&&o.nrChildren<this.context.maxBlockSize){const l=u.dropLast();o.prepend(l);return}const c=u.splitRight();this.children.splice(r+1,0,c)}remove(n){const[e,r]=this.getCoordinates(n);this.length--;const i=this.children[e],u=i.remove(r);if(i.nrChildren>=this.context.minBlockSize||this.nrChildren<=1)return u;const a=this.children[e-1];if(a!==void 0&&a.nrChildren>this.context.minBlockSize){const c=a.dropLast();return i.prepend(c),u}const o=this.children[e+1];if(o!==void 0&&o.nrChildren>this.context.minBlockSize){const c=o.dropFirst();return i.append(c),u}return a!==void 0?(a.concat(i),this.children.splice(e,1),u):(i.concat(o),this.children.splice(e+1,1),u)}dropFirst(){const n=this.children.shift();return this.length-=n.length,n}dropLast(){const n=this.children.pop();return this.length-=n.length,n}modifyFirstChild(n){const e=n(this.first());return e!==void 0&&(this.length+=e),e}modifyLastChild(n){const e=n(this.last());return e!==void 0&&(this.length+=e),e}first(){return this.children[0]}last(){return Oi(this.children)}splitRight(n=this.nrChildren>>>1){const e=this.children.splice(n),r=this.length;this.length=0;for(let u=0;u<this.nrChildren;u++)this.length+=this.children[u].length;const i=r-this.length;return this.copy(e,i)}concat(n,e=!1){this.children=e?n.children.concat(this.children):this.children.concat(n.children),this.length+=n.length}forEach(n,e=rn()){if(e.halted)return;let r=-1;const i=this.children.length;for(;!e.halted&&++r<i;)this.children[r].forEach(n,e)}build(){return this.source!==void 0?this.source:this.context.nonLeafBlock(this.length,this.children.map(n=>n.build()),this.level)}buildMap(n){return this.source!==void 0?this.source.map(n):this.context.nonLeafBlock(this.length,this.children.map(e=>e.buildMap(n)),this.level)}}function yo(t,n,e=!1){const r=de.getIndicesFor(n??{start:0},t.length);if(r==="empty")return Ot.empty();if(r==="all"){const I=t.right.stream(e),A=t.left.stream(e);if(t.middle===null)return e?I.concat(A):A.concat(I);const _=t.middle.stream(e);return e?I.concat(_,A):A.concat(_,I)}const[i,u]=r,a=t.left.streamRange({start:i,end:u},e);if(t.middle===null){const I=Math.max(0,i-t.left.length),A=u-t.left.length;if(A<0)return a;const _=t.right.streamRange({start:I,end:A},e);return e?_.concat(a):a.concat(_)}const o=Math.max(0,i-t.left.length),c=u-t.left.length;if(c<0)return a;const l=t.middle.streamRange({start:o,end:c},e),f=Math.max(0,o-t.middle.length),h=c-t.middle.length;if(h<0)return e?l.concat(a):a.concat(l);const g=t.right.streamRange({start:f,end:h},e);return e?g.concat(l,a):a.concat(l,g)}function em(t,n){const e=n-t.left.length;if(e<0)return t.left.get(n,Pt);if(t.middle===null)return t.right.get(e,Pt);const r=e-t.middle.length;return r<0?t.middle.get(e):t.right.get(r,Pt)}function rm(t,n){if(t.left.canAddChild){const i=t.left.prependInternal(n);return t.copy(i)}if(t.middle===null&&t.right.canAddChild){if(t.context.isReversedLeafBlock(t.left)){const l=ir(t.left.children,0,1);l.push(n);const f=t.left.children[0],h=t.left.length-t.getChildLength(f)+t.getChildLength(n),g=t.left.copy(l,h),I=t.right.prependInternal(f);return t.copy(g,I)}const i=ir(t.left.children,t.context.maxBlockSize-1,1);i.unshift(n);const u=Oi(t.left.children),a=t.left.length-t.getChildLength(u)+t.getChildLength(n),o=t.left.copy(i,a),c=t.right.prependInternal(u);return t.copy(o,c)}const e=t.prependMiddle(t.left),r=t.left.copy([n],t.getChildLength(n));return t.copy(r,void 0,e)}function im(t,n){if(t.right.canAddChild){const i=t.right.appendInternal(n);return t.copy(void 0,i)}if(t.middle===null&&t.left.canAddChild){if(t.context.isReversedLeafBlock(t.right)){const l=ir(t.right.children,t.right.children.length-1,1);l.unshift(n);const f=Oi(t.right.children),h=t.right.length-t.getChildLength(f)+t.getChildLength(n),g=t.right.copy(l,h),I=t.left.appendInternal(f);return t.copy(I,g)}const i=ir(t.right.children,0,1);i.push(n);const u=t.right.children[0],a=t.right.length-t.getChildLength(u)+t.getChildLength(n),o=t.right.copy(i,a),c=t.left.appendInternal(u);return t.copy(c,o)}const e=t.appendMiddle(t.right),r=t.right.copy([n],t.getChildLength(n));return t.copy(void 0,r,e)}function um(t,n,e){const r=n-t.left.length;if(r<0){const a=t.left.updateAt(n,e);return t.copy(a)}if(t.middle===null){const a=t.right.updateAt(r,e);return t.copy(void 0,a)}const i=r-t.middle.length;if(i>=0){const a=t.right.updateAt(i,e);return t.copy(void 0,a)}const u=t.middle.updateAt(r,e);return t.copy(void 0,void 0,u)}function am(t,n,e=!1){const r=de.getIndicesFor(n??{start:0},t.length);if(r==="empty")return[];if(r==="all"){const I=t.left.toArray(void 0,e),A=t.right.toArray(void 0,e);if(t.middle===null)return e?A.concat(I):I.concat(A);const _=t.middle.toArray(void 0,e);return e?A.concat(_,I):I.concat(_,A)}const[i,u]=r,a=t.left.toArray({start:i,end:u},e);if(t.middle===null){const I=Math.max(0,i-t.left.length),A=u-t.left.length;if(A<0)return a;const _=t.right.toArray({start:I,end:A},e);return e?_.concat(a):a.concat(_)}const o=Math.max(0,i-t.left.length),c=u-t.left.length;if(c<0)return a;const l=t.middle.toArray({start:o,end:c},e),f=Math.max(0,o-t.middle.length),h=c-t.middle.length;if(h<0)return e?l.concat(a):a.concat(l);const g=t.right.toArray({start:f,end:h},e);return e?g.concat(l,a):a.concat(l,g)}function om(t,n,e){e.halted||(t.left.forEach(n,e),!e.halted&&(t.middle!==null&&t.middle.forEach(n,e),!e.halted&&t.right.forEach(n,e)))}class cm{constructor(n,e,r,i,u,a){var o;a===void 0&&(a=e.length+r.length+((o=i?.length)!==null&&o!==void 0?o:0)),this.context=n,this.left=e,this.right=r,this.middle=i,this.level=u,this.length=a}getChildLength(n){return n.length}copy(n=this.left,e=this.right,r=this.middle){return n===this.left&&e===this.right&&r===this.middle?this:this.context.nonLeafTree(n,e,r,this.level)}copy2(n,e,r){return this.context.nonLeafTree(n,e,r,this.level)}stream(n=!1){return yo(this,void 0,n)}streamRange(n,e=!1){return yo(this,n,e)}get(n){return em(this,n)}prepend(n){return rm(this,n)}append(n){return im(this,n)}prependMiddle(n){var e,r;return n.level!==this.level&&Pt(),(r=(e=this.middle)===null||e===void 0?void 0:e.prepend(n))!==null&&r!==void 0?r:this.context.nonLeafBlock(n.length,[n],this.level+1)}appendMiddle(n){var e,r;return n.level!==this.level&&Pt(),(r=(e=this.middle)===null||e===void 0?void 0:e.append(n))!==null&&r!==void 0?r:this.context.nonLeafBlock(n.length,[n],this.level+1)}dropFirst(){const[n,e]=this.left.dropFirst();if(n===null){if(this.middle===null)return[this.right,e];const[i,u]=this.middle.dropFirst();return[this.copy(u,void 0,i)._normalize(),e]}return[this.copy(n)._normalize(),e]}dropLast(){const[n,e]=this.right.dropLast();if(n===null){if(this.middle===null)return[this.left,e];const[i,u]=this.middle.dropLast();return[this.copy(void 0,u,i)._normalize(),e]}return[this.copy(void 0,n)._normalize(),e]}takeInternal(n){const e=n-this.left.length;if(e<=0)return this.left.takeInternal(n);if(this.middle===null){const[o,c,l]=this.right.takeInternal(e);return o===null?[this.left,c,l]:[this.left.concat(o),c,l]}const r=e-this.middle.length;if(r>0){const[o,c,l]=this.right.takeInternal(r);if(o===null){const[h,g]=this.middle.dropLast();return[this.copy(void 0,g,h)._normalize(),c,l]}return[this.copy(void 0,o)._normalize(),c,l]}const[i,u]=this.middle.takeInternal(e);return this.copy(void 0,u,i)._normalize().takeInternal(n)}dropInternal(n){const e=n-this.left.length;if(this.middle===null)if(e<0){const[c,l,f]=this.left.dropInternal(n);return[c===null?this.right:c.concat(this.right),l,f]}else return this.right.dropInternal(e);if(e<0){const[c,l,f]=this.left.dropInternal(n);if(c===null){const[g,I]=this.middle.dropFirst();return[this.copy(I,void 0,g)._normalize(),l,f]}return[this.copy(c),l,f]}const r=e-this.middle.length;if(r>=0)return this.right.dropInternal(r);const[i,u,a]=this.middle.dropInternal(e);return this.copy(u,void 0,i)._normalize().dropInternal(a)}concat(n){if(this.context.isNonLeafBlock(n))return this.concatBlock(n);if(this.context.isNonLeafTree(n))return this.concatTree(n);Pt()}concatBlock(n){if(n.level!==this.level&&Pt(),this.right.nrChildren+n.nrChildren<=this.context.maxBlockSize){const u=this.right.concatChildren(n);return this.copy(void 0,u)}if(this.right.childrenInMin){const u=this.appendMiddle(this.right);return this.copy(void 0,n,u)._normalize()}const e=this.right.concatChildren(n),r=e._mutateSplitRight(this.context.maxBlockSize),i=this.appendMiddle(e);return this.copy(void 0,r,i)._normalize()}concatTree(n){if(this.right.nrChildren+n.left.nrChildren<=this.context.maxBlockSize){const a=this.right.concatChildren(n.left),o=this.appendMiddle(a),c=n.middle===null?o:o.concat(n.middle);return this.copy(void 0,n.right,c)._normalize()}if(this.right.childrenInMin&&n.left.childrenInMin){const a=this.appendMiddle(this.right).append(n.left),o=n.middle===null?a:a.concat(n.middle);return this.copy(void 0,n.right,o)._normalize()}const e=this.right.concatChildren(n.left),r=e._mutateSplitRight(),i=this.appendMiddle(e).append(r),u=n.middle===null?i:i.concat(n.middle);return this.copy(void 0,n.right,u)._normalize()}updateAt(n,e){return um(this,n,e)}forEach(n,e){e.halted||om(this,n,e)}mapPure(n,e=!1,r=this.context.createCacheMap()){const i=r.get(this);if(i)return i;const u=this.left.mapPure(n,e,r),a=this.middle===null?null:this.middle.mapPure(n,e,r),o=this.right.mapPure(n,e,r),c=e?this.copy2(o,u,a):this.copy2(u,o,a);return r.setAndReturn(this,c)}map(n,e=!1,r=0){let i=r;const u=this.left,a=this.middle,o=this.right;if(e){const h=o.map(n,!0,i);i+=o.length;const g=a===null?null:a.map(n,!0,i);a!==null&&(i+=a.length);const I=u.map(n,!0,i);return this.copy2(h,I,g)}const c=u.map(n,!1,i);i+=u.length;const l=a===null?null:a.map(n,!1,i);a!==null&&(i+=a.length);const f=o.map(n,!1,i);return this.copy2(c,f,l)}reversed(n=this.context.createCacheMap()){var e,r;const i=n.get(this);if(i!==void 0)return i;const u=(r=(e=this.middle)===null||e===void 0?void 0:e.reversed(n))!==null&&r!==void 0?r:null,a=this.right.reversed(n),o=this.left===this.right?a:this.left.reversed(n),c=this.copy(a,o,u);return n.setAndReturn(this,c)}_normalize(){if(this.middle===null){if(this.left.nrChildren+this.right.nrChildren<=this.context.maxBlockSize)return this.left.concatChildren(this.right)}else if(this.context.isNonLeafBlock(this.middle)){const n=this.middle.getChild(0);if(this.left.nrChildren+n.nrChildren<=this.context.maxBlockSize){const r=this.middle.dropFirst(),i=r[0],u=r[1];return this.copy(this.left.concatChildren(u),void 0,i)}const e=this.middle.getChild(this.middle.nrChildren-1);if(this.right.nrChildren+e.nrChildren<=this.context.maxBlockSize){const r=this.middle.dropLast(),i=r[0],u=r[1];return this.copy(void 0,u.concatChildren(this.right),i)}}return this}toArray(n,e=!1){return am(this,n,e)}structure(){return`
${" ".padEnd(this.level*2)}<NLTree(${this.level}) len:${this.length}
  l:${this.left.structure()}
  m:${this.middle&&this.middle.structure()}
  r:${this.right.structure()}
>`}createNonLeafBuilder(){return this.context.nonLeafTreeBuilderSource(this)}}class lm extends Il{[Symbol.iterator](){return this.stream()[Symbol.iterator]()}get isEmpty(){return!1}nonEmpty(){return!0}assumeNonEmpty(){return this}asNormal(){return this}first(){return this.get(0,Pt)}last(){return this.get(this.length-1,Pt)}slice(n,e){const r=de.getIndicesFor(n,this.length);if(r==="all")return e?this.reversed():this;if(r==="empty")return this.context.empty();const[i,u]=r,a=this.drop(i).take(u-i+1);return e?a.reversed():a}sort(n){const e=this.toArray().sort(n?.compare);return this.context.from(e)}splice({index:n=0,remove:e=0,insert:r}={}){return n<0?this.splice({index:this.length+n,remove:e,insert:r}):r===void 0?e<=0?this:this.take(n).concat(this.drop(n+e)):e<=0&&Vt(r)?this:this.take(n).concat(r,this.drop(n+e))}insert(n,e){return this.splice({index:n,insert:e})}remove(n,e=1){return this.splice({index:n,remove:e})}repeat(n){if(n<=-1)return this.reversed().repeat(-n);if(n<=1)return this;const e=n>>>1,r=this.concat(this).repeat(e);return n%2===0?r:r.concat(this)}rotate(n){let e=n%this.length;return e===0?this:(e<0&&(e+=this.length),this.take(-e).concat(this.drop(-e)).assumeNonEmpty())}padTo(n,e,r=0){if(this.length>=n)return this;const i=n-this.length,u=Math.max(0,Math.min(100,r))/100,a=Math.round(i*u);return this.context.leafBlock([e]).repeat(i).splice({index:a,insert:this}).assumeNonEmpty()}filter(n,e,r=!1){const i=e===void 0?this.stream(r):this.streamRange(e,r),u=this.context.from(i.filter(n));return u.length!==this.length?u:r?this.reversed():this}collect(n,e,r=!1){const i=e===void 0?this.stream(r):this.streamRange(e,r);return this.context.from(i.collect(n))}flatMap(n,e,r=!1){let i=this.context.empty();const a=(e===void 0?this.stream(r):this.streamRange(e,r))[Symbol.iterator]();let o=0;const c=Symbol("Done");let l;for(;c!==(l=a.fastNext(c));)i=i.concat(n(l,o++));return i}toBuilder(){return this.context.createBuilder(this)}toString(){return this.stream().join({start:"List(",sep:", ",end:")"})}toJSON(){return{dataType:this.context.typeTag,value:this.toArray()}}}class wl extends lm{constructor(n,e){super(),this.context=n,this.children=e}get length(){return this.children.length}get level(){return 0}copy(n){return n===this.children?this:this.context.leafBlock(n)}copy2(n){return this.context.leafBlock(n)}get mutateChildren(){return this.children}get childrenInMax(){return this.children.length<=this.context.maxBlockSize}get childrenInMin(){return this.children.length>=this.context.minBlockSize}get canAddChild(){return this.children.length<this.context.maxBlockSize}stream(n=!1){return Ot.fromArray(this.children,void 0,n)}streamRange(n,e=!1){return Ot.fromArray(this.children,n,e)}get(n,e){return n>=this.length||-n>this.length?k(e):n<0?this.get(this.length+n,e):this.children[n]}prepend(n){return this.length===1&&!this.context.isReversedLeafBlock(this)?this.context.reversedLeaf([this.children[0],n]):this.canAddChild?this.prependInternal(n):this.context.leafTree(this.copy([n]),this,null)}append(n){return this.canAddChild?this.appendInternal(n):this.context.leafTree(this,this.copy([n]),null)}prependInternal(n){const e=Hv(this.children,n);return this.copy(e)}appendInternal(n){const e=Vv(this.children,n);return this.copy(e)}take(n){return n===0?this.context.empty():n>=this.length||-n>this.length?this:n<0?this.drop(this.length+n):this.takeChildren(n)}drop(n){return n===0?this:n>=this.length||-n>this.length?this.context.empty():n<0?this.take(this.length+n):this.dropChildren(n)}takeChildren(n){if(n>=this.length)return this;const e=ir(this.children,n,this.context.maxBlockSize);return this.copy(e)}dropChildren(n){if(n<=0)return this;const e=ir(this.children,0,n);return this.copy(e)}concatChildren(n){const e=this.context.isReversedLeafBlock(n)?Fr(n.children):n.children,r=this.children.concat(e);return this.copy(r)}concat(...n){const e=this.context.from(...n);if(e.nonEmpty()){if(this.context.isLeafBlock(e))return e===this&&this.children.length>this.context.minBlockSize?this.context.leafTree(this,this,null):this.concatBlock(e);if(this.context.isLeafTree(e))return this.concatTree(e);Pt()}return this}concatBlock(n){return this.concatChildren(n)._mutateNormalize()}concatTree(n){if(this.length+n.left.length<=this.context.maxBlockSize){const u=this.concatChildren(n.left);return n.copy(u)}if(n.left.childrenInMin){const u=n.prependMiddle(n.left);return n.copy(this,void 0,u)}const e=this.concatChildren(n.left),r=e._mutateSplitRight(e.length-this.context.maxBlockSize),i=n.prependMiddle(r);return n.copy(e,void 0,i)}updateAt(n,e){if(n>=this.length||-n>this.length)return this;if(n<0)return this.updateAt(this.length+n,e);const r=Jv(this.children,n,i=>Lr(i,e));return this.copy(r)}forEach(n,e=rn()){e.halted||Gv(this.children,n,e,this.context.isReversedLeafBlock(this))}mapPure(n,e=!1,r=this.context.createCacheMap()){const i=r.get(this);if(i)return i;const a=(e?gu:vo)(this.children,n);return r.setAndReturn(this,this.copy2(a))}map(n,e=!1,r=0){if(e){const u=gu(this.children,n,r);return this.copy2(u)}const i=vo(this.children,n,r);return this.copy2(i)}reversed(n=this.context.createCacheMap()){if(this.length===1)return this;const e=n.get(this);if(e!==void 0)return e;const r=this.context.reversedLeaf(this.children);return n.setAndReturn(this,r)}_mutateNormalize(){if(this.childrenInMax)return this;const n=this._mutateSplitRight();return this.context.leafTree(this,n,null)}_mutateSplitRight(n=this.children.length>>>1){const e=this.mutateChildren.splice(n);return this.copy(e)}toArray(n,e=!1){let r;if(n===void 0)r=this.children;else{const i=de.getIndicesFor(n,this.length);if(i==="all")r=this.children;else if(i==="empty")r=[];else{const[u,a]=i;return e?Fr(this.children,u,a):this.children.slice(u,a+1)}}return e?Fr(r):r.slice()}structure(){return`<Leaf ${this.length}>`}createBlockBuilder(){return this.context.leafBlockBuilderSource(this)}}class fm extends wl{copy(n){return n===this.children?this:this.context.reversedLeaf(n)}copy2(n){return this.context.reversedLeaf(n)}stream(n=!1){return Ot.fromArray(this.children,void 0,!n)}streamRange(n,e=!1){const r=de.getIndicesFor(n,this.length);if(r==="empty")return Ot.empty();if(r==="all")return this.stream(e);const i=this.length-1-r[1],u=this.length-1-r[0];return Ot.fromArray(this.children,{start:i,end:u},!e)}get(n,e){return n>=this.length||-n>this.length?k(e):n<0?this.get(this.length+n,e):this.children[this.length-1-n]}prependInternal(n){return super.appendInternal(n)}appendInternal(n){return super.prependInternal(n)}takeChildren(n){return super.dropChildren(this.length-n)}dropChildren(n){return super.takeChildren(this.length-n)}concatChildren(n){return n.context.isReversedLeafBlock(n)?this.copy(n.children.concat(this.children)):n.copy(Fr(this.children).concat(n.children))}updateAt(n,e){return n>=this.length||-n>this.length?this:n<0?this.updateAt(this.length+n,e):super.updateAt(this.length-1-n,e)}map(n,e=!1,r=0){if(!e){const u=gu(this.children,n,r);return super.copy2(u)}const i=vo(this.children,n,r);return super.copy2(i)}reversed(n=this.context.createCacheMap()){if(this.length===1)return this;const e=n.get(this);if(e!==void 0)return e;const r=this.context.leafBlock(this.children);return n.setAndReturn(this,r)}toArray(n,e=!1){let r;if(n===void 0)r=this.children;else{const i=de.getIndicesFor(n,this.length);if(i==="empty")return[];if(i==="all")r=this.children;else{const[u,a]=i,o=this.length-1-a,c=this.length-1-u;return e?this.children.slice(o,c+1):Fr(this.children,o,c)}}return e?r.slice():Fr(r)}_mutateSplitRight(n=this.children.length>>>1){const e=this.mutateChildren.splice(0,this.children.length-n);return this.copy(e)}structure(){return`<RLeaf ${this.length}>`}}class sm extends lm{constructor(n,e,r,i,u=e.length+r.length+(i===null?0:i.length)){super(),this.context=n,this.left=e,this.right=r,this.middle=i,this.length=u}getChildLength(){return 1}copy(n=this.left,e=this.right,r=this.middle){return n===this.left&&e===this.right&&r===this.middle?this:this.context.leafTree(n,e,r)}copy2(n,e,r){return this.context.leafTree(n,e,r)}stream(n=!1){return yo(this,void 0,n)}streamRange(n,e=!1){return yo(this,n,e)}get(n,e){return n>=this.length||-n>this.length?k(e):n<0?this.get(this.length+n,e):em(this,n)}prepend(n){return rm(this,n)}append(n){return im(this,n)}prependMiddle(n){var e,r;return(r=(e=this.middle)===null||e===void 0?void 0:e.prepend(n))!==null&&r!==void 0?r:this.context.nonLeafBlock(n.length,[n],1)}appendMiddle(n){var e,r;return(r=(e=this.middle)===null||e===void 0?void 0:e.append(n))!==null&&r!==void 0?r:this.context.nonLeafBlock(n.length,[n],1)}take(n){if(n===0)return this.context.empty();if(n>=this.length||-n>this.length)return this;if(n<0)return this.drop(this.length+n);const e=n-this.left.length;if(e<=0)return this.left.take(n);if(this.middle===null)return this.copy(void 0,this.right.takeChildren(e))._normalize();const r=e-this.middle.length;if(r>0){const c=this.right.takeChildren(r);return this.copy(void 0,c)._normalize()}const[i,u,a]=this.middle.takeInternal(e),o=u.takeChildren(a);return this.copy(void 0,o,i)._normalize()}drop(n){if(n===0)return this;if(n>=this.length||-n>this.length)return this.context.empty();if(n<0)return this.take(this.length+n);const e=n-this.left.length;if(e<0){const c=this.left.dropChildren(n);return this.copy(c)._normalize()}if(this.middle===null)return this.right.drop(e);const r=e-this.middle.length;if(r>=0)return this.right.drop(r);const[i,u,a]=this.middle.dropInternal(e),o=u.dropChildren(a);return this.copy(o,void 0,i)._normalize()}concat(...n){const e=this.context.from(...n);if(e.nonEmpty()){if(this.context.isLeafBlock(e))return this.concatBlock(e);if(this.context.isLeafTree(e))return this.concatTree(e);Pt()}return this}concatBlock(n){if(this.right.length+n.length<=this.context.maxBlockSize){const u=this.right.concatChildren(n);return this.copy(void 0,u)}if(this.right.childrenInMin){const u=this.appendMiddle(this.right);return this.copy(void 0,n,u)}const e=this.right.concatChildren(n),r=e._mutateSplitRight(this.context.maxBlockSize),i=this.appendMiddle(e);return this.copy(void 0,r,i)}concatTree(n){const e=this.right.length+n.left.length;if(e<this.context.minBlockSize){if(this.middle===null){const g=this.left.concatChildren(this.right).concatChildren(n.left),I=g._mutateSplitRight(g.children.length-this.context.maxBlockSize),A=n.prependMiddle(I);return n.copy(g,void 0,A)}const[o,c]=this.middle.dropLast(),l=c.concatChildren(this.right).concatChildren(n.left);if(l.childrenInMax){const g=o===null?n.prependMiddle(l):o.concat(n.prependMiddle(l));return this.copy(void 0,n.right,g)}const f=l._mutateSplitRight(),h=o===null?n.prependMiddle(f).prepend(l):n.middle===null?o.append(l).append(f):o.append(l).append(f).concat(n.middle);return this.copy(void 0,n.right,h)}if(e<=this.context.maxBlockSize){const o=this.right.concatChildren(n.left),c=this.appendMiddle(o),l=n.middle===null?c:c.concat(n.middle);return this.copy(void 0,n.right,l)}if(this.right.childrenInMin&&n.left.childrenInMin){const o=this.appendMiddle(this.right).append(n.left),c=n.middle===null?o:o.concat(n.middle);return this.copy(void 0,n.right,c)}const r=this.right.concatChildren(n.left),i=r._mutateSplitRight(),u=this.appendMiddle(r).append(i),a=n.middle===null?u:u.concat(n.middle);return this.copy(void 0,n.right,a)}updateAt(n,e){return n>=this.length||-n>this.length?this:n<0?this.updateAt(this.length+n,e):um(this,n,e)}forEach(n,e=rn()){e.halted||om(this,n,e)}mapPure(n,e=!1,r=this.context.createCacheMap()){const i=r.get(this);if(i)return i;const u=this.left.mapPure(n,e,r),a=this.middle===null?null:this.middle.mapPure(n,e,r),o=this.right.mapPure(n,e,r),c=e?this.copy2(o,u,a):this.copy2(u,o,a);return r.setAndReturn(this,c)}map(n,e=!1,r=0){let i=r;if(e){const c=this.right.map(n,!0,i);i+=this.right.length;const l=this.middle===null?null:this.middle.map(n,!0,i);this.middle!==null&&(i+=this.middle.length);const f=this.left.map(n,!0,i);return this.copy2(c,f,l)}const u=this.left.map(n,!1,i);i+=this.left.length;const a=this.middle===null?null:this.middle.map(n,!1,i);this.middle!==null&&(i+=this.middle.length);const o=this.right.map(n,!1,i);return this.copy2(u,o,a)}reversed(n=this.context.createCacheMap()){var e,r;const i=n.get(this);if(i!==void 0)return i;const u=(r=(e=this.middle)===null||e===void 0?void 0:e.reversed(n))!==null&&r!==void 0?r:null,a=this.right.reversed(n),o=this.left===this.right?a:this.left.reversed(n),c=this.copy(a,o,u);return n.setAndReturn(this,c)}toArray(n,e=!1){return am(this,n,e)}_normalize(){if(this.middle===null){if(this.length<=this.context.maxBlockSize)return this.left.concatChildren(this.right)}else if(this.context.isNonLeafBlock(this.middle)){if(this.length<=this.context.maxBlockSize)return this.left.concatChildren(this.middle.getChild(0)).concatChildren(this.right);const n=this.middle.getChild(0);if(this.left.length+n.length<=this.context.maxBlockSize){const r=this.middle.dropFirst(),i=r[0],u=r[1];return this.copy(this.left.concatChildren(u),void 0,i)}const e=this.middle.getChild(this.middle.nrChildren-1);if(this.right.length+e.length<=this.context.maxBlockSize){const r=this.middle.dropLast(),i=r[0],u=r[1];return this.copy(void 0,u.concatChildren(this.right),i)}}return this}structure(){return`<LeafTree len:${this.length}
 l:${this.left.structure()}
 m: ${this.middle&&this.middle.structure()}
 r:${this.right.structure()}
>`}}class hm{get(n,e){var r,i;const u=n-this.left.length;if(u<0)return this.left.get(n,e);const a=u-((i=(r=this.middle)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0);return a>=0?this.right.get(a,e):(this.middle===void 0&&Pt(),this.middle.get(u,e))}updateAt(n,e,r){var i,u;const a=n-this.left.length;if(a<0)return this.left.updateAt(n,e,r);const o=a-((u=(i=this.middle)===null||i===void 0?void 0:i.length)!==null&&u!==void 0?u:0);return o>=0?this.right.updateAt(o,e,r):(this.middle===void 0&&Pt(),this.middle.updateAt(a,e,r))}prepend(n){if(this.length+=this.getChildLength(n),this.left.nrChildren<this.context.maxBlockSize){this.left.prepend(n);return}if(this.middle!==void 0){if(this.middle.modifyFirstChild(i=>{if(i.nrChildren<this.context.maxBlockSize){const u=this.left.dropLast();return this.left.prepend(n),i.prepend(u),this.getChildLength(u)}})!==void 0)return}else if(this.right.nrChildren<this.context.maxBlockSize){const r=this.left.dropLast();this.left.prepend(n),this.right.prepend(r);return}this.left.prepend(n);const e=this.left.splitRight(1);this.prependMiddle(e)}append(n){if(this.length+=this.getChildLength(n),this.right.nrChildren<this.context.maxBlockSize){this.right.append(n);return}if(this.middle!==void 0){if(this.middle.modifyLastChild(i=>{if(i.nrChildren<this.context.maxBlockSize){const u=this.right.dropFirst();return this.right.append(n),i.append(u),this.getChildLength(u)}})!==void 0)return}else if(this.left.nrChildren<this.context.maxBlockSize){const r=this.right.dropFirst();this.right.append(n),this.left.append(r);return}this.right.append(n);const e=this.right.splitRight(this.context.maxBlockSize);this.appendMiddle(this.right),this.right=e}remove(n){var e,r;this.length--;const i=n-this.left.length;if(i<0){const o=this.left.remove(n);if(this.left.nrChildren>=this.context.minBlockSize)return o;if(this.middle!==void 0){if(this.middle.modifyFirstChild(f=>{if(f.nrChildren>this.context.minBlockSize){const h=f.dropFirst();return this.left.append(h),-this.getChildLength(h)}})!==void 0)return o;const l=this.middle.dropFirst();return this.middle=this.middle.normalized(),this.left.concat(l),o}else if(this.right.nrChildren>this.context.minBlockSize){const c=this.right.dropFirst();return this.left.append(c),o}Pt()}const u=i-((r=(e=this.middle)===null||e===void 0?void 0:e.length)!==null&&r!==void 0?r:0);if(u>=0){const o=this.right.remove(u);if(this.right.nrChildren>=this.context.minBlockSize)return o;if(this.middle!==void 0){if(this.middle.modifyLastChild(f=>{if(f.nrChildren>this.context.minBlockSize){const h=f.dropLast();return this.right.prepend(h),-this.getChildLength(h)}})!==void 0)return o;const l=this.middle.dropLast();return this.middle=this.middle.normalized(),l.concat(this.right),this.right=l,o}else if(this.left.nrChildren>this.context.minBlockSize){const c=this.left.dropLast();return this.right.prepend(c),o}Pt()}this.middle===void 0&&Pt();const a=this.middle.remove(i);return this.middle=this.middle.normalized(),a}insert(n,e){var r,i;this.length++;const u=n-this.left.length;if(u<=0){if(this.left.insert(n,e),this.left.nrChildren<=this.context.maxBlockSize)return;if(this.middle!==void 0){if(this.middle.modifyFirstChild(l=>{if(l.nrChildren<this.context.maxBlockSize){const f=this.left.dropLast();return l.prepend(f),this.getChildLength(f)}})!==void 0)return}else if(this.right.nrChildren<this.context.maxBlockSize){const c=this.left.dropLast();this.right.prepend(c);return}const o=this.left.splitRight();this.prependMiddle(o);return}const a=u-((i=(r=this.middle)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0);if(this.middle===void 0||a>=0){if(this.right.insert(a,e),this.right.nrChildren<=this.context.maxBlockSize)return;if(this.middle!==void 0){if(this.middle.modifyLastChild(l=>{if(l.nrChildren<this.context.maxBlockSize){const f=this.right.dropFirst();return l.append(f),this.getChildLength(f)}})!==void 0)return}else if(this.left.nrChildren<this.context.maxBlockSize){const c=this.right.dropFirst();this.left.append(c);return}const o=this.right.splitRight();this.appendMiddle(this.right),this.right=o;return}this.middle.insert(u,e),this.middle=this.middle.normalized()}prependMiddle(n){if(this.middle===void 0){this.middle=this.context.nonLeafBlockBuilder(this.level+1,[n],n.length);return}if(n.nrChildren>=this.context.minBlockSize){this.middle.prepend(n),this.middle=this.middle.normalized();return}if(this.middle.modifyFirstChild(u=>{if(n.nrChildren+u.nrChildren<=this.context.maxBlockSize)return u.concat(n,!0),n.length})!==void 0)return;const r=this.middle.dropFirst();n.concat(r);const i=n.splitRight();this.middle.prepend(i),this.middle.prepend(n),this.middle=this.middle.normalized()}appendMiddle(n){if(this.middle===void 0){this.middle=this.context.nonLeafBlockBuilder(this.level+1,[n],n.length);return}if(n.nrChildren>=this.context.minBlockSize){this.middle.append(n),this.middle=this.middle.normalized();return}if(this.middle.modifyLastChild(u=>{if(n.nrChildren+u.nrChildren<=this.context.maxBlockSize)return u.concat(n),n.length})!==void 0)return;const r=this.middle.last();r.concat(n);const i=r.splitRight();this.middle.append(i),this.middle=this.middle.normalized()}dropFirst(){const n=this.left.dropFirst();if(this.length-=this.getChildLength(n),this.left.nrChildren>=this.context.minBlockSize)return n;if(this.middle!==void 0){const e=this.middle.first();return this.left.nrChildren+e.nrChildren<=this.context.maxBlockSize&&(this.middle.dropFirst(),this.middle=this.middle.normalized(),this.left.concat(e)),n}if(this.left.nrChildren+this.right.nrChildren>this.context.maxBlockSize){const e=this.right.dropFirst();this.left.append(e)}return n}dropLast(){const n=this.right.dropLast();if(this.length-=this.getChildLength(n),this.right.nrChildren>=this.context.minBlockSize)return n;if(this.middle!==void 0){const e=this.middle.last();return e.nrChildren+this.right.nrChildren<=this.context.maxBlockSize&&(this.middle.dropLast(),this.middle=this.middle.normalized(),this.right.concat(e,!0)),n}if(this.left.nrChildren+this.right.nrChildren>this.context.maxBlockSize){const e=this.left.dropLast();this.right.prepend(e)}return n}forEach(n,e=rn()){e.halted||(this.left.forEach(n,e),!e.halted&&(this.middle!==void 0&&(this.middle.forEach(n,e),e.halted)||this.right.forEach(n,e)))}}class El extends hm{constructor(n,e,r,i,u,a){var o;a===void 0&&(a=(o=e?.length)!==null&&o!==void 0?o:0),super(),this.context=n,this.source=e,this._left=r,this._right=i,this._middle=u,this.length=a}prepareMutate(){var n,e,r;this.source!==void 0&&(this._left=this.context.leafBlockBuilderSource(this.source.left),this._right=this.context.leafBlockBuilderSource(this.source.right),this._middle=(r=(e=(n=this.source.middle)===null||n===void 0?void 0:n.createNonLeafBuilder)===null||e===void 0?void 0:e.call(n))!==null&&r!==void 0?r:void 0,this.source=void 0)}get level(){return 0}get left(){return this.prepareMutate(),this._left}set left(n){this.prepareMutate(),this._left=n}get right(){return this.prepareMutate(),this._right}set right(n){this.prepareMutate(),this._right=n}get middle(){return this.prepareMutate(),this._middle}set middle(n){this.prepareMutate(),this._middle=n}getChildLength(){return 1}appendChildren(n,e){if(n.length===0||e>=n.length)return;if(this.right.nrChildren<this.context.maxBlockSize){const i=n.slice(e,e+this.context.maxBlockSize-this.right.nrChildren);this.right.children=this.right.children.concat(i),this.length+=i.length,this.appendChildren(n,e+i.length);return}const r=n.slice(e,e+this.context.maxBlockSize);this.appendMiddle(this.right),this.right=this.context.leafBlockBuilder(r),this.length+=r.length,this.appendChildren(n,e+r.length)}normalized(){if(this.length<=this.context.maxBlockSize)return this.left.concat(this.right),this.left;if(this.middle!==void 0){if(this.middle.length+this.left.length<=this.context.maxBlockSize)this.left.concat(this.middle.first()),this.middle=void 0;else if(this.middle.length+this.right.length<=this.context.maxBlockSize){const n=this.middle.last();n.concat(this.right),this.right=n,this.middle=void 0}}return this}get(n,e){return this.source!==void 0?this.source.get(n,e):super.get(n,e)}build(){var n,e,r;return this.source!==void 0?this.source:this.context.leafTree(this.left.build(),this.right.build(),(r=(e=(n=this.middle)===null||n===void 0?void 0:n.build)===null||e===void 0?void 0:e.call(n))!==null&&r!==void 0?r:null)}buildMap(n){var e,r,i;return this.source!==void 0?this.source.map(n):this.context.leafTree(this.left.buildMap(n),this.right.buildMap(n),(i=(r=(e=this.middle)===null||e===void 0?void 0:e.buildMap)===null||r===void 0?void 0:r.call(e,n))!==null&&i!==void 0?i:null)}}class dm extends hm{constructor(n,e,r,i,u,a,o){var c;o===void 0&&(o=(c=r?.length)!==null&&c!==void 0?c:0),super(),this.context=n,this.level=e,this.source=r,this._left=i,this._right=u,this._middle=a,this.length=o}prepareMutate(){this.source!==void 0&&(this._left=this.source.left.createBlockBuilder(),this._right=this.source.right.createBlockBuilder(),this._middle=this.source.middle===null?void 0:this.source.middle.createNonLeafBuilder(),this.source=void 0)}get left(){return this.prepareMutate(),this._left}set left(n){this.prepareMutate(),this._left=n}get right(){return this.prepareMutate(),this._right}set right(n){this.prepareMutate(),this._right=n}get middle(){return this.prepareMutate(),this._middle}set middle(n){this.prepareMutate(),this._middle=n}getChildLength(n){return n.length}modifyFirstChild(n){const e=this.left.modifyFirstChild(n);return e!==void 0&&(this.length+=e),e}modifyLastChild(n){const e=this.right.modifyLastChild(n);return e!==void 0&&(this.length+=e),e}normalized(){return this.middle!==void 0?this:this.left.nrChildren+this.right.nrChildren<=this.context.maxBlockSize?(this.left.concat(this.right),this.left):this}first(){return this.left.first()}last(){return this.right.last()}get(n,e){return this.source!==void 0?this.source.get(n):super.get(n,e)}build(){var n,e,r;return this.source!==void 0?this.source:this.context.nonLeafTree(this.left.build(),this.right.build(),(r=(e=(n=this.middle)===null||n===void 0?void 0:n.build)===null||e===void 0?void 0:e.call(n))!==null&&r!==void 0?r:null,this.level)}buildMap(n){var e,r,i;return this.source!==void 0?this.source.map(n):this.context.nonLeafTree(this.left.buildMap(n),this.right.buildMap(n),(i=(r=(e=this.middle)===null||e===void 0?void 0:e.buildMap)===null||r===void 0?void 0:r.call(e,n))!==null&&i!==void 0?i:null,this.level)}}class pW{constructor(n){this.blockSizeBits=n,this.builder=()=>new go(this),this._empty=mW(this),this.empty=()=>this._empty,this.of=(...e)=>e.length<=this.maxBlockSize?this.leafBlock(e):this.from(e),this.from=(...e)=>{if(e.length===1){const a=e[0];if(a.context===this)return a}let r=null,i=-1;const u=e.length;for(;++i<u;){const a=e[i];if(!Vt(a))if(a.context===this)r===null?r=a:r=r.concat(a);else{const o=this.builder();if(Array.isArray(a)?o.appendArray(a):o.appendAll(a),!o.isEmpty){const c=o.build();r===null?r=c:r=r.concat(c)}}}return r===null?this.empty():r},this.fromString=(...e)=>this.from(...e),this.reducer=e=>rr.create(()=>e===void 0?this.builder():this.from(e).toBuilder(),(r,i)=>(r.append(i),r),r=>r.build()),this.flatten=e=>this.from(e).flatMap(r=>r),this.unzip=(e,r)=>{const i=Ot.unzip(e,r);return Ot.from(i).mapPure(this.from)},n<2&&Xw("List: blockSizeBits should be at least 2"),this.maxBlockSize=1<<n,this.minBlockSize=this.maxBlockSize>>>1}get typeTag(){return"List"}get _types(){}createBuilder(n){if(n===void 0||n.isEmpty)return new go(this);const e=n.context;if(e.isLeafBlock(n)){const r=this.leafBlockBuilderSource(n);return new go(this,r)}if(e.isLeafTree(n)){const r=this.leafTreeBuilderSource(n);return new go(this,r)}Pt()}leafBlock(n){return new wl(this,n)}reversedLeaf(n){return new fm(this,n)}leafTree(n,e,r){return new sm(this,n,e,r)}nonLeafBlock(n,e,r){return new nm(this,n,e,r)}nonLeafTree(n,e,r,i){return new cm(this,n,e,r,i)}leafBlockBuilderSource(n){return new Rl(this,n)}leafBlockBuilder(n){return new Rl(this,void 0,n)}leafTreeBuilderSource(n){return new El(this,n)}leafTreeBuilder(n,e,r,i){return new El(this,void 0,n,e,r,i)}nonLeafBlockBuilderSource(n){return new Al(this,n.level,n)}nonLeafBlockBuilder(n,e,r){return new Al(this,n,void 0,e,r)}nonLeafTreeBuilderSource(n){return new dm(this,n.level,n)}nonLeafTreeBuilder(n,e,r,i,u){return new dm(this,n,void 0,e,r,i,u)}isLeafBlock(n){return n instanceof wl}isReversedLeafBlock(n){return n instanceof fm}isNonLeafBlock(n){return n instanceof nm}isLeafTree(n){return n instanceof sm}isNonLeafTree(n){return n instanceof cm}isLeafBlockBuilder(n){return n instanceof Rl}isLeafTreeBuilder(n){return n instanceof El}isNonLeafBlockBuilder(n){return n instanceof Al}createCacheMap(){return new dW}}function vm(t){var n;return Object.freeze(new pW((n=t?.blockSizeBits)!==null&&n!==void 0?n:5))}const mm=vm(),Wl=Object.freeze(Object.assign({createContext:vm,defaultContext(){return mm}},mm));class gW{get isEmpty(){return this.size===0}forEach(n,e=rn()){if(this.isEmpty||e.halted)return;if(this.source!==void 0)return this.source.forEach(n,e);const{halt:r}=e;if(this._entries!==void 0){for(const i in this._entries)if(n(this._entries[i],e.nextIndex(),r),e.halted)break}if(this._entrySets!==void 0){for(const i in this._entrySets)if(this._entrySets[i].forEach(n,e),e.halted)break}}}class yW{get size(){return this.source!==void 0?this.source.size:this.entries.length}get entries(){return this._entries===void 0&&(this.source!==void 0?this._entries=this.source.entries.toBuilder():this._entries=Wl.builder()),this._entries}forEach(n,e=rn()){if(!e.halted){if(this.source!==void 0)return this.source.forEach(n,e);this.entries.forEach(n,e)}}}class Br extends gW{constructor(n,e,r,i,u,a){var o,c;u===void 0&&(u=(o=e?.size)!==null&&o!==void 0?o:0),a===void 0&&(a=(c=e?.level)!==null&&c!==void 0?c:0),super(),this.context=n,this.source=e,this._entries=r,this._entrySets=i,this.size=u,this.level=a,this._lock=0,this.get=(l,f,h)=>{if(this.source!==void 0)return this.source.get(l,f);if(!this.context.hasher.isValid(l))return k(f);const g=h??this.context.hash(l),I=this.context.getKeyIndex(this.level,g);if(I in this.entries){const A=this.entries[I];return this.context.eq(l,A[0])?A[1]:k(f)}return I in this.entrySets?this.entrySets[I].get(l,f,g):k(f)},this.hasKey=l=>{const f=Symbol();return f!==this.get(l,f)},this.addEntry=l=>(this.checkLock(),this.addEntryInternal(l)),this.addEntries=l=>(this.checkLock(),Vt(l)?!1:Ot.from(l).filter(this.addEntry).count()>0),this.set=(l,f)=>(this.checkLock(),this.addEntryInternal([l,f])),this.modifyAt=(l,f,h=this.context.hash(l))=>{this.checkLock();const g=this.context.getKeyIndex(this.level,h);if(g in this.entries){const A=this.entries[g],[_,M]=A;if(this.context.eq(l,_)){if(f.ifExists===void 0)return!1;const B=f.ifExists(M,Zt);if(B===M)return!1;if(this.source=void 0,Zt===B)return this.size--,delete this.entries[g],!0;const V=[l,B];return this.entries[g]=V,!0}if(f.ifNew===void 0)return!1;const E=Cr(f.ifNew,Zt);if(Zt===E)return!1;this.source=void 0,this.size++,delete this.entries[g];const O=this.level<this.context.maxDepth?new Br(this.context,void 0,void 0,void 0,0,this.level+1):new Ol(this.context);return O.addEntryInternal(A),O.addEntryInternal([l,E],h),this.entrySets[g]=O,!0}if(g in this.entrySets){const A=this.entrySets[g],_=A.size,M=A.modifyAt(l,f,h);if(M&&(this.source=void 0),this.size+=A.size-_,A.size>1)return M;let E;if(this.context.isHashMapBlockBuilder(A))for(const O in A.entries){E=A.entries[O];break}else E=A.entries.get(0,Pt);return delete this.entrySets[g],this.entries[g]=E,!0}if(f.ifNew===void 0)return!1;const I=Cr(f.ifNew,Zt);return Zt===I?!1:(this.source=void 0,this.size++,this.entries[g]=[l,I],!0)},this.updateAt=(l,f,h)=>{let g,I=!1;return this.modifyAt(l,{ifExists:A=>(g=A,I=!0,Lr(A,f))}),I?g:k(h)},this.removeKey=(l,f)=>{if(this.checkLock(),!this.context.hasher.isValid(l))return k(f);let h,g=!1;return this.modifyAt(l,{ifExists:(I,A)=>(h=I,g=!0,A)}),g?h:k(f)},this.removeKeys=l=>{if(this.checkLock(),Vt(l))return!1;const f=Symbol();return Ot.from(l).mapPure(this.removeKey,f).countNotElement(f)>0},this.forEach=(l,f=rn())=>{this._lock++,super.forEach(l,f),this._lock--},this.build=()=>this.size===0?this.context.empty():this.buildNE(),this.buildMapValues=l=>{if(this.size===0)return this.context.empty();if(this.source!==void 0)return this.source.mapValues(l);const f=this.entries.length===0?null:$i(this.entries,g=>[g[0],l(g[1],g[0])]),h=this.entrySets.length===0?null:$i(this.entrySets,g=>g.buildMapValues(l));return this.context.block(f,h,this.size,this.level)}}checkLock(){this._lock&&pl()}prepareMutate(){var n;this._entries===void 0&&(this.source!==void 0?this._entries=this.source.entries===null?[]:Ln(this.source.entries):this._entries=[]),this._entrySets===void 0&&(this.source!==void 0?this._entrySets=this.source.entrySets===null?[]:(n=$i(this.source.entrySets,e=>this.context.isHashMapBlock(e)?new Br(this.context,e):new Ol(this.context,e)))!==null&&n!==void 0?n:[]:this._entrySets=[])}get entries(){return this.prepareMutate(),this._entries}get entrySets(){return this.prepareMutate(),this._entrySets}addEntryInternal(n,e=this.context.hash(n[0])){const r=this.context.getKeyIndex(this.level,e);if(r in this.entries){const i=this.entries[r];if(this.context.eq(n[0],i[0]))return Object.is(n[1],i[1])?!1:(this.source=void 0,this.entries[r]=n,!0);if(this.source=void 0,this.size++,delete this.entries[r],this.level<this.context.maxDepth){const o=new Br(this.context,void 0,void 0,void 0,0,this.level+1);return o.addEntryInternal(i),o.addEntryInternal(n,e),this.entrySets[r]=o,!0}const u=Wl.builder();u.append(i),u.append(n);const a=new Ol(this.context,void 0,u);return this.entrySets[r]=a,!0}if(r in this.entrySets){const i=this.entrySets[r],u=i.size,a=i.addEntryInternal(n,e);return a&&(this.source=void 0),this.size+=i.size-u,a}return this.source=void 0,this.size++,this.entries[r]=n,!0}buildNE(){if(this.source!==void 0)return this.source;const n=this.entries.length===0?null:Ln(this.entries),e=this.entrySets.length===0?null:$i(this.entrySets,r=>r.buildNE());return this.context.block(n,e,this.size,this.level)}}class Ol extends yW{constructor(n,e,r){super(),this.context=n,this.source=e,this._entries=r}get(n,e,r){if(!this.context.hasher.isValid(n))return k(e);if(this.source!==void 0)return this.source.get(n,e);const i=Symbol();let u=i;return this.entries.forEach((a,o,c)=>{this.context.eq(n,a[0])&&(u=a[1],c())}),i===u?k(e):u}addEntryInternal(n){let e=-1;if(this.entries.forEach((u,a,o)=>{this.context.eq(u[0],n[0])&&(e=a,o())}),e<0)return this.source=void 0,this.entries.append(n),!0;const r=this.entries.updateAt(e,u=>Object.is(u[1],n[1])?u:n),i=r===void 0||!Object.is(r[1],n[1])||!Object.is(r[0],n[0]);return i&&(this.source=void 0),i}set(n,e){return this.addEntryInternal([n,e])}modifyAt(n,e){let r=-1,i;if(this.entries.forEach((c,l,f)=>{this.context.eq(c[0],n)&&(r=l,i=c,f())}),i===void 0){if(e.ifNew===void 0)return!1;const c=Cr(e.ifNew,Zt);return Zt===c?!1:(this.source=void 0,this.entries.append([n,c]),!0)}if(e.ifExists===void 0)return!1;const u=e.ifExists(i[1],Zt);if(Object.is(u,i[1]))return!1;if(Zt===u)return this.source=void 0,this.entries.remove(r),!0;const o=this.entries.set(r,[n,u])!==void 0;return o&&(this.source=void 0),o}buildNE(){return this.source!==void 0?this.source:this.context.collision(this.entries.build().assumeNonEmpty())}buildMapValues(n){return this.source!==void 0?this.source.mapValues(n):this.context.collision(this.entries.buildMap(e=>[e[0],n(e[1],e[0])]).assumeNonEmpty())}}class _W extends bl.ContextBase{constructor(n,e,r,i){super(),this.hasher=n,this.eq=e,this.blockSizeBits=r,this.listContext=i,this.typeTag="HashMap",this.builder=()=>new Br(this),this.blockCapacity=1<<r,this.blockMask=this.blockCapacity-1,this.maxDepth=Math.ceil(32/r),this._empty=Object.freeze(new hW(this)),this._emptyBlock=Object.freeze(new Li(this,null,null,0,0))}hash(n){return this.hasher.hash(n)}getKeyIndex(n,e){const r=this.blockSizeBits*n;return e>>>r&this.blockMask}isNonEmptyInstance(n){return n instanceof Ml}createBuilder(n){return new Br(this,n)}isValidKey(n){return this.hasher.isValid(n)}emptyBlock(){return this._emptyBlock}block(n,e,r,i){return new Li(this,n,e,r,i)}collision(n){return new po(this,n)}isHashMapBlock(n){return n instanceof Li}isHashMapBlockBuilder(n){return n instanceof Br}}function pm(t){var n,e,r,i;return Object.freeze(new _W((n=t?.hasher)!==null&&n!==void 0?n:Sl.defaultHasher(),(e=t?.eq)!==null&&e!==void 0?e:Kn.defaultEq(),(r=t?.blockSizeBits)!==null&&r!==void 0?r:5,(i=t?.listContext)!==null&&i!==void 0?i:Wl.defaultContext()))}const gm=pm(),ym=Object.freeze(Object.assign(Object.assign({},gm),{createContext:pm,defaultContext(){return gm}}));function _m(t){var n,e;return Object.freeze(new sW((n=t?.keyValueContext)!==null&&n!==void 0?n:ym.defaultContext(),(e=t?.valueKeyContext)!==null&&e!==void 0?e:ym.defaultContext()))}const Im=_m(),IW=Object.freeze(Object.assign(Object.assign({},Im),{createContext:_m,defaultContext(){return Im}})),bW=t=>Object.fromEntries(t),SW=(t,n=0)=>{let e=3735928559^n,r=1103547991^n;for(let i=0,u;i<t.length;i++)u=t.charCodeAt(i),e=Math.imul(e^u,2654435761),r=Math.imul(r^u,1597334677);return e=Math.imul(e^e>>>16,2246822507),e^=Math.imul(r^r>>>13,3266489909),r=Math.imul(r^r>>>16,2246822507),r^=Math.imul(e^e>>>13,3266489909),4294967296*(2097151&r)+(e>>>0)},bm=Y(Zn.reverseGet,jw),MW=Y(qi(bm),vr(hv),ke(([t,n])=>[t,n])),RW=Y(rA(),t=>yv(t),t=>t.with({op:"addNode"},n=>Q(bm(n.id),ke(e=>({...n,id:e})))),t=>t.with({op:"addEdge"},n=>Q(MW([n.from,n.to]),ke(([e,r])=>({...n,from:e,to:r})))),t=>t.exhaustive()),AW=SW("uuidRngSeed"),wW=t=>n=>Q(t,qv,Lw(n),We.map(([e,r,i])=>u=>{const[a,o]=RW(e)(u);return[[a,r,i],o]}),e=>{let r={identityMap:{},rng:qv(HR(AW))};return We.comprehension([e],i=>{const[u,a]=i(r);return r=a,u})}),EW=t=>n=>{const e=new lo;let r=IW.empty(),i=0;return Q(wW(t)(n),u=>We.comprehension([u],a=>{const[o,c,l]=a;if(o.op==="addNode"){if(r.hasValue(o.id))throw new Error(`panic! duplicate id ${o.id}`);r=r.set(i,o.id),e.addVertex(i),i++}else if(o.op==="addEdge"){const f=co(r.getKey(o.from),`panic! missing vertex id ${o.from}`),h=co(r.getKey(o.to),`panic! missing vertex id ${o.to}`);e.addEdge(f,h)}else throw Zl(),new Error("unreachable");return{type:"step",streamState:c}}),We.concatW(Q(We.of(void 0),We.map(()=>({type:"end",graph:[e,bW(r.toArray())]})))))};onmessage=t=>{Q(EW(t.data.seed)(t.data.settings),We.map(n=>{postMessage(n)}),We.toArray)}})();
